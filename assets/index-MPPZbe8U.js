(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))c(m);new MutationObserver(m=>{for(const g of m)if(g.type==="childList")for(const b of g.addedNodes)b.tagName==="LINK"&&b.rel==="modulepreload"&&c(b)}).observe(document,{childList:!0,subtree:!0});function o(m){const g={};return m.integrity&&(g.integrity=m.integrity),m.referrerPolicy&&(g.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?g.credentials="include":m.crossOrigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function c(m){if(m.ep)return;m.ep=!0;const g=o(m);fetch(m.href,g)}})();var Hu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cp(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var lf={exports:{}},no={};var $1;function hp(){if($1)return no;$1=1;var s=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function o(c,m,g){var b=null;if(g!==void 0&&(b=""+g),m.key!==void 0&&(b=""+m.key),"key"in m){g={};for(var A in m)A!=="key"&&(g[A]=m[A])}else g=m;return m=g.ref,{$$typeof:s,type:c,key:b,ref:m!==void 0?m:null,props:g}}return no.Fragment=r,no.jsx=o,no.jsxs=o,no}var eg;function fp(){return eg||(eg=1,lf.exports=hp()),lf.exports}var G=fp(),of={exports:{}},Ye={};var tg;function dp(){if(tg)return Ye;tg=1;var s=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),g=Symbol.for("react.consumer"),b=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),k=Symbol.iterator;function B(F){return F===null||typeof F!="object"?null:(F=k&&F[k]||F["@@iterator"],typeof F=="function"?F:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,Z={};function le(F,oe,ve){this.props=F,this.context=oe,this.refs=Z,this.updater=ve||V}le.prototype.isReactComponent={},le.prototype.setState=function(F,oe){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,oe,"setState")},le.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function $(){}$.prototype=le.prototype;function X(F,oe,ve){this.props=F,this.context=oe,this.refs=Z,this.updater=ve||V}var pe=X.prototype=new $;pe.constructor=X,H(pe,le.prototype),pe.isPureReactComponent=!0;var ke=Array.isArray;function Ee(){}var ne={H:null,A:null,T:null,S:null},Ie=Object.prototype.hasOwnProperty;function de(F,oe,ve){var Ae=ve.ref;return{$$typeof:s,type:F,key:oe,ref:Ae!==void 0?Ae:null,props:ve}}function xn(F,oe){return de(F.type,oe,F.props)}function Ft(F){return typeof F=="object"&&F!==null&&F.$$typeof===s}function Ne(F){var oe={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(ve){return oe[ve]})}var it=/\/+/g;function Nt(F,oe){return typeof F=="object"&&F!==null&&F.key!=null?Ne(""+F.key):oe.toString(36)}function se(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(Ee,Ee):(F.status="pending",F.then(function(oe){F.status==="pending"&&(F.status="fulfilled",F.value=oe)},function(oe){F.status==="pending"&&(F.status="rejected",F.reason=oe)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function re(F,oe,ve,Ae,He){var be=typeof F;(be==="undefined"||be==="boolean")&&(F=null);var ct=!1;if(F===null)ct=!0;else switch(be){case"bigint":case"string":case"number":ct=!0;break;case"object":switch(F.$$typeof){case s:case r:ct=!0;break;case T:return ct=F._init,re(ct(F._payload),oe,ve,Ae,He)}}if(ct)return He=He(F),ct=Ae===""?"."+Nt(F,0):Ae,ke(He)?(ve="",ct!=null&&(ve=ct.replace(it,"$&/")+"/"),re(He,oe,ve,"",function(Ui){return Ui})):He!=null&&(Ft(He)&&(He=xn(He,ve+(He.key==null||F&&F.key===He.key?"":(""+He.key).replace(it,"$&/")+"/")+ct)),oe.push(He)),1;ct=0;var ht=Ae===""?".":Ae+":";if(ke(F))for(var Lt=0;Lt<F.length;Lt++)Ae=F[Lt],be=ht+Nt(Ae,Lt),ct+=re(Ae,oe,ve,be,He);else if(Lt=B(F),typeof Lt=="function")for(F=Lt.call(F),Lt=0;!(Ae=F.next()).done;)Ae=Ae.value,be=ht+Nt(Ae,Lt++),ct+=re(Ae,oe,ve,be,He);else if(be==="object"){if(typeof F.then=="function")return re(se(F),oe,ve,Ae,He);throw oe=String(F),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.")}return ct}function he(F,oe,ve){if(F==null)return F;var Ae=[],He=0;return re(F,Ae,"","",function(be){return oe.call(ve,be,He++)}),Ae}function Be(F){if(F._status===-1){var oe=F._result;oe=oe(),oe.then(function(ve){(F._status===0||F._status===-1)&&(F._status=1,F._result=ve)},function(ve){(F._status===0||F._status===-1)&&(F._status=2,F._result=ve)}),F._status===-1&&(F._status=0,F._result=oe)}if(F._status===1)return F._result.default;throw F._result}var Je=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var oe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(oe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)},rt={map:he,forEach:function(F,oe,ve){he(F,function(){oe.apply(this,arguments)},ve)},count:function(F){var oe=0;return he(F,function(){oe++}),oe},toArray:function(F){return he(F,function(oe){return oe})||[]},only:function(F){if(!Ft(F))throw Error("React.Children.only expected to receive a single React element child.");return F}};return Ye.Activity=R,Ye.Children=rt,Ye.Component=le,Ye.Fragment=o,Ye.Profiler=m,Ye.PureComponent=X,Ye.StrictMode=c,Ye.Suspense=S,Ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ne,Ye.__COMPILER_RUNTIME={__proto__:null,c:function(F){return ne.H.useMemoCache(F)}},Ye.cache=function(F){return function(){return F.apply(null,arguments)}},Ye.cacheSignal=function(){return null},Ye.cloneElement=function(F,oe,ve){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var Ae=H({},F.props),He=F.key;if(oe!=null)for(be in oe.key!==void 0&&(He=""+oe.key),oe)!Ie.call(oe,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&oe.ref===void 0||(Ae[be]=oe[be]);var be=arguments.length-2;if(be===1)Ae.children=ve;else if(1<be){for(var ct=Array(be),ht=0;ht<be;ht++)ct[ht]=arguments[ht+2];Ae.children=ct}return de(F.type,He,Ae)},Ye.createContext=function(F){return F={$$typeof:b,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:g,_context:F},F},Ye.createElement=function(F,oe,ve){var Ae,He={},be=null;if(oe!=null)for(Ae in oe.key!==void 0&&(be=""+oe.key),oe)Ie.call(oe,Ae)&&Ae!=="key"&&Ae!=="__self"&&Ae!=="__source"&&(He[Ae]=oe[Ae]);var ct=arguments.length-2;if(ct===1)He.children=ve;else if(1<ct){for(var ht=Array(ct),Lt=0;Lt<ct;Lt++)ht[Lt]=arguments[Lt+2];He.children=ht}if(F&&F.defaultProps)for(Ae in ct=F.defaultProps,ct)He[Ae]===void 0&&(He[Ae]=ct[Ae]);return de(F,be,He)},Ye.createRef=function(){return{current:null}},Ye.forwardRef=function(F){return{$$typeof:A,render:F}},Ye.isValidElement=Ft,Ye.lazy=function(F){return{$$typeof:T,_payload:{_status:-1,_result:F},_init:Be}},Ye.memo=function(F,oe){return{$$typeof:v,type:F,compare:oe===void 0?null:oe}},Ye.startTransition=function(F){var oe=ne.T,ve={};ne.T=ve;try{var Ae=F(),He=ne.S;He!==null&&He(ve,Ae),typeof Ae=="object"&&Ae!==null&&typeof Ae.then=="function"&&Ae.then(Ee,Je)}catch(be){Je(be)}finally{oe!==null&&ve.types!==null&&(oe.types=ve.types),ne.T=oe}},Ye.unstable_useCacheRefresh=function(){return ne.H.useCacheRefresh()},Ye.use=function(F){return ne.H.use(F)},Ye.useActionState=function(F,oe,ve){return ne.H.useActionState(F,oe,ve)},Ye.useCallback=function(F,oe){return ne.H.useCallback(F,oe)},Ye.useContext=function(F){return ne.H.useContext(F)},Ye.useDebugValue=function(){},Ye.useDeferredValue=function(F,oe){return ne.H.useDeferredValue(F,oe)},Ye.useEffect=function(F,oe){return ne.H.useEffect(F,oe)},Ye.useEffectEvent=function(F){return ne.H.useEffectEvent(F)},Ye.useId=function(){return ne.H.useId()},Ye.useImperativeHandle=function(F,oe,ve){return ne.H.useImperativeHandle(F,oe,ve)},Ye.useInsertionEffect=function(F,oe){return ne.H.useInsertionEffect(F,oe)},Ye.useLayoutEffect=function(F,oe){return ne.H.useLayoutEffect(F,oe)},Ye.useMemo=function(F,oe){return ne.H.useMemo(F,oe)},Ye.useOptimistic=function(F,oe){return ne.H.useOptimistic(F,oe)},Ye.useReducer=function(F,oe,ve){return ne.H.useReducer(F,oe,ve)},Ye.useRef=function(F){return ne.H.useRef(F)},Ye.useState=function(F){return ne.H.useState(F)},Ye.useSyncExternalStore=function(F,oe,ve){return ne.H.useSyncExternalStore(F,oe,ve)},Ye.useTransition=function(){return ne.H.useTransition()},Ye.version="19.2.4",Ye}var ng;function Uf(){return ng||(ng=1,of.exports=dp()),of.exports}var J=Uf();const gp=cp(J);var uf={exports:{}},io={},cf={exports:{}},hf={};var ig;function mp(){return ig||(ig=1,(function(s){function r(re,he){var Be=re.length;re.push(he);e:for(;0<Be;){var Je=Be-1>>>1,rt=re[Je];if(0<m(rt,he))re[Je]=he,re[Be]=rt,Be=Je;else break e}}function o(re){return re.length===0?null:re[0]}function c(re){if(re.length===0)return null;var he=re[0],Be=re.pop();if(Be!==he){re[0]=Be;e:for(var Je=0,rt=re.length,F=rt>>>1;Je<F;){var oe=2*(Je+1)-1,ve=re[oe],Ae=oe+1,He=re[Ae];if(0>m(ve,Be))Ae<rt&&0>m(He,ve)?(re[Je]=He,re[Ae]=Be,Je=Ae):(re[Je]=ve,re[oe]=Be,Je=oe);else if(Ae<rt&&0>m(He,Be))re[Je]=He,re[Ae]=Be,Je=Ae;else break e}}return he}function m(re,he){var Be=re.sortIndex-he.sortIndex;return Be!==0?Be:re.id-he.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var g=performance;s.unstable_now=function(){return g.now()}}else{var b=Date,A=b.now();s.unstable_now=function(){return b.now()-A}}var S=[],v=[],T=1,R=null,k=3,B=!1,V=!1,H=!1,Z=!1,le=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function pe(re){for(var he=o(v);he!==null;){if(he.callback===null)c(v);else if(he.startTime<=re)c(v),he.sortIndex=he.expirationTime,r(S,he);else break;he=o(v)}}function ke(re){if(H=!1,pe(re),!V)if(o(S)!==null)V=!0,Ee||(Ee=!0,Ne());else{var he=o(v);he!==null&&se(ke,he.startTime-re)}}var Ee=!1,ne=-1,Ie=5,de=-1;function xn(){return Z?!0:!(s.unstable_now()-de<Ie)}function Ft(){if(Z=!1,Ee){var re=s.unstable_now();de=re;var he=!0;try{e:{V=!1,H&&(H=!1,$(ne),ne=-1),B=!0;var Be=k;try{t:{for(pe(re),R=o(S);R!==null&&!(R.expirationTime>re&&xn());){var Je=R.callback;if(typeof Je=="function"){R.callback=null,k=R.priorityLevel;var rt=Je(R.expirationTime<=re);if(re=s.unstable_now(),typeof rt=="function"){R.callback=rt,pe(re),he=!0;break t}R===o(S)&&c(S),pe(re)}else c(S);R=o(S)}if(R!==null)he=!0;else{var F=o(v);F!==null&&se(ke,F.startTime-re),he=!1}}break e}finally{R=null,k=Be,B=!1}he=void 0}}finally{he?Ne():Ee=!1}}}var Ne;if(typeof X=="function")Ne=function(){X(Ft)};else if(typeof MessageChannel<"u"){var it=new MessageChannel,Nt=it.port2;it.port1.onmessage=Ft,Ne=function(){Nt.postMessage(null)}}else Ne=function(){le(Ft,0)};function se(re,he){ne=le(function(){re(s.unstable_now())},he)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(re){re.callback=null},s.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ie=0<re?Math.floor(1e3/re):5},s.unstable_getCurrentPriorityLevel=function(){return k},s.unstable_next=function(re){switch(k){case 1:case 2:case 3:var he=3;break;default:he=k}var Be=k;k=he;try{return re()}finally{k=Be}},s.unstable_requestPaint=function(){Z=!0},s.unstable_runWithPriority=function(re,he){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var Be=k;k=re;try{return he()}finally{k=Be}},s.unstable_scheduleCallback=function(re,he,Be){var Je=s.unstable_now();switch(typeof Be=="object"&&Be!==null?(Be=Be.delay,Be=typeof Be=="number"&&0<Be?Je+Be:Je):Be=Je,re){case 1:var rt=-1;break;case 2:rt=250;break;case 5:rt=1073741823;break;case 4:rt=1e4;break;default:rt=5e3}return rt=Be+rt,re={id:T++,callback:he,priorityLevel:re,startTime:Be,expirationTime:rt,sortIndex:-1},Be>Je?(re.sortIndex=Be,r(v,re),o(S)===null&&re===o(v)&&(H?($(ne),ne=-1):H=!0,se(ke,Be-Je))):(re.sortIndex=rt,r(S,re),V||B||(V=!0,Ee||(Ee=!0,Ne()))),re},s.unstable_shouldYield=xn,s.unstable_wrapCallback=function(re){var he=k;return function(){var Be=k;k=he;try{return re.apply(this,arguments)}finally{k=Be}}}})(hf)),hf}var rg;function pp(){return rg||(rg=1,cf.exports=mp()),cf.exports}var ff={exports:{}},Pn={};var ag;function yp(){if(ag)return Pn;ag=1;var s=Uf();function r(S){var v="https://react.dev/errors/"+S;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)v+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+S+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var c={d:{f:o,r:function(){throw Error(r(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},m=Symbol.for("react.portal");function g(S,v,T){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:m,key:R==null?null:""+R,children:S,containerInfo:v,implementation:T}}var b=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function A(S,v){if(S==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=c,Pn.createPortal=function(S,v){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(r(299));return g(S,v,null,T)},Pn.flushSync=function(S){var v=b.T,T=c.p;try{if(b.T=null,c.p=2,S)return S()}finally{b.T=v,c.p=T,c.d.f()}},Pn.preconnect=function(S,v){typeof S=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,c.d.C(S,v))},Pn.prefetchDNS=function(S){typeof S=="string"&&c.d.D(S)},Pn.preinit=function(S,v){if(typeof S=="string"&&v&&typeof v.as=="string"){var T=v.as,R=A(T,v.crossOrigin),k=typeof v.integrity=="string"?v.integrity:void 0,B=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;T==="style"?c.d.S(S,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:R,integrity:k,fetchPriority:B}):T==="script"&&c.d.X(S,{crossOrigin:R,integrity:k,fetchPriority:B,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Pn.preinitModule=function(S,v){if(typeof S=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var T=A(v.as,v.crossOrigin);c.d.M(S,{crossOrigin:T,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&c.d.M(S)},Pn.preload=function(S,v){if(typeof S=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var T=v.as,R=A(T,v.crossOrigin);c.d.L(S,T,{crossOrigin:R,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Pn.preloadModule=function(S,v){if(typeof S=="string")if(v){var T=A(v.as,v.crossOrigin);c.d.m(S,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:T,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else c.d.m(S)},Pn.requestFormReset=function(S){c.d.r(S)},Pn.unstable_batchedUpdates=function(S,v){return S(v)},Pn.useFormState=function(S,v,T){return b.H.useFormState(S,v,T)},Pn.useFormStatus=function(){return b.H.useHostTransitionStatus()},Pn.version="19.2.4",Pn}var sg;function xp(){if(sg)return ff.exports;sg=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(r){console.error(r)}}return s(),ff.exports=yp(),ff.exports}var lg;function wp(){if(lg)return io;lg=1;var s=pp(),r=Uf(),o=xp();function c(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)n+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function m(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function g(e){var n=e,l=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(l=n.return),e=n.return;while(e)}return n.tag===3?l:null}function b(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function A(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function S(e){if(g(e)!==e)throw Error(c(188))}function v(e){var n=e.alternate;if(!n){if(n=g(e),n===null)throw Error(c(188));return n!==e?null:e}for(var l=e,f=n;;){var y=l.return;if(y===null)break;var w=y.alternate;if(w===null){if(f=y.return,f!==null){l=f;continue}break}if(y.child===w.child){for(w=y.child;w;){if(w===l)return S(y),e;if(w===f)return S(y),n;w=w.sibling}throw Error(c(188))}if(l.return!==f.return)l=y,f=w;else{for(var _=!1,D=y.child;D;){if(D===l){_=!0,l=y,f=w;break}if(D===f){_=!0,f=y,l=w;break}D=D.sibling}if(!_){for(D=w.child;D;){if(D===l){_=!0,l=w,f=y;break}if(D===f){_=!0,f=w,l=y;break}D=D.sibling}if(!_)throw Error(c(189))}}if(l.alternate!==f)throw Error(c(190))}if(l.tag!==3)throw Error(c(188));return l.stateNode.current===l?e:n}function T(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=T(e),n!==null)return n;e=e.sibling}return null}var R=Object.assign,k=Symbol.for("react.element"),B=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),le=Symbol.for("react.profiler"),$=Symbol.for("react.consumer"),X=Symbol.for("react.context"),pe=Symbol.for("react.forward_ref"),ke=Symbol.for("react.suspense"),Ee=Symbol.for("react.suspense_list"),ne=Symbol.for("react.memo"),Ie=Symbol.for("react.lazy"),de=Symbol.for("react.activity"),xn=Symbol.for("react.memo_cache_sentinel"),Ft=Symbol.iterator;function Ne(e){return e===null||typeof e!="object"?null:(e=Ft&&e[Ft]||e["@@iterator"],typeof e=="function"?e:null)}var it=Symbol.for("react.client.reference");function Nt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===it?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case H:return"Fragment";case le:return"Profiler";case Z:return"StrictMode";case ke:return"Suspense";case Ee:return"SuspenseList";case de:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case V:return"Portal";case X:return e.displayName||"Context";case $:return(e._context.displayName||"Context")+".Consumer";case pe:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ne:return n=e.displayName||null,n!==null?n:Nt(e.type)||"Memo";case Ie:n=e._payload,e=e._init;try{return Nt(e(n))}catch{}}return null}var se=Array.isArray,re=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Be={pending:!1,data:null,method:null,action:null},Je=[],rt=-1;function F(e){return{current:e}}function oe(e){0>rt||(e.current=Je[rt],Je[rt]=null,rt--)}function ve(e,n){rt++,Je[rt]=e.current,e.current=n}var Ae=F(null),He=F(null),be=F(null),ct=F(null);function ht(e,n){switch(ve(be,n),ve(He,e),ve(Ae,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?E1(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=E1(n),e=A1(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}oe(Ae),ve(Ae,e)}function Lt(){oe(Ae),oe(He),oe(be)}function Ui(e){e.memoizedState!==null&&ve(ct,e);var n=Ae.current,l=A1(n,e.type);n!==l&&(ve(He,e),ve(Ae,l))}function wn(e){He.current===e&&(oe(Ae),oe(He)),ct.current===e&&(oe(ct),Jl._currentValue=Be)}var Fr,ft;function Xn(e){if(Fr===void 0)try{throw Error()}catch(l){var n=l.stack.trim().match(/\n( *(at )?)/);Fr=n&&n[1]||"",ft=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fr+e+ft}var Wn=!1;function fr(e,n){if(!e||Wn)return"";Wn=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(n){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(ae){var ee=ae}Reflect.construct(e,[],fe)}else{try{fe.call()}catch(ae){ee=ae}e.call(fe.prototype)}}else{try{throw Error()}catch(ae){ee=ae}(fe=e())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(ae){if(ae&&ee&&typeof ae.stack=="string")return[ae.stack,ee.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=f.DetermineComponentFrameRoot(),_=w[0],D=w[1];if(_&&D){var U=_.split(`
`),Q=D.split(`
`);for(y=f=0;f<U.length&&!U[f].includes("DetermineComponentFrameRoot");)f++;for(;y<Q.length&&!Q[y].includes("DetermineComponentFrameRoot");)y++;if(f===U.length||y===Q.length)for(f=U.length-1,y=Q.length-1;1<=f&&0<=y&&U[f]!==Q[y];)y--;for(;1<=f&&0<=y;f--,y--)if(U[f]!==Q[y]){if(f!==1||y!==1)do if(f--,y--,0>y||U[f]!==Q[y]){var ue=`
`+U[f].replace(" at new "," at ");return e.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",e.displayName)),ue}while(1<=f&&0<=y);break}}}finally{Wn=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?Xn(l):""}function bn(e,n){switch(e.tag){case 26:case 27:case 5:return Xn(e.type);case 16:return Xn("Lazy");case 13:return e.child!==n&&n!==null?Xn("Suspense Fallback"):Xn("Suspense");case 19:return Xn("SuspenseList");case 0:case 15:return fr(e.type,!1);case 11:return fr(e.type.render,!1);case 1:return fr(e.type,!0);case 31:return Xn("Activity");default:return""}}function St(e){try{var n="",l=null;do n+=bn(e,l),l=e,e=e.return;while(e);return n}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var $e=Object.prototype.hasOwnProperty,Hr=s.unstable_scheduleCallback,_e=s.unstable_cancelCallback,os=s.unstable_shouldYield,So=s.unstable_requestPaint,Kt=s.unstable_now,ul=s.unstable_getCurrentPriorityLevel,Zn=s.unstable_ImmediatePriority,cl=s.unstable_UserBlockingPriority,ai=s.unstable_NormalPriority,Nn=s.unstable_LowPriority,hl=s.unstable_IdlePriority,us=s.log,hc=s.unstable_setDisableYieldValue,Pt=null,we=null;function Rt(e){if(typeof us=="function"&&hc(e),we&&typeof we.setStrictMode=="function")try{we.setStrictMode(Pt,e)}catch{}}var Xe=Math.clz32?Math.clz32:fl,qt=Math.log,Ia=Math.LN2;function fl(e){return e>>>=0,e===0?32:31-(qt(e)/Ia|0)|0}var Da=256,at=262144,Si=4194304;function $i(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ma(e,n,l){var f=e.pendingLanes;if(f===0)return 0;var y=0,w=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var D=f&134217727;return D!==0?(f=D&~w,f!==0?y=$i(f):(_&=D,_!==0?y=$i(_):l||(l=D&~e,l!==0&&(y=$i(l))))):(D=f&~w,D!==0?y=$i(D):_!==0?y=$i(_):l||(l=f&~e,l!==0&&(y=$i(l)))),y===0?0:n!==0&&n!==y&&(n&w)===0&&(w=y&-y,l=n&-n,w>=l||w===32&&(l&4194048)!==0)?n:y}function Rn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function dl(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vn(){var e=Si;return Si<<=1,(Si&62914560)===0&&(Si=4194304),e}function er(e){for(var n=[],l=0;31>l;l++)n.push(e);return n}function tr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ci(e,n,l,f,y,w){var _=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var D=e.entanglements,U=e.expirationTimes,Q=e.hiddenUpdates;for(l=_&~l;0<l;){var ue=31-Xe(l),fe=1<<ue;D[ue]=0,U[ue]=-1;var ee=Q[ue];if(ee!==null)for(Q[ue]=null,ue=0;ue<ee.length;ue++){var ae=ee[ue];ae!==null&&(ae.lane&=-536870913)}l&=~fe}f!==0&&Co(e,f,0),w!==0&&y===0&&e.tag!==0&&(e.suspendedLanes|=w&~(_&~n))}function Co(e,n,l){e.pendingLanes|=n,e.suspendedLanes&=~n;var f=31-Xe(n);e.entangledLanes|=n,e.entanglements[f]=e.entanglements[f]|1073741824|l&261930}function nr(e,n){var l=e.entangledLanes|=n;for(e=e.entanglements;l;){var f=31-Xe(l),y=1<<f;y&n|e[f]&n&&(e[f]|=n),l&=~y}}function cs(e,n){var l=n&-n;return l=(l&42)!==0?1:Tn(l),(l&(e.suspendedLanes|n))!==0?0:l}function Tn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ji(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function zn(){var e=he.p;return e!==0?e:(e=window.event,e===void 0?32:q1(e.type))}function Se(e,n){var l=he.p;try{return he.p=e,n()}finally{he.p=l}}var Fn=Math.random().toString(36).slice(2),sn="__reactFiber$"+Fn,Ct="__reactProps$"+Fn,si="__reactContainer$"+Fn,Vr="__reactEvents$"+Fn,hs="__reactListeners$"+Fn,_i="__reactHandles$"+Fn,_o="__reactResources$"+Fn,La="__reactMarker$"+Fn;function Kn(e){delete e[sn],delete e[Ct],delete e[Vr],delete e[hs],delete e[_i]}function Jt(e){var n=e[sn];if(n)return n;for(var l=e.parentNode;l;){if(n=l[si]||l[sn]){if(l=n.alternate,n.child!==null||l!==null&&l.child!==null)for(e=R1(e);e!==null;){if(l=e[sn])return l;e=R1(e)}return n}e=l,l=e.parentNode}return null}function xt(e){if(e=e[sn]||e[si]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Gr(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(c(33))}function Hn(e){var n=e[_o];return n||(n=e[_o]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function $t(e){e[La]=!0}var ge=new Set,To={};function vt(e,n){li(e,n),li(e+"Capture",n)}function li(e,n){for(To[e]=n,e=0;e<n.length;e++)ge.add(n[e])}var fc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gt={},dt={};function et(e){return $e.call(dt,e)?!0:$e.call(gt,e)?!1:fc.test(e)?dt[e]=!0:(gt[e]=!0,!1)}function Yr(e,n,l){if(et(n))if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var f=n.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+l)}}function qr(e,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+l)}}function oi(e,n,l,f){if(f===null)e.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(n,l,""+f)}}function mt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Pi(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function dc(e,n,l){var f=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var y=f.get,w=f.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return y.call(this)},set:function(_){l=""+_,w.call(this,_)}}),Object.defineProperty(e,n,{enumerable:f.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ht(e){if(!e._valueTracker){var n=Pi(e)?"checked":"value";e._valueTracker=dc(e,n,""+e[n])}}function zi(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var l=n.getValue(),f="";return e&&(f=Pi(e)?e.checked?"true":"false":e.value),e=f,e!==l?(n.setValue(e),!0):!1}function fs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Xr=/[\n"\\]/g;function Qe(e){return e.replace(Xr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function hn(e,n,l,f,y,w,_,D){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),n!=null?_==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+mt(n)):e.value!==""+mt(n)&&(e.value=""+mt(n)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),n!=null?M(e,_,mt(n)):l!=null?M(e,_,mt(l)):f!=null&&e.removeAttribute("value"),y==null&&w!=null&&(e.defaultChecked=!!w),y!=null&&(e.checked=y&&typeof y!="function"&&typeof y!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?e.name=""+mt(D):e.removeAttribute("name")}function W(e,n,l,f,y,w,_,D){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(e.type=w),n!=null||l!=null){if(!(w!=="submit"&&w!=="reset"||n!=null)){Ht(e);return}l=l!=null?""+mt(l):"",n=n!=null?""+mt(n):l,D||n===e.value||(e.value=n),e.defaultValue=n}f=f??y,f=typeof f!="function"&&typeof f!="symbol"&&!!f,e.checked=D?e.checked:!!f,e.defaultChecked=!!f,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),Ht(e)}function M(e,n,l){n==="number"&&fs(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function Oe(e,n,l,f){if(e=e.options,n){n={};for(var y=0;y<l.length;y++)n["$"+l[y]]=!0;for(l=0;l<e.length;l++)y=n.hasOwnProperty("$"+e[l].value),e[l].selected!==y&&(e[l].selected=y),y&&f&&(e[l].defaultSelected=!0)}else{for(l=""+mt(l),n=null,y=0;y<e.length;y++){if(e[y].value===l){e[y].selected=!0,f&&(e[y].defaultSelected=!0);return}n!==null||e[y].disabled||(n=e[y])}n!==null&&(n.selected=!0)}}function ln(e,n,l){if(n!=null&&(n=""+mt(n),n!==e.value&&(e.value=n),l==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=l!=null?""+mt(l):""}function Vn(e,n,l,f){if(n==null){if(f!=null){if(l!=null)throw Error(c(92));if(se(f)){if(1<f.length)throw Error(c(93));f=f[0]}l=f}l==null&&(l=""),n=l}l=mt(n),e.defaultValue=l,f=e.textContent,f===l&&f!==""&&f!==null&&(e.value=f),Ht(e)}function Wr(e,n){if(n){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=n;return}}e.textContent=n}var gl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Gn(e,n,l){var f=n.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?f?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":f?e.setProperty(n,l):typeof l!="number"||l===0||gl.has(n)?n==="float"?e.cssFloat=l:e[n]=(""+l).trim():e[n]=l+"px"}function Me(e,n,l){if(n!=null&&typeof n!="object")throw Error(c(62));if(e=e.style,l!=null){for(var f in l)!l.hasOwnProperty(f)||n!=null&&n.hasOwnProperty(f)||(f.indexOf("--")===0?e.setProperty(f,""):f==="float"?e.cssFloat="":e[f]="");for(var y in n)f=n[y],n.hasOwnProperty(y)&&l[y]!==f&&Gn(e,y,f)}else for(var w in n)n.hasOwnProperty(w)&&Gn(e,w,n[w])}function Bt(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zr(e){return gc.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Qn(){}var Ba=null;function ml(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Vt=null,Ti=null;function Fi(e){var n=xt(e);if(n&&(e=n.stateNode)){var l=e[Ct]||null;e:switch(e=n.stateNode,n.type){case"input":if(hn(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),n=l.name,l.type==="radio"&&n!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Qe(""+n)+'"][type="radio"]'),n=0;n<l.length;n++){var f=l[n];if(f!==e&&f.form===e.form){var y=f[Ct]||null;if(!y)throw Error(c(90));hn(f,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(n=0;n<l.length;n++)f=l[n],f.form===e.form&&zi(f)}break e;case"textarea":ln(e,l.value,l.defaultValue);break e;case"select":n=l.value,n!=null&&Oe(e,!!l.multiple,n,!1)}}}var Ue=!1;function No(e,n,l){if(Ue)return e(n,l);Ue=!0;try{var f=e(n);return f}finally{if(Ue=!1,(Vt!==null||Ti!==null)&&(bu(),Vt&&(n=Vt,e=Ti,Ti=Vt=null,Fi(n),e)))for(n=0;n<e.length;n++)Fi(e[n])}}function Ve(e,n){var l=e.stateNode;if(l===null)return null;var f=l[Ct]||null;if(f===null)return null;l=f[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(e=e.type,f=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!f;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(c(231,n,typeof l));return l}var kt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pl=!1;if(kt)try{var dr={};Object.defineProperty(dr,"passive",{get:function(){pl=!0}}),window.addEventListener("test",dr,dr),window.removeEventListener("test",dr,dr)}catch{pl=!1}var Hi=null,Vi=null,ds=null;function Kr(){if(ds)return ds;var e,n=Vi,l=n.length,f,y="value"in Hi?Hi.value:Hi.textContent,w=y.length;for(e=0;e<l&&n[e]===y[e];e++);var _=l-e;for(f=1;f<=_&&n[l-f]===y[w-f];f++);return ds=y.slice(e,1<f?1-f:void 0)}function ir(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function rr(){return!0}function yl(){return!1}function fn(e){function n(l,f,y,w,_){this._reactName=l,this._targetInst=y,this.type=f,this.nativeEvent=w,this.target=_,this.currentTarget=null;for(var D in e)e.hasOwnProperty(D)&&(l=e[D],this[D]=l?l(w):w[D]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?rr:yl,this.isPropagationStopped=yl,this}return R(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),n}var ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},En=fn(ui),Qr=R({},ui,{view:0,detail:0}),Ro=fn(Qr),gs,xl,ka,ms=R({},Qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ua,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ka&&(ka&&e.type==="mousemove"?(gs=e.screenX-ka.screenX,xl=e.screenY-ka.screenY):xl=gs=0,ka=e),gs)},movementY:function(e){return"movementY"in e?e.movementY:xl}}),wt=fn(ms),Io=R({},ms,{dataTransfer:0}),ps=fn(Io),ar=R({},Qr,{relatedTarget:0}),wl=fn(ar),ie=R({},ui,{animationName:0,elapsedTime:0,pseudoElement:0}),We=fn(ie),An=R({},ui,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ys=fn(An),Do=R({},ui,{data:0}),Mo=fn(Do),mc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function on(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=bl[e])?!!n[e]:!1}function Ua(){return on}var Xt=R({},Qr,{key:function(e){if(e.key){var n=mc[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ir(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pc[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ua,charCode:function(e){return e.type==="keypress"?ir(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ir(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),xs=fn(Xt),gr=R({},ms,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Et=fn(gr),je=R({},Qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ua}),yc=fn(je),Ut=R({},ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),mr=fn(Ut),Jr=R({},ms,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),xc=fn(Jr),Oi=R({},ui,{newState:0,oldState:0}),vl=fn(Oi),Lo=[9,13,27,32],ja=kt&&"CompositionEvent"in window,$r=null;kt&&"documentMode"in document&&($r=document.documentMode);var Bo=kt&&"TextEvent"in window&&!$r,ko=kt&&(!ja||$r&&8<$r&&11>=$r),pr=" ",ws=!1;function Uo(e,n){switch(e){case"keyup":return Lo.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ea(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ta=!1;function sr(e,n){switch(e){case"compositionend":return ea(n);case"keypress":return n.which!==32?null:(ws=!0,pr);case"textInput":return e=n.data,e===pr&&ws?null:e;default:return null}}function bs(e,n){if(ta)return e==="compositionend"||!ja&&Uo(e,n)?(e=Kr(),ds=Vi=Hi=null,ta=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ko&&n.locale!=="ko"?null:n.data;default:return null}}var Jn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function El(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Jn[e.type]:n==="textarea"}function ci(e,n,l,f){Vt?Ti?Ti.push(f):Ti=[f]:Vt=f,n=Tu(n,"onChange"),0<n.length&&(l=new En("onChange","change",null,l,f),e.push({event:l,listeners:n}))}var Pa=null,yr=null;function wc(e){p1(e,0)}function za(e){var n=Gr(e);if(zi(n))return e}function hi(e,n){if(e==="change")return n}var jo=!1;if(kt){var Fa;if(kt){var xr="oninput"in document;if(!xr){var st=document.createElement("div");st.setAttribute("oninput","return;"),xr=typeof st.oninput=="function"}Fa=xr}else Fa=!1;jo=Fa&&(!document.documentMode||9<document.documentMode)}function Ha(){Pa&&(Pa.detachEvent("onpropertychange",O),yr=Pa=null)}function O(e){if(e.propertyName==="value"&&za(yr)){var n=[];ci(n,yr,e,ml(e)),No(wc,n)}}function t(e,n,l){e==="focusin"?(Ha(),Pa=n,yr=l,Pa.attachEvent("onpropertychange",O)):e==="focusout"&&Ha()}function i(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return za(yr)}function a(e,n){if(e==="click")return za(n)}function u(e,n){if(e==="input"||e==="change")return za(n)}function h(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var d=typeof Object.is=="function"?Object.is:h;function p(e,n){if(d(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var l=Object.keys(e),f=Object.keys(n);if(l.length!==f.length)return!1;for(f=0;f<l.length;f++){var y=l[f];if(!$e.call(n,y)||!d(e[y],n[y]))return!1}return!0}function x(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function E(e,n){var l=x(e);e=0;for(var f;l;){if(l.nodeType===3){if(f=e+l.textContent.length,e<=n&&f>=n)return{node:l,offset:n-e};e=f}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=x(l)}}function C(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?C(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function N(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=fs(e.document);n instanceof e.HTMLIFrameElement;){try{var l=typeof n.contentWindow.location.href=="string"}catch{l=!1}if(l)e=n.contentWindow;else break;n=fs(e.document)}return n}function I(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var L=kt&&"documentMode"in document&&11>=document.documentMode,j=null,P=null,q=null,te=!1;function xe(e,n,l){var f=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;te||j==null||j!==fs(f)||(f=j,"selectionStart"in f&&I(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),q&&p(q,f)||(q=f,f=Tu(P,"onSelect"),0<f.length&&(n=new En("onSelect","select",null,n,l),e.push({event:n,listeners:f}),n.target=j)))}function ye(e,n){var l={};return l[e.toLowerCase()]=n.toLowerCase(),l["Webkit"+e]="webkit"+n,l["Moz"+e]="moz"+n,l}var me={animationend:ye("Animation","AnimationEnd"),animationiteration:ye("Animation","AnimationIteration"),animationstart:ye("Animation","AnimationStart"),transitionrun:ye("Transition","TransitionRun"),transitionstart:ye("Transition","TransitionStart"),transitioncancel:ye("Transition","TransitionCancel"),transitionend:ye("Transition","TransitionEnd")},Ke={},Ge={};kt&&(Ge=document.createElement("div").style,"AnimationEvent"in window||(delete me.animationend.animation,delete me.animationiteration.animation,delete me.animationstart.animation),"TransitionEvent"in window||delete me.transitionend.transition);function en(e){if(Ke[e])return Ke[e];if(!me[e])return e;var n=me[e],l;for(l in n)if(n.hasOwnProperty(l)&&l in Ge)return Ke[e]=n[l];return e}var $n=en("animationend"),In=en("animationiteration"),At=en("animationstart"),Sn=en("transitionrun"),Yn=en("transitionstart"),na=en("transitioncancel"),wr=en("transitionend"),Po=new Map,Al="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Al.push("scrollEnd");function Gi(e,n){Po.set(e,n),vt(n,[e])}var zo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ni=[],vs=0,bc=0;function Fo(){for(var e=vs,n=bc=vs=0;n<e;){var l=Ni[n];Ni[n++]=null;var f=Ni[n];Ni[n++]=null;var y=Ni[n];Ni[n++]=null;var w=Ni[n];if(Ni[n++]=null,f!==null&&y!==null){var _=f.pending;_===null?y.next=y:(y.next=_.next,_.next=y),f.pending=y}w!==0&&Qf(l,y,w)}}function Ho(e,n,l,f){Ni[vs++]=e,Ni[vs++]=n,Ni[vs++]=l,Ni[vs++]=f,bc|=f,e.lanes|=f,e=e.alternate,e!==null&&(e.lanes|=f)}function vc(e,n,l,f){return Ho(e,n,l,f),Vo(e)}function Va(e,n){return Ho(e,null,null,n),Vo(e)}function Qf(e,n,l){e.lanes|=l;var f=e.alternate;f!==null&&(f.lanes|=l);for(var y=!1,w=e.return;w!==null;)w.childLanes|=l,f=w.alternate,f!==null&&(f.childLanes|=l),w.tag===22&&(e=w.stateNode,e===null||e._visibility&1||(y=!0)),e=w,w=w.return;return e.tag===3?(w=e.stateNode,y&&n!==null&&(y=31-Xe(l),e=w.hiddenUpdates,f=e[y],f===null?e[y]=[n]:f.push(n),n.lane=l|536870912),w):null}function Vo(e){if(50<Yl)throw Yl=0,Rh=null,Error(c(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Es={};function Xm(e,n,l,f){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fi(e,n,l,f){return new Xm(e,n,l,f)}function Ec(e){return e=e.prototype,!(!e||!e.isReactComponent)}function br(e,n){var l=e.alternate;return l===null?(l=fi(e.tag,n,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=n,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,n=e.dependencies,l.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function Jf(e,n){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,n=l.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Go(e,n,l,f,y,w){var _=0;if(f=e,typeof e=="function")Ec(e)&&(_=1);else if(typeof e=="string")_=J2(e,l,Ae.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case de:return e=fi(31,l,n,y),e.elementType=de,e.lanes=w,e;case H:return Ga(l.children,y,w,n);case Z:_=8,y|=24;break;case le:return e=fi(12,l,n,y|2),e.elementType=le,e.lanes=w,e;case ke:return e=fi(13,l,n,y),e.elementType=ke,e.lanes=w,e;case Ee:return e=fi(19,l,n,y),e.elementType=Ee,e.lanes=w,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case X:_=10;break e;case $:_=9;break e;case pe:_=11;break e;case ne:_=14;break e;case Ie:_=16,f=null;break e}_=29,l=Error(c(130,e===null?"null":typeof e,"")),f=null}return n=fi(_,l,n,y),n.elementType=e,n.type=f,n.lanes=w,n}function Ga(e,n,l,f){return e=fi(7,e,f,n),e.lanes=l,e}function Ac(e,n,l){return e=fi(6,e,null,n),e.lanes=l,e}function $f(e){var n=fi(18,null,null,0);return n.stateNode=e,n}function Sc(e,n,l){return n=fi(4,e.children!==null?e.children:[],e.key,n),n.lanes=l,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var ed=new WeakMap;function Ri(e,n){if(typeof e=="object"&&e!==null){var l=ed.get(e);return l!==void 0?l:(n={value:e,source:n,stack:St(n)},ed.set(e,n),n)}return{value:e,source:n,stack:St(n)}}var As=[],Ss=0,Yo=null,Sl=0,Ii=[],Di=0,ia=null,lr=1,or="";function vr(e,n){As[Ss++]=Sl,As[Ss++]=Yo,Yo=e,Sl=n}function td(e,n,l){Ii[Di++]=lr,Ii[Di++]=or,Ii[Di++]=ia,ia=e;var f=lr;e=or;var y=32-Xe(f)-1;f&=~(1<<y),l+=1;var w=32-Xe(n)+y;if(30<w){var _=y-y%5;w=(f&(1<<_)-1).toString(32),f>>=_,y-=_,lr=1<<32-Xe(n)+y|l<<y|f,or=w+e}else lr=1<<w|l<<y|f,or=e}function Cc(e){e.return!==null&&(vr(e,1),td(e,1,0))}function _c(e){for(;e===Yo;)Yo=As[--Ss],As[Ss]=null,Sl=As[--Ss],As[Ss]=null;for(;e===ia;)ia=Ii[--Di],Ii[Di]=null,or=Ii[--Di],Ii[Di]=null,lr=Ii[--Di],Ii[Di]=null}function nd(e,n){Ii[Di++]=lr,Ii[Di++]=or,Ii[Di++]=ia,lr=n.id,or=n.overflow,ia=e}var Dn=null,Gt=null,ut=!1,ra=null,Mi=!1,Tc=Error(c(519));function aa(e){var n=Error(c(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Cl(Ri(n,e)),Tc}function id(e){var n=e.stateNode,l=e.type,f=e.memoizedProps;switch(n[sn]=e,n[Ct]=f,l){case"dialog":nt("cancel",n),nt("close",n);break;case"iframe":case"object":case"embed":nt("load",n);break;case"video":case"audio":for(l=0;l<Xl.length;l++)nt(Xl[l],n);break;case"source":nt("error",n);break;case"img":case"image":case"link":nt("error",n),nt("load",n);break;case"details":nt("toggle",n);break;case"input":nt("invalid",n),W(n,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":nt("invalid",n);break;case"textarea":nt("invalid",n),Vn(n,f.value,f.defaultValue,f.children)}l=f.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||n.textContent===""+l||f.suppressHydrationWarning===!0||b1(n.textContent,l)?(f.popover!=null&&(nt("beforetoggle",n),nt("toggle",n)),f.onScroll!=null&&nt("scroll",n),f.onScrollEnd!=null&&nt("scrollend",n),f.onClick!=null&&(n.onclick=Qn),n=!0):n=!1,n||aa(e,!0)}function rd(e){for(Dn=e.return;Dn;)switch(Dn.tag){case 5:case 31:case 13:Mi=!1;return;case 27:case 3:Mi=!0;return;default:Dn=Dn.return}}function Cs(e){if(e!==Dn)return!1;if(!ut)return rd(e),ut=!0,!1;var n=e.tag,l;if((l=n!==3&&n!==27)&&((l=n===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||Yh(e.type,e.memoizedProps)),l=!l),l&&Gt&&aa(e),rd(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));Gt=N1(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));Gt=N1(e)}else n===27?(n=Gt,wa(e.type)?(e=Kh,Kh=null,Gt=e):Gt=n):Gt=Dn?Bi(e.stateNode.nextSibling):null;return!0}function Ya(){Gt=Dn=null,ut=!1}function Oc(){var e=ra;return e!==null&&(ii===null?ii=e:ii.push.apply(ii,e),ra=null),e}function Cl(e){ra===null?ra=[e]:ra.push(e)}var Nc=F(null),qa=null,Er=null;function sa(e,n,l){ve(Nc,n._currentValue),n._currentValue=l}function Ar(e){e._currentValue=Nc.current,oe(Nc)}function Rc(e,n,l){for(;e!==null;){var f=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,f!==null&&(f.childLanes|=n)):f!==null&&(f.childLanes&n)!==n&&(f.childLanes|=n),e===l)break;e=e.return}}function Ic(e,n,l,f){var y=e.child;for(y!==null&&(y.return=e);y!==null;){var w=y.dependencies;if(w!==null){var _=y.child;w=w.firstContext;e:for(;w!==null;){var D=w;w=y;for(var U=0;U<n.length;U++)if(D.context===n[U]){w.lanes|=l,D=w.alternate,D!==null&&(D.lanes|=l),Rc(w.return,l,e),f||(_=null);break e}w=D.next}}else if(y.tag===18){if(_=y.return,_===null)throw Error(c(341));_.lanes|=l,w=_.alternate,w!==null&&(w.lanes|=l),Rc(_,l,e),_=null}else _=y.child;if(_!==null)_.return=y;else for(_=y;_!==null;){if(_===e){_=null;break}if(y=_.sibling,y!==null){y.return=_.return,_=y;break}_=_.return}y=_}}function _s(e,n,l,f){e=null;for(var y=n,w=!1;y!==null;){if(!w){if((y.flags&524288)!==0)w=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var _=y.alternate;if(_===null)throw Error(c(387));if(_=_.memoizedProps,_!==null){var D=y.type;d(y.pendingProps.value,_.value)||(e!==null?e.push(D):e=[D])}}else if(y===ct.current){if(_=y.alternate,_===null)throw Error(c(387));_.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(e!==null?e.push(Jl):e=[Jl])}y=y.return}e!==null&&Ic(n,e,l,f),n.flags|=262144}function qo(e){for(e=e.firstContext;e!==null;){if(!d(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Xa(e){qa=e,Er=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Mn(e){return ad(qa,e)}function Xo(e,n){return qa===null&&Xa(e),ad(e,n)}function ad(e,n){var l=n._currentValue;if(n={context:n,memoizedValue:l,next:null},Er===null){if(e===null)throw Error(c(308));Er=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Er=Er.next=n;return l}var Wm=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(l,f){e.push(f)}};this.abort=function(){n.aborted=!0,e.forEach(function(l){return l()})}},Zm=s.unstable_scheduleCallback,Km=s.unstable_NormalPriority,dn={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Dc(){return{controller:new Wm,data:new Map,refCount:0}}function _l(e){e.refCount--,e.refCount===0&&Zm(Km,function(){e.controller.abort()})}var Tl=null,Mc=0,Ts=0,Os=null;function Qm(e,n){if(Tl===null){var l=Tl=[];Mc=0,Ts=kh(),Os={status:"pending",value:void 0,then:function(f){l.push(f)}}}return Mc++,n.then(sd,sd),n}function sd(){if(--Mc===0&&Tl!==null){Os!==null&&(Os.status="fulfilled");var e=Tl;Tl=null,Ts=0,Os=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function Jm(e,n){var l=[],f={status:"pending",value:null,reason:null,then:function(y){l.push(y)}};return e.then(function(){f.status="fulfilled",f.value=n;for(var y=0;y<l.length;y++)(0,l[y])(n)},function(y){for(f.status="rejected",f.reason=y,y=0;y<l.length;y++)(0,l[y])(void 0)}),f}var ld=re.S;re.S=function(e,n){G0=Kt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Qm(e,n),ld!==null&&ld(e,n)};var Wa=F(null);function Lc(){var e=Wa.current;return e!==null?e:jt.pooledCache}function Wo(e,n){n===null?ve(Wa,Wa.current):ve(Wa,n.pool)}function od(){var e=Lc();return e===null?null:{parent:dn._currentValue,pool:e}}var Ns=Error(c(460)),Bc=Error(c(474)),Zo=Error(c(542)),Ko={then:function(){}};function ud(e){return e=e.status,e==="fulfilled"||e==="rejected"}function cd(e,n,l){switch(l=e[l],l===void 0?e.push(n):l!==n&&(n.then(Qn,Qn),n=l),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,fd(e),e;default:if(typeof n.status=="string")n.then(Qn,Qn);else{if(e=jt,e!==null&&100<e.shellSuspendCounter)throw Error(c(482));e=n,e.status="pending",e.then(function(f){if(n.status==="pending"){var y=n;y.status="fulfilled",y.value=f}},function(f){if(n.status==="pending"){var y=n;y.status="rejected",y.reason=f}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,fd(e),e}throw Ka=n,Ns}}function Za(e){try{var n=e._init;return n(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Ka=l,Ns):l}}var Ka=null;function hd(){if(Ka===null)throw Error(c(459));var e=Ka;return Ka=null,e}function fd(e){if(e===Ns||e===Zo)throw Error(c(483))}var Rs=null,Ol=0;function Qo(e){var n=Ol;return Ol+=1,Rs===null&&(Rs=[]),cd(Rs,e,n)}function Nl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Jo(e,n){throw n.$$typeof===k?Error(c(525)):(e=Object.prototype.toString.call(n),Error(c(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function dd(e){function n(Y,z){if(e){var K=Y.deletions;K===null?(Y.deletions=[z],Y.flags|=16):K.push(z)}}function l(Y,z){if(!e)return null;for(;z!==null;)n(Y,z),z=z.sibling;return null}function f(Y){for(var z=new Map;Y!==null;)Y.key!==null?z.set(Y.key,Y):z.set(Y.index,Y),Y=Y.sibling;return z}function y(Y,z){return Y=br(Y,z),Y.index=0,Y.sibling=null,Y}function w(Y,z,K){return Y.index=K,e?(K=Y.alternate,K!==null?(K=K.index,K<z?(Y.flags|=67108866,z):K):(Y.flags|=67108866,z)):(Y.flags|=1048576,z)}function _(Y){return e&&Y.alternate===null&&(Y.flags|=67108866),Y}function D(Y,z,K,ce){return z===null||z.tag!==6?(z=Ac(K,Y.mode,ce),z.return=Y,z):(z=y(z,K),z.return=Y,z)}function U(Y,z,K,ce){var Le=K.type;return Le===H?ue(Y,z,K.props.children,ce,K.key):z!==null&&(z.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===Ie&&Za(Le)===z.type)?(z=y(z,K.props),Nl(z,K),z.return=Y,z):(z=Go(K.type,K.key,K.props,null,Y.mode,ce),Nl(z,K),z.return=Y,z)}function Q(Y,z,K,ce){return z===null||z.tag!==4||z.stateNode.containerInfo!==K.containerInfo||z.stateNode.implementation!==K.implementation?(z=Sc(K,Y.mode,ce),z.return=Y,z):(z=y(z,K.children||[]),z.return=Y,z)}function ue(Y,z,K,ce,Le){return z===null||z.tag!==7?(z=Ga(K,Y.mode,ce,Le),z.return=Y,z):(z=y(z,K),z.return=Y,z)}function fe(Y,z,K){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=Ac(""+z,Y.mode,K),z.return=Y,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case B:return K=Go(z.type,z.key,z.props,null,Y.mode,K),Nl(K,z),K.return=Y,K;case V:return z=Sc(z,Y.mode,K),z.return=Y,z;case Ie:return z=Za(z),fe(Y,z,K)}if(se(z)||Ne(z))return z=Ga(z,Y.mode,K,null),z.return=Y,z;if(typeof z.then=="function")return fe(Y,Qo(z),K);if(z.$$typeof===X)return fe(Y,Xo(Y,z),K);Jo(Y,z)}return null}function ee(Y,z,K,ce){var Le=z!==null?z.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return Le!==null?null:D(Y,z,""+K,ce);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case B:return K.key===Le?U(Y,z,K,ce):null;case V:return K.key===Le?Q(Y,z,K,ce):null;case Ie:return K=Za(K),ee(Y,z,K,ce)}if(se(K)||Ne(K))return Le!==null?null:ue(Y,z,K,ce,null);if(typeof K.then=="function")return ee(Y,z,Qo(K),ce);if(K.$$typeof===X)return ee(Y,z,Xo(Y,K),ce);Jo(Y,K)}return null}function ae(Y,z,K,ce,Le){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return Y=Y.get(K)||null,D(z,Y,""+ce,Le);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case B:return Y=Y.get(ce.key===null?K:ce.key)||null,U(z,Y,ce,Le);case V:return Y=Y.get(ce.key===null?K:ce.key)||null,Q(z,Y,ce,Le);case Ie:return ce=Za(ce),ae(Y,z,K,ce,Le)}if(se(ce)||Ne(ce))return Y=Y.get(K)||null,ue(z,Y,ce,Le,null);if(typeof ce.then=="function")return ae(Y,z,K,Qo(ce),Le);if(ce.$$typeof===X)return ae(Y,z,K,Xo(z,ce),Le);Jo(z,ce)}return null}function Te(Y,z,K,ce){for(var Le=null,pt=null,Re=z,Ze=z=0,ot=null;Re!==null&&Ze<K.length;Ze++){Re.index>Ze?(ot=Re,Re=null):ot=Re.sibling;var yt=ee(Y,Re,K[Ze],ce);if(yt===null){Re===null&&(Re=ot);break}e&&Re&&yt.alternate===null&&n(Y,Re),z=w(yt,z,Ze),pt===null?Le=yt:pt.sibling=yt,pt=yt,Re=ot}if(Ze===K.length)return l(Y,Re),ut&&vr(Y,Ze),Le;if(Re===null){for(;Ze<K.length;Ze++)Re=fe(Y,K[Ze],ce),Re!==null&&(z=w(Re,z,Ze),pt===null?Le=Re:pt.sibling=Re,pt=Re);return ut&&vr(Y,Ze),Le}for(Re=f(Re);Ze<K.length;Ze++)ot=ae(Re,Y,Ze,K[Ze],ce),ot!==null&&(e&&ot.alternate!==null&&Re.delete(ot.key===null?Ze:ot.key),z=w(ot,z,Ze),pt===null?Le=ot:pt.sibling=ot,pt=ot);return e&&Re.forEach(function(Sa){return n(Y,Sa)}),ut&&vr(Y,Ze),Le}function Pe(Y,z,K,ce){if(K==null)throw Error(c(151));for(var Le=null,pt=null,Re=z,Ze=z=0,ot=null,yt=K.next();Re!==null&&!yt.done;Ze++,yt=K.next()){Re.index>Ze?(ot=Re,Re=null):ot=Re.sibling;var Sa=ee(Y,Re,yt.value,ce);if(Sa===null){Re===null&&(Re=ot);break}e&&Re&&Sa.alternate===null&&n(Y,Re),z=w(Sa,z,Ze),pt===null?Le=Sa:pt.sibling=Sa,pt=Sa,Re=ot}if(yt.done)return l(Y,Re),ut&&vr(Y,Ze),Le;if(Re===null){for(;!yt.done;Ze++,yt=K.next())yt=fe(Y,yt.value,ce),yt!==null&&(z=w(yt,z,Ze),pt===null?Le=yt:pt.sibling=yt,pt=yt);return ut&&vr(Y,Ze),Le}for(Re=f(Re);!yt.done;Ze++,yt=K.next())yt=ae(Re,Y,Ze,yt.value,ce),yt!==null&&(e&&yt.alternate!==null&&Re.delete(yt.key===null?Ze:yt.key),z=w(yt,z,Ze),pt===null?Le=yt:pt.sibling=yt,pt=yt);return e&&Re.forEach(function(up){return n(Y,up)}),ut&&vr(Y,Ze),Le}function Mt(Y,z,K,ce){if(typeof K=="object"&&K!==null&&K.type===H&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case B:e:{for(var Le=K.key;z!==null;){if(z.key===Le){if(Le=K.type,Le===H){if(z.tag===7){l(Y,z.sibling),ce=y(z,K.props.children),ce.return=Y,Y=ce;break e}}else if(z.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===Ie&&Za(Le)===z.type){l(Y,z.sibling),ce=y(z,K.props),Nl(ce,K),ce.return=Y,Y=ce;break e}l(Y,z);break}else n(Y,z);z=z.sibling}K.type===H?(ce=Ga(K.props.children,Y.mode,ce,K.key),ce.return=Y,Y=ce):(ce=Go(K.type,K.key,K.props,null,Y.mode,ce),Nl(ce,K),ce.return=Y,Y=ce)}return _(Y);case V:e:{for(Le=K.key;z!==null;){if(z.key===Le)if(z.tag===4&&z.stateNode.containerInfo===K.containerInfo&&z.stateNode.implementation===K.implementation){l(Y,z.sibling),ce=y(z,K.children||[]),ce.return=Y,Y=ce;break e}else{l(Y,z);break}else n(Y,z);z=z.sibling}ce=Sc(K,Y.mode,ce),ce.return=Y,Y=ce}return _(Y);case Ie:return K=Za(K),Mt(Y,z,K,ce)}if(se(K))return Te(Y,z,K,ce);if(Ne(K)){if(Le=Ne(K),typeof Le!="function")throw Error(c(150));return K=Le.call(K),Pe(Y,z,K,ce)}if(typeof K.then=="function")return Mt(Y,z,Qo(K),ce);if(K.$$typeof===X)return Mt(Y,z,Xo(Y,K),ce);Jo(Y,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,z!==null&&z.tag===6?(l(Y,z.sibling),ce=y(z,K),ce.return=Y,Y=ce):(l(Y,z),ce=Ac(K,Y.mode,ce),ce.return=Y,Y=ce),_(Y)):l(Y,z)}return function(Y,z,K,ce){try{Ol=0;var Le=Mt(Y,z,K,ce);return Rs=null,Le}catch(Re){if(Re===Ns||Re===Zo)throw Re;var pt=fi(29,Re,null,Y.mode);return pt.lanes=ce,pt.return=Y,pt}}}var Qa=dd(!0),gd=dd(!1),la=!1;function kc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Uc(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function oa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ua(e,n,l){var f=e.updateQueue;if(f===null)return null;if(f=f.shared,(bt&2)!==0){var y=f.pending;return y===null?n.next=n:(n.next=y.next,y.next=n),f.pending=n,n=Vo(e),Qf(e,null,l),n}return Ho(e,f,n,l),Vo(e)}function Rl(e,n,l){if(n=n.updateQueue,n!==null&&(n=n.shared,(l&4194048)!==0)){var f=n.lanes;f&=e.pendingLanes,l|=f,n.lanes=l,nr(e,l)}}function jc(e,n){var l=e.updateQueue,f=e.alternate;if(f!==null&&(f=f.updateQueue,l===f)){var y=null,w=null;if(l=l.firstBaseUpdate,l!==null){do{var _={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};w===null?y=w=_:w=w.next=_,l=l.next}while(l!==null);w===null?y=w=n:w=w.next=n}else y=w=n;l={baseState:f.baseState,firstBaseUpdate:y,lastBaseUpdate:w,shared:f.shared,callbacks:f.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=n:e.next=n,l.lastBaseUpdate=n}var Pc=!1;function Il(){if(Pc){var e=Os;if(e!==null)throw e}}function Dl(e,n,l,f){Pc=!1;var y=e.updateQueue;la=!1;var w=y.firstBaseUpdate,_=y.lastBaseUpdate,D=y.shared.pending;if(D!==null){y.shared.pending=null;var U=D,Q=U.next;U.next=null,_===null?w=Q:_.next=Q,_=U;var ue=e.alternate;ue!==null&&(ue=ue.updateQueue,D=ue.lastBaseUpdate,D!==_&&(D===null?ue.firstBaseUpdate=Q:D.next=Q,ue.lastBaseUpdate=U))}if(w!==null){var fe=y.baseState;_=0,ue=Q=U=null,D=w;do{var ee=D.lane&-536870913,ae=ee!==D.lane;if(ae?(lt&ee)===ee:(f&ee)===ee){ee!==0&&ee===Ts&&(Pc=!0),ue!==null&&(ue=ue.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var Te=e,Pe=D;ee=n;var Mt=l;switch(Pe.tag){case 1:if(Te=Pe.payload,typeof Te=="function"){fe=Te.call(Mt,fe,ee);break e}fe=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=Pe.payload,ee=typeof Te=="function"?Te.call(Mt,fe,ee):Te,ee==null)break e;fe=R({},fe,ee);break e;case 2:la=!0}}ee=D.callback,ee!==null&&(e.flags|=64,ae&&(e.flags|=8192),ae=y.callbacks,ae===null?y.callbacks=[ee]:ae.push(ee))}else ae={lane:ee,tag:D.tag,payload:D.payload,callback:D.callback,next:null},ue===null?(Q=ue=ae,U=fe):ue=ue.next=ae,_|=ee;if(D=D.next,D===null){if(D=y.shared.pending,D===null)break;ae=D,D=ae.next,ae.next=null,y.lastBaseUpdate=ae,y.shared.pending=null}}while(!0);ue===null&&(U=fe),y.baseState=U,y.firstBaseUpdate=Q,y.lastBaseUpdate=ue,w===null&&(y.shared.lanes=0),ga|=_,e.lanes=_,e.memoizedState=fe}}function md(e,n){if(typeof e!="function")throw Error(c(191,e));e.call(n)}function pd(e,n){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)md(l[e],n)}var Is=F(null),$o=F(0);function yd(e,n){e=Dr,ve($o,e),ve(Is,n),Dr=e|n.baseLanes}function zc(){ve($o,Dr),ve(Is,Is.current)}function Fc(){Dr=$o.current,oe(Is),oe($o)}var di=F(null),Li=null;function ca(e){var n=e.alternate;ve(un,un.current&1),ve(di,e),Li===null&&(n===null||Is.current!==null||n.memoizedState!==null)&&(Li=e)}function Hc(e){ve(un,un.current),ve(di,e),Li===null&&(Li=e)}function xd(e){e.tag===22?(ve(un,un.current),ve(di,e),Li===null&&(Li=e)):ha()}function ha(){ve(un,un.current),ve(di,di.current)}function gi(e){oe(di),Li===e&&(Li=null),oe(un)}var un=F(0);function eu(e){for(var n=e;n!==null;){if(n.tag===13){var l=n.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Wh(l)||Zh(l)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Sr=0,qe=null,It=null,gn=null,tu=!1,Ds=!1,Ja=!1,nu=0,Ml=0,Ms=null,$m=0;function tn(){throw Error(c(321))}function Vc(e,n){if(n===null)return!1;for(var l=0;l<n.length&&l<e.length;l++)if(!d(e[l],n[l]))return!1;return!0}function Gc(e,n,l,f,y,w){return Sr=w,qe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,re.H=e===null||e.memoizedState===null?t0:ah,Ja=!1,w=l(f,y),Ja=!1,Ds&&(w=bd(n,l,f,y)),wd(e),w}function wd(e){re.H=kl;var n=It!==null&&It.next!==null;if(Sr=0,gn=It=qe=null,tu=!1,Ml=0,Ms=null,n)throw Error(c(300));e===null||mn||(e=e.dependencies,e!==null&&qo(e)&&(mn=!0))}function bd(e,n,l,f){qe=e;var y=0;do{if(Ds&&(Ms=null),Ml=0,Ds=!1,25<=y)throw Error(c(301));if(y+=1,gn=It=null,e.updateQueue!=null){var w=e.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}re.H=n0,w=n(l,f)}while(Ds);return w}function e2(){var e=re.H,n=e.useState()[0];return n=typeof n.then=="function"?Ll(n):n,e=e.useState()[0],(It!==null?It.memoizedState:null)!==e&&(qe.flags|=1024),n}function Yc(){var e=nu!==0;return nu=0,e}function qc(e,n,l){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~l}function Xc(e){if(tu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}tu=!1}Sr=0,gn=It=qe=null,Ds=!1,Ml=nu=0,Ms=null}function qn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gn===null?qe.memoizedState=gn=e:gn=gn.next=e,gn}function cn(){if(It===null){var e=qe.alternate;e=e!==null?e.memoizedState:null}else e=It.next;var n=gn===null?qe.memoizedState:gn.next;if(n!==null)gn=n,It=e;else{if(e===null)throw qe.alternate===null?Error(c(467)):Error(c(310));It=e,e={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},gn===null?qe.memoizedState=gn=e:gn=gn.next=e}return gn}function iu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ll(e){var n=Ml;return Ml+=1,Ms===null&&(Ms=[]),e=cd(Ms,e,n),n=qe,(gn===null?n.memoizedState:gn.next)===null&&(n=n.alternate,re.H=n===null||n.memoizedState===null?t0:ah),e}function ru(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ll(e);if(e.$$typeof===X)return Mn(e)}throw Error(c(438,String(e)))}function Wc(e){var n=null,l=qe.updateQueue;if(l!==null&&(n=l.memoCache),n==null){var f=qe.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(n={data:f.data.map(function(y){return y.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),l===null&&(l=iu(),qe.updateQueue=l),l.memoCache=n,l=n.data[n.index],l===void 0)for(l=n.data[n.index]=Array(e),f=0;f<e;f++)l[f]=xn;return n.index++,l}function Cr(e,n){return typeof n=="function"?n(e):n}function au(e){var n=cn();return Zc(n,It,e)}function Zc(e,n,l){var f=e.queue;if(f===null)throw Error(c(311));f.lastRenderedReducer=l;var y=e.baseQueue,w=f.pending;if(w!==null){if(y!==null){var _=y.next;y.next=w.next,w.next=_}n.baseQueue=y=w,f.pending=null}if(w=e.baseState,y===null)e.memoizedState=w;else{n=y.next;var D=_=null,U=null,Q=n,ue=!1;do{var fe=Q.lane&-536870913;if(fe!==Q.lane?(lt&fe)===fe:(Sr&fe)===fe){var ee=Q.revertLane;if(ee===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),fe===Ts&&(ue=!0);else if((Sr&ee)===ee){Q=Q.next,ee===Ts&&(ue=!0);continue}else fe={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},U===null?(D=U=fe,_=w):U=U.next=fe,qe.lanes|=ee,ga|=ee;fe=Q.action,Ja&&l(w,fe),w=Q.hasEagerState?Q.eagerState:l(w,fe)}else ee={lane:fe,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},U===null?(D=U=ee,_=w):U=U.next=ee,qe.lanes|=fe,ga|=fe;Q=Q.next}while(Q!==null&&Q!==n);if(U===null?_=w:U.next=D,!d(w,e.memoizedState)&&(mn=!0,ue&&(l=Os,l!==null)))throw l;e.memoizedState=w,e.baseState=_,e.baseQueue=U,f.lastRenderedState=w}return y===null&&(f.lanes=0),[e.memoizedState,f.dispatch]}function Kc(e){var n=cn(),l=n.queue;if(l===null)throw Error(c(311));l.lastRenderedReducer=e;var f=l.dispatch,y=l.pending,w=n.memoizedState;if(y!==null){l.pending=null;var _=y=y.next;do w=e(w,_.action),_=_.next;while(_!==y);d(w,n.memoizedState)||(mn=!0),n.memoizedState=w,n.baseQueue===null&&(n.baseState=w),l.lastRenderedState=w}return[w,f]}function vd(e,n,l){var f=qe,y=cn(),w=ut;if(w){if(l===void 0)throw Error(c(407));l=l()}else l=n();var _=!d((It||y).memoizedState,l);if(_&&(y.memoizedState=l,mn=!0),y=y.queue,$c(Sd.bind(null,f,y,e),[e]),y.getSnapshot!==n||_||gn!==null&&gn.memoizedState.tag&1){if(f.flags|=2048,Ls(9,{destroy:void 0},Ad.bind(null,f,y,l,n),null),jt===null)throw Error(c(349));w||(Sr&127)!==0||Ed(f,n,l)}return l}function Ed(e,n,l){e.flags|=16384,e={getSnapshot:n,value:l},n=qe.updateQueue,n===null?(n=iu(),qe.updateQueue=n,n.stores=[e]):(l=n.stores,l===null?n.stores=[e]:l.push(e))}function Ad(e,n,l,f){n.value=l,n.getSnapshot=f,Cd(n)&&_d(e)}function Sd(e,n,l){return l(function(){Cd(n)&&_d(e)})}function Cd(e){var n=e.getSnapshot;e=e.value;try{var l=n();return!d(e,l)}catch{return!0}}function _d(e){var n=Va(e,2);n!==null&&ri(n,e,2)}function Qc(e){var n=qn();if(typeof e=="function"){var l=e;if(e=l(),Ja){Rt(!0);try{l()}finally{Rt(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cr,lastRenderedState:e},n}function Td(e,n,l,f){return e.baseState=l,Zc(e,It,typeof f=="function"?f:Cr)}function t2(e,n,l,f,y){if(ou(e))throw Error(c(485));if(e=n.action,e!==null){var w={payload:y,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){w.listeners.push(_)}};re.T!==null?l(!0):w.isTransition=!1,f(w),l=n.pending,l===null?(w.next=n.pending=w,Od(n,w)):(w.next=l.next,n.pending=l.next=w)}}function Od(e,n){var l=n.action,f=n.payload,y=e.state;if(n.isTransition){var w=re.T,_={};re.T=_;try{var D=l(y,f),U=re.S;U!==null&&U(_,D),Nd(e,n,D)}catch(Q){Jc(e,n,Q)}finally{w!==null&&_.types!==null&&(w.types=_.types),re.T=w}}else try{w=l(y,f),Nd(e,n,w)}catch(Q){Jc(e,n,Q)}}function Nd(e,n,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(f){Rd(e,n,f)},function(f){return Jc(e,n,f)}):Rd(e,n,l)}function Rd(e,n,l){n.status="fulfilled",n.value=l,Id(n),e.state=l,n=e.pending,n!==null&&(l=n.next,l===n?e.pending=null:(l=l.next,n.next=l,Od(e,l)))}function Jc(e,n,l){var f=e.pending;if(e.pending=null,f!==null){f=f.next;do n.status="rejected",n.reason=l,Id(n),n=n.next;while(n!==f)}e.action=null}function Id(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Dd(e,n){return n}function Md(e,n){if(ut){var l=jt.formState;if(l!==null){e:{var f=qe;if(ut){if(Gt){t:{for(var y=Gt,w=Mi;y.nodeType!==8;){if(!w){y=null;break t}if(y=Bi(y.nextSibling),y===null){y=null;break t}}w=y.data,y=w==="F!"||w==="F"?y:null}if(y){Gt=Bi(y.nextSibling),f=y.data==="F!";break e}}aa(f)}f=!1}f&&(n=l[0])}}return l=qn(),l.memoizedState=l.baseState=n,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dd,lastRenderedState:n},l.queue=f,l=Jd.bind(null,qe,f),f.dispatch=l,f=Qc(!1),w=rh.bind(null,qe,!1,f.queue),f=qn(),y={state:n,dispatch:null,action:e,pending:null},f.queue=y,l=t2.bind(null,qe,y,w,l),y.dispatch=l,f.memoizedState=e,[n,l,!1]}function Ld(e){var n=cn();return Bd(n,It,e)}function Bd(e,n,l){if(n=Zc(e,n,Dd)[0],e=au(Cr)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var f=Ll(n)}catch(_){throw _===Ns?Zo:_}else f=n;n=cn();var y=n.queue,w=y.dispatch;return l!==n.memoizedState&&(qe.flags|=2048,Ls(9,{destroy:void 0},n2.bind(null,y,l),null)),[f,w,e]}function n2(e,n){e.action=n}function kd(e){var n=cn(),l=It;if(l!==null)return Bd(n,l,e);cn(),n=n.memoizedState,l=cn();var f=l.queue.dispatch;return l.memoizedState=e,[n,f,!1]}function Ls(e,n,l,f){return e={tag:e,create:l,deps:f,inst:n,next:null},n=qe.updateQueue,n===null&&(n=iu(),qe.updateQueue=n),l=n.lastEffect,l===null?n.lastEffect=e.next=e:(f=l.next,l.next=e,e.next=f,n.lastEffect=e),e}function Ud(){return cn().memoizedState}function su(e,n,l,f){var y=qn();qe.flags|=e,y.memoizedState=Ls(1|n,{destroy:void 0},l,f===void 0?null:f)}function lu(e,n,l,f){var y=cn();f=f===void 0?null:f;var w=y.memoizedState.inst;It!==null&&f!==null&&Vc(f,It.memoizedState.deps)?y.memoizedState=Ls(n,w,l,f):(qe.flags|=e,y.memoizedState=Ls(1|n,w,l,f))}function jd(e,n){su(8390656,8,e,n)}function $c(e,n){lu(2048,8,e,n)}function i2(e){qe.flags|=4;var n=qe.updateQueue;if(n===null)n=iu(),qe.updateQueue=n,n.events=[e];else{var l=n.events;l===null?n.events=[e]:l.push(e)}}function Pd(e){var n=cn().memoizedState;return i2({ref:n,nextImpl:e}),function(){if((bt&2)!==0)throw Error(c(440));return n.impl.apply(void 0,arguments)}}function zd(e,n){return lu(4,2,e,n)}function Fd(e,n){return lu(4,4,e,n)}function Hd(e,n){if(typeof n=="function"){e=e();var l=n(e);return function(){typeof l=="function"?l():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Vd(e,n,l){l=l!=null?l.concat([e]):null,lu(4,4,Hd.bind(null,n,e),l)}function eh(){}function Gd(e,n){var l=cn();n=n===void 0?null:n;var f=l.memoizedState;return n!==null&&Vc(n,f[1])?f[0]:(l.memoizedState=[e,n],e)}function Yd(e,n){var l=cn();n=n===void 0?null:n;var f=l.memoizedState;if(n!==null&&Vc(n,f[1]))return f[0];if(f=e(),Ja){Rt(!0);try{e()}finally{Rt(!1)}}return l.memoizedState=[f,n],f}function th(e,n,l){return l===void 0||(Sr&1073741824)!==0&&(lt&261930)===0?e.memoizedState=n:(e.memoizedState=l,e=q0(),qe.lanes|=e,ga|=e,l)}function qd(e,n,l,f){return d(l,n)?l:Is.current!==null?(e=th(e,l,f),d(e,n)||(mn=!0),e):(Sr&42)===0||(Sr&1073741824)!==0&&(lt&261930)===0?(mn=!0,e.memoizedState=l):(e=q0(),qe.lanes|=e,ga|=e,n)}function Xd(e,n,l,f,y){var w=he.p;he.p=w!==0&&8>w?w:8;var _=re.T,D={};re.T=D,rh(e,!1,n,l);try{var U=y(),Q=re.S;if(Q!==null&&Q(D,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var ue=Jm(U,f);Bl(e,n,ue,yi(e))}else Bl(e,n,f,yi(e))}catch(fe){Bl(e,n,{then:function(){},status:"rejected",reason:fe},yi())}finally{he.p=w,_!==null&&D.types!==null&&(_.types=D.types),re.T=_}}function r2(){}function nh(e,n,l,f){if(e.tag!==5)throw Error(c(476));var y=Wd(e).queue;Xd(e,y,n,Be,l===null?r2:function(){return Zd(e),l(f)})}function Wd(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:Be,baseState:Be,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cr,lastRenderedState:Be},next:null};var l={};return n.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cr,lastRenderedState:l},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Zd(e){var n=Wd(e);n.next===null&&(n=e.alternate.memoizedState),Bl(e,n.next.queue,{},yi())}function ih(){return Mn(Jl)}function Kd(){return cn().memoizedState}function Qd(){return cn().memoizedState}function a2(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var l=yi();e=oa(l);var f=ua(n,e,l);f!==null&&(ri(f,n,l),Rl(f,n,l)),n={cache:Dc()},e.payload=n;return}n=n.return}}function s2(e,n,l){var f=yi();l={lane:f,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ou(e)?$d(n,l):(l=vc(e,n,l,f),l!==null&&(ri(l,e,f),e0(l,n,f)))}function Jd(e,n,l){var f=yi();Bl(e,n,l,f)}function Bl(e,n,l,f){var y={lane:f,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(ou(e))$d(n,y);else{var w=e.alternate;if(e.lanes===0&&(w===null||w.lanes===0)&&(w=n.lastRenderedReducer,w!==null))try{var _=n.lastRenderedState,D=w(_,l);if(y.hasEagerState=!0,y.eagerState=D,d(D,_))return Ho(e,n,y,0),jt===null&&Fo(),!1}catch{}if(l=vc(e,n,y,f),l!==null)return ri(l,e,f),e0(l,n,f),!0}return!1}function rh(e,n,l,f){if(f={lane:2,revertLane:kh(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},ou(e)){if(n)throw Error(c(479))}else n=vc(e,l,f,2),n!==null&&ri(n,e,2)}function ou(e){var n=e.alternate;return e===qe||n!==null&&n===qe}function $d(e,n){Ds=tu=!0;var l=e.pending;l===null?n.next=n:(n.next=l.next,l.next=n),e.pending=n}function e0(e,n,l){if((l&4194048)!==0){var f=n.lanes;f&=e.pendingLanes,l|=f,n.lanes=l,nr(e,l)}}var kl={readContext:Mn,use:ru,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useLayoutEffect:tn,useInsertionEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useSyncExternalStore:tn,useId:tn,useHostTransitionStatus:tn,useFormState:tn,useActionState:tn,useOptimistic:tn,useMemoCache:tn,useCacheRefresh:tn};kl.useEffectEvent=tn;var t0={readContext:Mn,use:ru,useCallback:function(e,n){return qn().memoizedState=[e,n===void 0?null:n],e},useContext:Mn,useEffect:jd,useImperativeHandle:function(e,n,l){l=l!=null?l.concat([e]):null,su(4194308,4,Hd.bind(null,n,e),l)},useLayoutEffect:function(e,n){return su(4194308,4,e,n)},useInsertionEffect:function(e,n){su(4,2,e,n)},useMemo:function(e,n){var l=qn();n=n===void 0?null:n;var f=e();if(Ja){Rt(!0);try{e()}finally{Rt(!1)}}return l.memoizedState=[f,n],f},useReducer:function(e,n,l){var f=qn();if(l!==void 0){var y=l(n);if(Ja){Rt(!0);try{l(n)}finally{Rt(!1)}}}else y=n;return f.memoizedState=f.baseState=y,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:y},f.queue=e,e=e.dispatch=s2.bind(null,qe,e),[f.memoizedState,e]},useRef:function(e){var n=qn();return e={current:e},n.memoizedState=e},useState:function(e){e=Qc(e);var n=e.queue,l=Jd.bind(null,qe,n);return n.dispatch=l,[e.memoizedState,l]},useDebugValue:eh,useDeferredValue:function(e,n){var l=qn();return th(l,e,n)},useTransition:function(){var e=Qc(!1);return e=Xd.bind(null,qe,e.queue,!0,!1),qn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,l){var f=qe,y=qn();if(ut){if(l===void 0)throw Error(c(407));l=l()}else{if(l=n(),jt===null)throw Error(c(349));(lt&127)!==0||Ed(f,n,l)}y.memoizedState=l;var w={value:l,getSnapshot:n};return y.queue=w,jd(Sd.bind(null,f,w,e),[e]),f.flags|=2048,Ls(9,{destroy:void 0},Ad.bind(null,f,w,l,n),null),l},useId:function(){var e=qn(),n=jt.identifierPrefix;if(ut){var l=or,f=lr;l=(f&~(1<<32-Xe(f)-1)).toString(32)+l,n="_"+n+"R_"+l,l=nu++,0<l&&(n+="H"+l.toString(32)),n+="_"}else l=$m++,n="_"+n+"r_"+l.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:ih,useFormState:Md,useActionState:Md,useOptimistic:function(e){var n=qn();n.memoizedState=n.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=l,n=rh.bind(null,qe,!0,l),l.dispatch=n,[e,n]},useMemoCache:Wc,useCacheRefresh:function(){return qn().memoizedState=a2.bind(null,qe)},useEffectEvent:function(e){var n=qn(),l={impl:e};return n.memoizedState=l,function(){if((bt&2)!==0)throw Error(c(440));return l.impl.apply(void 0,arguments)}}},ah={readContext:Mn,use:ru,useCallback:Gd,useContext:Mn,useEffect:$c,useImperativeHandle:Vd,useInsertionEffect:zd,useLayoutEffect:Fd,useMemo:Yd,useReducer:au,useRef:Ud,useState:function(){return au(Cr)},useDebugValue:eh,useDeferredValue:function(e,n){var l=cn();return qd(l,It.memoizedState,e,n)},useTransition:function(){var e=au(Cr)[0],n=cn().memoizedState;return[typeof e=="boolean"?e:Ll(e),n]},useSyncExternalStore:vd,useId:Kd,useHostTransitionStatus:ih,useFormState:Ld,useActionState:Ld,useOptimistic:function(e,n){var l=cn();return Td(l,It,e,n)},useMemoCache:Wc,useCacheRefresh:Qd};ah.useEffectEvent=Pd;var n0={readContext:Mn,use:ru,useCallback:Gd,useContext:Mn,useEffect:$c,useImperativeHandle:Vd,useInsertionEffect:zd,useLayoutEffect:Fd,useMemo:Yd,useReducer:Kc,useRef:Ud,useState:function(){return Kc(Cr)},useDebugValue:eh,useDeferredValue:function(e,n){var l=cn();return It===null?th(l,e,n):qd(l,It.memoizedState,e,n)},useTransition:function(){var e=Kc(Cr)[0],n=cn().memoizedState;return[typeof e=="boolean"?e:Ll(e),n]},useSyncExternalStore:vd,useId:Kd,useHostTransitionStatus:ih,useFormState:kd,useActionState:kd,useOptimistic:function(e,n){var l=cn();return It!==null?Td(l,It,e,n):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:Wc,useCacheRefresh:Qd};n0.useEffectEvent=Pd;function sh(e,n,l,f){n=e.memoizedState,l=l(f,n),l=l==null?n:R({},n,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var lh={enqueueSetState:function(e,n,l){e=e._reactInternals;var f=yi(),y=oa(f);y.payload=n,l!=null&&(y.callback=l),n=ua(e,y,f),n!==null&&(ri(n,e,f),Rl(n,e,f))},enqueueReplaceState:function(e,n,l){e=e._reactInternals;var f=yi(),y=oa(f);y.tag=1,y.payload=n,l!=null&&(y.callback=l),n=ua(e,y,f),n!==null&&(ri(n,e,f),Rl(n,e,f))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var l=yi(),f=oa(l);f.tag=2,n!=null&&(f.callback=n),n=ua(e,f,l),n!==null&&(ri(n,e,l),Rl(n,e,l))}};function i0(e,n,l,f,y,w,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(f,w,_):n.prototype&&n.prototype.isPureReactComponent?!p(l,f)||!p(y,w):!0}function r0(e,n,l,f){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(l,f),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(l,f),n.state!==e&&lh.enqueueReplaceState(n,n.state,null)}function $a(e,n){var l=n;if("ref"in n){l={};for(var f in n)f!=="ref"&&(l[f]=n[f])}if(e=e.defaultProps){l===n&&(l=R({},l));for(var y in e)l[y]===void 0&&(l[y]=e[y])}return l}function a0(e){zo(e)}function s0(e){console.error(e)}function l0(e){zo(e)}function uu(e,n){try{var l=e.onUncaughtError;l(n.value,{componentStack:n.stack})}catch(f){setTimeout(function(){throw f})}}function o0(e,n,l){try{var f=e.onCaughtError;f(l.value,{componentStack:l.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function oh(e,n,l){return l=oa(l),l.tag=3,l.payload={element:null},l.callback=function(){uu(e,n)},l}function u0(e){return e=oa(e),e.tag=3,e}function c0(e,n,l,f){var y=l.type.getDerivedStateFromError;if(typeof y=="function"){var w=f.value;e.payload=function(){return y(w)},e.callback=function(){o0(n,l,f)}}var _=l.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){o0(n,l,f),typeof y!="function"&&(ma===null?ma=new Set([this]):ma.add(this));var D=f.stack;this.componentDidCatch(f.value,{componentStack:D!==null?D:""})})}function l2(e,n,l,f,y){if(l.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(n=l.alternate,n!==null&&_s(n,l,y,!0),l=di.current,l!==null){switch(l.tag){case 31:case 13:return Li===null?vu():l.alternate===null&&nn===0&&(nn=3),l.flags&=-257,l.flags|=65536,l.lanes=y,f===Ko?l.flags|=16384:(n=l.updateQueue,n===null?l.updateQueue=new Set([f]):n.add(f),Mh(e,f,y)),!1;case 22:return l.flags|=65536,f===Ko?l.flags|=16384:(n=l.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([f])},l.updateQueue=n):(l=n.retryQueue,l===null?n.retryQueue=new Set([f]):l.add(f)),Mh(e,f,y)),!1}throw Error(c(435,l.tag))}return Mh(e,f,y),vu(),!1}if(ut)return n=di.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=y,f!==Tc&&(e=Error(c(422),{cause:f}),Cl(Ri(e,l)))):(f!==Tc&&(n=Error(c(423),{cause:f}),Cl(Ri(n,l))),e=e.current.alternate,e.flags|=65536,y&=-y,e.lanes|=y,f=Ri(f,l),y=oh(e.stateNode,f,y),jc(e,y),nn!==4&&(nn=2)),!1;var w=Error(c(520),{cause:f});if(w=Ri(w,l),Gl===null?Gl=[w]:Gl.push(w),nn!==4&&(nn=2),n===null)return!0;f=Ri(f,l),l=n;do{switch(l.tag){case 3:return l.flags|=65536,e=y&-y,l.lanes|=e,e=oh(l.stateNode,f,e),jc(l,e),!1;case 1:if(n=l.type,w=l.stateNode,(l.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ma===null||!ma.has(w))))return l.flags|=65536,y&=-y,l.lanes|=y,y=u0(y),c0(y,e,l,f),jc(l,y),!1}l=l.return}while(l!==null);return!1}var uh=Error(c(461)),mn=!1;function Ln(e,n,l,f){n.child=e===null?gd(n,null,l,f):Qa(n,e.child,l,f)}function h0(e,n,l,f,y){l=l.render;var w=n.ref;if("ref"in f){var _={};for(var D in f)D!=="ref"&&(_[D]=f[D])}else _=f;return Xa(n),f=Gc(e,n,l,_,w,y),D=Yc(),e!==null&&!mn?(qc(e,n,y),_r(e,n,y)):(ut&&D&&Cc(n),n.flags|=1,Ln(e,n,f,y),n.child)}function f0(e,n,l,f,y){if(e===null){var w=l.type;return typeof w=="function"&&!Ec(w)&&w.defaultProps===void 0&&l.compare===null?(n.tag=15,n.type=w,d0(e,n,w,f,y)):(e=Go(l.type,null,f,n,n.mode,y),e.ref=n.ref,e.return=n,n.child=e)}if(w=e.child,!yh(e,y)){var _=w.memoizedProps;if(l=l.compare,l=l!==null?l:p,l(_,f)&&e.ref===n.ref)return _r(e,n,y)}return n.flags|=1,e=br(w,f),e.ref=n.ref,e.return=n,n.child=e}function d0(e,n,l,f,y){if(e!==null){var w=e.memoizedProps;if(p(w,f)&&e.ref===n.ref)if(mn=!1,n.pendingProps=f=w,yh(e,y))(e.flags&131072)!==0&&(mn=!0);else return n.lanes=e.lanes,_r(e,n,y)}return ch(e,n,l,f,y)}function g0(e,n,l,f){var y=f.children,w=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((n.flags&128)!==0){if(w=w!==null?w.baseLanes|l:l,e!==null){for(f=n.child=e.child,y=0;f!==null;)y=y|f.lanes|f.childLanes,f=f.sibling;f=y&~w}else f=0,n.child=null;return m0(e,n,w,l,f)}if((l&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Wo(n,w!==null?w.cachePool:null),w!==null?yd(n,w):zc(),xd(n);else return f=n.lanes=536870912,m0(e,n,w!==null?w.baseLanes|l:l,l,f)}else w!==null?(Wo(n,w.cachePool),yd(n,w),ha(),n.memoizedState=null):(e!==null&&Wo(n,null),zc(),ha());return Ln(e,n,y,l),n.child}function Ul(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function m0(e,n,l,f,y){var w=Lc();return w=w===null?null:{parent:dn._currentValue,pool:w},n.memoizedState={baseLanes:l,cachePool:w},e!==null&&Wo(n,null),zc(),xd(n),e!==null&&_s(e,n,f,!0),n.childLanes=y,null}function cu(e,n){return n=fu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function p0(e,n,l){return Qa(n,e.child,null,l),e=cu(n,n.pendingProps),e.flags|=2,gi(n),n.memoizedState=null,e}function o2(e,n,l){var f=n.pendingProps,y=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(ut){if(f.mode==="hidden")return e=cu(n,f),n.lanes=536870912,Ul(null,e);if(Hc(n),(e=Gt)?(e=O1(e,Mi),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ia!==null?{id:lr,overflow:or}:null,retryLane:536870912,hydrationErrors:null},l=$f(e),l.return=n,n.child=l,Dn=n,Gt=null)):e=null,e===null)throw aa(n);return n.lanes=536870912,null}return cu(n,f)}var w=e.memoizedState;if(w!==null){var _=w.dehydrated;if(Hc(n),y)if(n.flags&256)n.flags&=-257,n=p0(e,n,l);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(c(558));else if(mn||_s(e,n,l,!1),y=(l&e.childLanes)!==0,mn||y){if(f=jt,f!==null&&(_=cs(f,l),_!==0&&_!==w.retryLane))throw w.retryLane=_,Va(e,_),ri(f,e,_),uh;vu(),n=p0(e,n,l)}else e=w.treeContext,Gt=Bi(_.nextSibling),Dn=n,ut=!0,ra=null,Mi=!1,e!==null&&nd(n,e),n=cu(n,f),n.flags|=4096;return n}return e=br(e.child,{mode:f.mode,children:f.children}),e.ref=n.ref,n.child=e,e.return=n,e}function hu(e,n){var l=n.ref;if(l===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(c(284));(e===null||e.ref!==l)&&(n.flags|=4194816)}}function ch(e,n,l,f,y){return Xa(n),l=Gc(e,n,l,f,void 0,y),f=Yc(),e!==null&&!mn?(qc(e,n,y),_r(e,n,y)):(ut&&f&&Cc(n),n.flags|=1,Ln(e,n,l,y),n.child)}function y0(e,n,l,f,y,w){return Xa(n),n.updateQueue=null,l=bd(n,f,l,y),wd(e),f=Yc(),e!==null&&!mn?(qc(e,n,w),_r(e,n,w)):(ut&&f&&Cc(n),n.flags|=1,Ln(e,n,l,w),n.child)}function x0(e,n,l,f,y){if(Xa(n),n.stateNode===null){var w=Es,_=l.contextType;typeof _=="object"&&_!==null&&(w=Mn(_)),w=new l(f,w),n.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=lh,n.stateNode=w,w._reactInternals=n,w=n.stateNode,w.props=f,w.state=n.memoizedState,w.refs={},kc(n),_=l.contextType,w.context=typeof _=="object"&&_!==null?Mn(_):Es,w.state=n.memoizedState,_=l.getDerivedStateFromProps,typeof _=="function"&&(sh(n,l,_,f),w.state=n.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(_=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),_!==w.state&&lh.enqueueReplaceState(w,w.state,null),Dl(n,f,w,y),Il(),w.state=n.memoizedState),typeof w.componentDidMount=="function"&&(n.flags|=4194308),f=!0}else if(e===null){w=n.stateNode;var D=n.memoizedProps,U=$a(l,D);w.props=U;var Q=w.context,ue=l.contextType;_=Es,typeof ue=="object"&&ue!==null&&(_=Mn(ue));var fe=l.getDerivedStateFromProps;ue=typeof fe=="function"||typeof w.getSnapshotBeforeUpdate=="function",D=n.pendingProps!==D,ue||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(D||Q!==_)&&r0(n,w,f,_),la=!1;var ee=n.memoizedState;w.state=ee,Dl(n,f,w,y),Il(),Q=n.memoizedState,D||ee!==Q||la?(typeof fe=="function"&&(sh(n,l,fe,f),Q=n.memoizedState),(U=la||i0(n,l,U,f,ee,Q,_))?(ue||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(n.flags|=4194308)):(typeof w.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=f,n.memoizedState=Q),w.props=f,w.state=Q,w.context=_,f=U):(typeof w.componentDidMount=="function"&&(n.flags|=4194308),f=!1)}else{w=n.stateNode,Uc(e,n),_=n.memoizedProps,ue=$a(l,_),w.props=ue,fe=n.pendingProps,ee=w.context,Q=l.contextType,U=Es,typeof Q=="object"&&Q!==null&&(U=Mn(Q)),D=l.getDerivedStateFromProps,(Q=typeof D=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(_!==fe||ee!==U)&&r0(n,w,f,U),la=!1,ee=n.memoizedState,w.state=ee,Dl(n,f,w,y),Il();var ae=n.memoizedState;_!==fe||ee!==ae||la||e!==null&&e.dependencies!==null&&qo(e.dependencies)?(typeof D=="function"&&(sh(n,l,D,f),ae=n.memoizedState),(ue=la||i0(n,l,ue,f,ee,ae,U)||e!==null&&e.dependencies!==null&&qo(e.dependencies))?(Q||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(f,ae,U),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(f,ae,U)),typeof w.componentDidUpdate=="function"&&(n.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof w.componentDidUpdate!="function"||_===e.memoizedProps&&ee===e.memoizedState||(n.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&ee===e.memoizedState||(n.flags|=1024),n.memoizedProps=f,n.memoizedState=ae),w.props=f,w.state=ae,w.context=U,f=ue):(typeof w.componentDidUpdate!="function"||_===e.memoizedProps&&ee===e.memoizedState||(n.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&ee===e.memoizedState||(n.flags|=1024),f=!1)}return w=f,hu(e,n),f=(n.flags&128)!==0,w||f?(w=n.stateNode,l=f&&typeof l.getDerivedStateFromError!="function"?null:w.render(),n.flags|=1,e!==null&&f?(n.child=Qa(n,e.child,null,y),n.child=Qa(n,null,l,y)):Ln(e,n,l,y),n.memoizedState=w.state,e=n.child):e=_r(e,n,y),e}function w0(e,n,l,f){return Ya(),n.flags|=256,Ln(e,n,l,f),n.child}var hh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fh(e){return{baseLanes:e,cachePool:od()}}function dh(e,n,l){return e=e!==null?e.childLanes&~l:0,n&&(e|=pi),e}function b0(e,n,l){var f=n.pendingProps,y=!1,w=(n.flags&128)!==0,_;if((_=w)||(_=e!==null&&e.memoizedState===null?!1:(un.current&2)!==0),_&&(y=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,e===null){if(ut){if(y?ca(n):ha(),(e=Gt)?(e=O1(e,Mi),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ia!==null?{id:lr,overflow:or}:null,retryLane:536870912,hydrationErrors:null},l=$f(e),l.return=n,n.child=l,Dn=n,Gt=null)):e=null,e===null)throw aa(n);return Zh(e)?n.lanes=32:n.lanes=536870912,null}var D=f.children;return f=f.fallback,y?(ha(),y=n.mode,D=fu({mode:"hidden",children:D},y),f=Ga(f,y,l,null),D.return=n,f.return=n,D.sibling=f,n.child=D,f=n.child,f.memoizedState=fh(l),f.childLanes=dh(e,_,l),n.memoizedState=hh,Ul(null,f)):(ca(n),gh(n,D))}var U=e.memoizedState;if(U!==null&&(D=U.dehydrated,D!==null)){if(w)n.flags&256?(ca(n),n.flags&=-257,n=mh(e,n,l)):n.memoizedState!==null?(ha(),n.child=e.child,n.flags|=128,n=null):(ha(),D=f.fallback,y=n.mode,f=fu({mode:"visible",children:f.children},y),D=Ga(D,y,l,null),D.flags|=2,f.return=n,D.return=n,f.sibling=D,n.child=f,Qa(n,e.child,null,l),f=n.child,f.memoizedState=fh(l),f.childLanes=dh(e,_,l),n.memoizedState=hh,n=Ul(null,f));else if(ca(n),Zh(D)){if(_=D.nextSibling&&D.nextSibling.dataset,_)var Q=_.dgst;_=Q,f=Error(c(419)),f.stack="",f.digest=_,Cl({value:f,source:null,stack:null}),n=mh(e,n,l)}else if(mn||_s(e,n,l,!1),_=(l&e.childLanes)!==0,mn||_){if(_=jt,_!==null&&(f=cs(_,l),f!==0&&f!==U.retryLane))throw U.retryLane=f,Va(e,f),ri(_,e,f),uh;Wh(D)||vu(),n=mh(e,n,l)}else Wh(D)?(n.flags|=192,n.child=e.child,n=null):(e=U.treeContext,Gt=Bi(D.nextSibling),Dn=n,ut=!0,ra=null,Mi=!1,e!==null&&nd(n,e),n=gh(n,f.children),n.flags|=4096);return n}return y?(ha(),D=f.fallback,y=n.mode,U=e.child,Q=U.sibling,f=br(U,{mode:"hidden",children:f.children}),f.subtreeFlags=U.subtreeFlags&65011712,Q!==null?D=br(Q,D):(D=Ga(D,y,l,null),D.flags|=2),D.return=n,f.return=n,f.sibling=D,n.child=f,Ul(null,f),f=n.child,D=e.child.memoizedState,D===null?D=fh(l):(y=D.cachePool,y!==null?(U=dn._currentValue,y=y.parent!==U?{parent:U,pool:U}:y):y=od(),D={baseLanes:D.baseLanes|l,cachePool:y}),f.memoizedState=D,f.childLanes=dh(e,_,l),n.memoizedState=hh,Ul(e.child,f)):(ca(n),l=e.child,e=l.sibling,l=br(l,{mode:"visible",children:f.children}),l.return=n,l.sibling=null,e!==null&&(_=n.deletions,_===null?(n.deletions=[e],n.flags|=16):_.push(e)),n.child=l,n.memoizedState=null,l)}function gh(e,n){return n=fu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function fu(e,n){return e=fi(22,e,null,n),e.lanes=0,e}function mh(e,n,l){return Qa(n,e.child,null,l),e=gh(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function v0(e,n,l){e.lanes|=n;var f=e.alternate;f!==null&&(f.lanes|=n),Rc(e.return,n,l)}function ph(e,n,l,f,y,w){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:f,tail:l,tailMode:y,treeForkCount:w}:(_.isBackwards=n,_.rendering=null,_.renderingStartTime=0,_.last=f,_.tail=l,_.tailMode=y,_.treeForkCount=w)}function E0(e,n,l){var f=n.pendingProps,y=f.revealOrder,w=f.tail;f=f.children;var _=un.current,D=(_&2)!==0;if(D?(_=_&1|2,n.flags|=128):_&=1,ve(un,_),Ln(e,n,f,l),f=ut?Sl:0,!D&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&v0(e,l,n);else if(e.tag===19)v0(e,l,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(y){case"forwards":for(l=n.child,y=null;l!==null;)e=l.alternate,e!==null&&eu(e)===null&&(y=l),l=l.sibling;l=y,l===null?(y=n.child,n.child=null):(y=l.sibling,l.sibling=null),ph(n,!1,y,l,w,f);break;case"backwards":case"unstable_legacy-backwards":for(l=null,y=n.child,n.child=null;y!==null;){if(e=y.alternate,e!==null&&eu(e)===null){n.child=y;break}e=y.sibling,y.sibling=l,l=y,y=e}ph(n,!0,l,null,w,f);break;case"together":ph(n,!1,null,null,void 0,f);break;default:n.memoizedState=null}return n.child}function _r(e,n,l){if(e!==null&&(n.dependencies=e.dependencies),ga|=n.lanes,(l&n.childLanes)===0)if(e!==null){if(_s(e,n,l,!1),(l&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(c(153));if(n.child!==null){for(e=n.child,l=br(e,e.pendingProps),n.child=l,l.return=n;e.sibling!==null;)e=e.sibling,l=l.sibling=br(e,e.pendingProps),l.return=n;l.sibling=null}return n.child}function yh(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&qo(e)))}function u2(e,n,l){switch(n.tag){case 3:ht(n,n.stateNode.containerInfo),sa(n,dn,e.memoizedState.cache),Ya();break;case 27:case 5:Ui(n);break;case 4:ht(n,n.stateNode.containerInfo);break;case 10:sa(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Hc(n),null;break;case 13:var f=n.memoizedState;if(f!==null)return f.dehydrated!==null?(ca(n),n.flags|=128,null):(l&n.child.childLanes)!==0?b0(e,n,l):(ca(n),e=_r(e,n,l),e!==null?e.sibling:null);ca(n);break;case 19:var y=(e.flags&128)!==0;if(f=(l&n.childLanes)!==0,f||(_s(e,n,l,!1),f=(l&n.childLanes)!==0),y){if(f)return E0(e,n,l);n.flags|=128}if(y=n.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),ve(un,un.current),f)break;return null;case 22:return n.lanes=0,g0(e,n,l,n.pendingProps);case 24:sa(n,dn,e.memoizedState.cache)}return _r(e,n,l)}function A0(e,n,l){if(e!==null)if(e.memoizedProps!==n.pendingProps)mn=!0;else{if(!yh(e,l)&&(n.flags&128)===0)return mn=!1,u2(e,n,l);mn=(e.flags&131072)!==0}else mn=!1,ut&&(n.flags&1048576)!==0&&td(n,Sl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var f=n.pendingProps;if(e=Za(n.elementType),n.type=e,typeof e=="function")Ec(e)?(f=$a(e,f),n.tag=1,n=x0(null,n,e,f,l)):(n.tag=0,n=ch(null,n,e,f,l));else{if(e!=null){var y=e.$$typeof;if(y===pe){n.tag=11,n=h0(null,n,e,f,l);break e}else if(y===ne){n.tag=14,n=f0(null,n,e,f,l);break e}}throw n=Nt(e)||e,Error(c(306,n,""))}}return n;case 0:return ch(e,n,n.type,n.pendingProps,l);case 1:return f=n.type,y=$a(f,n.pendingProps),x0(e,n,f,y,l);case 3:e:{if(ht(n,n.stateNode.containerInfo),e===null)throw Error(c(387));f=n.pendingProps;var w=n.memoizedState;y=w.element,Uc(e,n),Dl(n,f,null,l);var _=n.memoizedState;if(f=_.cache,sa(n,dn,f),f!==w.cache&&Ic(n,[dn],l,!0),Il(),f=_.element,w.isDehydrated)if(w={element:f,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=w,n.memoizedState=w,n.flags&256){n=w0(e,n,f,l);break e}else if(f!==y){y=Ri(Error(c(424)),n),Cl(y),n=w0(e,n,f,l);break e}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Gt=Bi(e.firstChild),Dn=n,ut=!0,ra=null,Mi=!0,l=gd(n,null,f,l),n.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Ya(),f===y){n=_r(e,n,l);break e}Ln(e,n,f,l)}n=n.child}return n;case 26:return hu(e,n),e===null?(l=L1(n.type,null,n.pendingProps,null))?n.memoizedState=l:ut||(l=n.type,e=n.pendingProps,f=Ou(be.current).createElement(l),f[sn]=n,f[Ct]=e,Bn(f,l,e),$t(f),n.stateNode=f):n.memoizedState=L1(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Ui(n),e===null&&ut&&(f=n.stateNode=I1(n.type,n.pendingProps,be.current),Dn=n,Mi=!0,y=Gt,wa(n.type)?(Kh=y,Gt=Bi(f.firstChild)):Gt=y),Ln(e,n,n.pendingProps.children,l),hu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&ut&&((y=f=Gt)&&(f=P2(f,n.type,n.pendingProps,Mi),f!==null?(n.stateNode=f,Dn=n,Gt=Bi(f.firstChild),Mi=!1,y=!0):y=!1),y||aa(n)),Ui(n),y=n.type,w=n.pendingProps,_=e!==null?e.memoizedProps:null,f=w.children,Yh(y,w)?f=null:_!==null&&Yh(y,_)&&(n.flags|=32),n.memoizedState!==null&&(y=Gc(e,n,e2,null,null,l),Jl._currentValue=y),hu(e,n),Ln(e,n,f,l),n.child;case 6:return e===null&&ut&&((e=l=Gt)&&(l=z2(l,n.pendingProps,Mi),l!==null?(n.stateNode=l,Dn=n,Gt=null,e=!0):e=!1),e||aa(n)),null;case 13:return b0(e,n,l);case 4:return ht(n,n.stateNode.containerInfo),f=n.pendingProps,e===null?n.child=Qa(n,null,f,l):Ln(e,n,f,l),n.child;case 11:return h0(e,n,n.type,n.pendingProps,l);case 7:return Ln(e,n,n.pendingProps,l),n.child;case 8:return Ln(e,n,n.pendingProps.children,l),n.child;case 12:return Ln(e,n,n.pendingProps.children,l),n.child;case 10:return f=n.pendingProps,sa(n,n.type,f.value),Ln(e,n,f.children,l),n.child;case 9:return y=n.type._context,f=n.pendingProps.children,Xa(n),y=Mn(y),f=f(y),n.flags|=1,Ln(e,n,f,l),n.child;case 14:return f0(e,n,n.type,n.pendingProps,l);case 15:return d0(e,n,n.type,n.pendingProps,l);case 19:return E0(e,n,l);case 31:return o2(e,n,l);case 22:return g0(e,n,l,n.pendingProps);case 24:return Xa(n),f=Mn(dn),e===null?(y=Lc(),y===null&&(y=jt,w=Dc(),y.pooledCache=w,w.refCount++,w!==null&&(y.pooledCacheLanes|=l),y=w),n.memoizedState={parent:f,cache:y},kc(n),sa(n,dn,y)):((e.lanes&l)!==0&&(Uc(e,n),Dl(n,null,null,l),Il()),y=e.memoizedState,w=n.memoizedState,y.parent!==f?(y={parent:f,cache:f},n.memoizedState=y,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=y),sa(n,dn,f)):(f=w.cache,sa(n,dn,f),f!==y.cache&&Ic(n,[dn],l,!0))),Ln(e,n,n.pendingProps.children,l),n.child;case 29:throw n.pendingProps}throw Error(c(156,n.tag))}function Tr(e){e.flags|=4}function xh(e,n,l,f,y){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(y&335544128)===y)if(e.stateNode.complete)e.flags|=8192;else if(K0())e.flags|=8192;else throw Ka=Ko,Bc}else e.flags&=-16777217}function S0(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!P1(n))if(K0())e.flags|=8192;else throw Ka=Ko,Bc}function du(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?vn():536870912,e.lanes|=n,js|=n)}function jl(e,n){if(!ut)switch(e.tailMode){case"hidden":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:f.sibling=null}}function Yt(e){var n=e.alternate!==null&&e.alternate.child===e.child,l=0,f=0;if(n)for(var y=e.child;y!==null;)l|=y.lanes|y.childLanes,f|=y.subtreeFlags&65011712,f|=y.flags&65011712,y.return=e,y=y.sibling;else for(y=e.child;y!==null;)l|=y.lanes|y.childLanes,f|=y.subtreeFlags,f|=y.flags,y.return=e,y=y.sibling;return e.subtreeFlags|=f,e.childLanes=l,n}function c2(e,n,l){var f=n.pendingProps;switch(_c(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(n),null;case 1:return Yt(n),null;case 3:return l=n.stateNode,f=null,e!==null&&(f=e.memoizedState.cache),n.memoizedState.cache!==f&&(n.flags|=2048),Ar(dn),Lt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Cs(n)?Tr(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Oc())),Yt(n),null;case 26:var y=n.type,w=n.memoizedState;return e===null?(Tr(n),w!==null?(Yt(n),S0(n,w)):(Yt(n),xh(n,y,null,f,l))):w?w!==e.memoizedState?(Tr(n),Yt(n),S0(n,w)):(Yt(n),n.flags&=-16777217):(e=e.memoizedProps,e!==f&&Tr(n),Yt(n),xh(n,y,e,f,l)),null;case 27:if(wn(n),l=be.current,y=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==f&&Tr(n);else{if(!f){if(n.stateNode===null)throw Error(c(166));return Yt(n),null}e=Ae.current,Cs(n)?id(n):(e=I1(y,f,l),n.stateNode=e,Tr(n))}return Yt(n),null;case 5:if(wn(n),y=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==f&&Tr(n);else{if(!f){if(n.stateNode===null)throw Error(c(166));return Yt(n),null}if(w=Ae.current,Cs(n))id(n);else{var _=Ou(be.current);switch(w){case 1:w=_.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:w=_.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":w=_.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":w=_.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":w=_.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof f.is=="string"?_.createElement("select",{is:f.is}):_.createElement("select"),f.multiple?w.multiple=!0:f.size&&(w.size=f.size);break;default:w=typeof f.is=="string"?_.createElement(y,{is:f.is}):_.createElement(y)}}w[sn]=n,w[Ct]=f;e:for(_=n.child;_!==null;){if(_.tag===5||_.tag===6)w.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===n)break e;for(;_.sibling===null;){if(_.return===null||_.return===n)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}n.stateNode=w;e:switch(Bn(w,y,f),y){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&Tr(n)}}return Yt(n),xh(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,l),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==f&&Tr(n);else{if(typeof f!="string"&&n.stateNode===null)throw Error(c(166));if(e=be.current,Cs(n)){if(e=n.stateNode,l=n.memoizedProps,f=null,y=Dn,y!==null)switch(y.tag){case 27:case 5:f=y.memoizedProps}e[sn]=n,e=!!(e.nodeValue===l||f!==null&&f.suppressHydrationWarning===!0||b1(e.nodeValue,l)),e||aa(n,!0)}else e=Ou(e).createTextNode(f),e[sn]=n,n.stateNode=e}return Yt(n),null;case 31:if(l=n.memoizedState,e===null||e.memoizedState!==null){if(f=Cs(n),l!==null){if(e===null){if(!f)throw Error(c(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(557));e[sn]=n}else Ya(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Yt(n),e=!1}else l=Oc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return n.flags&256?(gi(n),n):(gi(n),null);if((n.flags&128)!==0)throw Error(c(558))}return Yt(n),null;case 13:if(f=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(y=Cs(n),f!==null&&f.dehydrated!==null){if(e===null){if(!y)throw Error(c(318));if(y=n.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(c(317));y[sn]=n}else Ya(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Yt(n),y=!1}else y=Oc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=y),y=!0;if(!y)return n.flags&256?(gi(n),n):(gi(n),null)}return gi(n),(n.flags&128)!==0?(n.lanes=l,n):(l=f!==null,e=e!==null&&e.memoizedState!==null,l&&(f=n.child,y=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(y=f.alternate.memoizedState.cachePool.pool),w=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(w=f.memoizedState.cachePool.pool),w!==y&&(f.flags|=2048)),l!==e&&l&&(n.child.flags|=8192),du(n,n.updateQueue),Yt(n),null);case 4:return Lt(),e===null&&zh(n.stateNode.containerInfo),Yt(n),null;case 10:return Ar(n.type),Yt(n),null;case 19:if(oe(un),f=n.memoizedState,f===null)return Yt(n),null;if(y=(n.flags&128)!==0,w=f.rendering,w===null)if(y)jl(f,!1);else{if(nn!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(w=eu(e),w!==null){for(n.flags|=128,jl(f,!1),e=w.updateQueue,n.updateQueue=e,du(n,e),n.subtreeFlags=0,e=l,l=n.child;l!==null;)Jf(l,e),l=l.sibling;return ve(un,un.current&1|2),ut&&vr(n,f.treeForkCount),n.child}e=e.sibling}f.tail!==null&&Kt()>xu&&(n.flags|=128,y=!0,jl(f,!1),n.lanes=4194304)}else{if(!y)if(e=eu(w),e!==null){if(n.flags|=128,y=!0,e=e.updateQueue,n.updateQueue=e,du(n,e),jl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!w.alternate&&!ut)return Yt(n),null}else 2*Kt()-f.renderingStartTime>xu&&l!==536870912&&(n.flags|=128,y=!0,jl(f,!1),n.lanes=4194304);f.isBackwards?(w.sibling=n.child,n.child=w):(e=f.last,e!==null?e.sibling=w:n.child=w,f.last=w)}return f.tail!==null?(e=f.tail,f.rendering=e,f.tail=e.sibling,f.renderingStartTime=Kt(),e.sibling=null,l=un.current,ve(un,y?l&1|2:l&1),ut&&vr(n,f.treeForkCount),e):(Yt(n),null);case 22:case 23:return gi(n),Fc(),f=n.memoizedState!==null,e!==null?e.memoizedState!==null!==f&&(n.flags|=8192):f&&(n.flags|=8192),f?(l&536870912)!==0&&(n.flags&128)===0&&(Yt(n),n.subtreeFlags&6&&(n.flags|=8192)):Yt(n),l=n.updateQueue,l!==null&&du(n,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),f=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(f=n.memoizedState.cachePool.pool),f!==l&&(n.flags|=2048),e!==null&&oe(Wa),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ar(dn),Yt(n),null;case 25:return null;case 30:return null}throw Error(c(156,n.tag))}function h2(e,n){switch(_c(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ar(dn),Lt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return wn(n),null;case 31:if(n.memoizedState!==null){if(gi(n),n.alternate===null)throw Error(c(340));Ya()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(gi(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(c(340));Ya()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return oe(un),null;case 4:return Lt(),null;case 10:return Ar(n.type),null;case 22:case 23:return gi(n),Fc(),e!==null&&oe(Wa),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ar(dn),null;case 25:return null;default:return null}}function C0(e,n){switch(_c(n),n.tag){case 3:Ar(dn),Lt();break;case 26:case 27:case 5:wn(n);break;case 4:Lt();break;case 31:n.memoizedState!==null&&gi(n);break;case 13:gi(n);break;case 19:oe(un);break;case 10:Ar(n.type);break;case 22:case 23:gi(n),Fc(),e!==null&&oe(Wa);break;case 24:Ar(dn)}}function Pl(e,n){try{var l=n.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var y=f.next;l=y;do{if((l.tag&e)===e){f=void 0;var w=l.create,_=l.inst;f=w(),_.destroy=f}l=l.next}while(l!==y)}}catch(D){Tt(n,n.return,D)}}function fa(e,n,l){try{var f=n.updateQueue,y=f!==null?f.lastEffect:null;if(y!==null){var w=y.next;f=w;do{if((f.tag&e)===e){var _=f.inst,D=_.destroy;if(D!==void 0){_.destroy=void 0,y=n;var U=l,Q=D;try{Q()}catch(ue){Tt(y,U,ue)}}}f=f.next}while(f!==w)}}catch(ue){Tt(n,n.return,ue)}}function _0(e){var n=e.updateQueue;if(n!==null){var l=e.stateNode;try{pd(n,l)}catch(f){Tt(e,e.return,f)}}}function T0(e,n,l){l.props=$a(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(f){Tt(e,n,f)}}function zl(e,n){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var f=e.stateNode;break;case 30:f=e.stateNode;break;default:f=e.stateNode}typeof l=="function"?e.refCleanup=l(f):l.current=f}}catch(y){Tt(e,n,y)}}function ur(e,n){var l=e.ref,f=e.refCleanup;if(l!==null)if(typeof f=="function")try{f()}catch(y){Tt(e,n,y)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(y){Tt(e,n,y)}else l.current=null}function O0(e){var n=e.type,l=e.memoizedProps,f=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":l.autoFocus&&f.focus();break e;case"img":l.src?f.src=l.src:l.srcSet&&(f.srcset=l.srcSet)}}catch(y){Tt(e,e.return,y)}}function wh(e,n,l){try{var f=e.stateNode;M2(f,e.type,l,n),f[Ct]=n}catch(y){Tt(e,e.return,y)}}function N0(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&wa(e.type)||e.tag===4}function bh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||N0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&wa(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function vh(e,n,l){var f=e.tag;if(f===5||f===6)e=e.stateNode,n?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,n):(n=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,n.appendChild(e),l=l._reactRootContainer,l!=null||n.onclick!==null||(n.onclick=Qn));else if(f!==4&&(f===27&&wa(e.type)&&(l=e.stateNode,n=null),e=e.child,e!==null))for(vh(e,n,l),e=e.sibling;e!==null;)vh(e,n,l),e=e.sibling}function gu(e,n,l){var f=e.tag;if(f===5||f===6)e=e.stateNode,n?l.insertBefore(e,n):l.appendChild(e);else if(f!==4&&(f===27&&wa(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(gu(e,n,l),e=e.sibling;e!==null;)gu(e,n,l),e=e.sibling}function R0(e){var n=e.stateNode,l=e.memoizedProps;try{for(var f=e.type,y=n.attributes;y.length;)n.removeAttributeNode(y[0]);Bn(n,f,l),n[sn]=e,n[Ct]=l}catch(w){Tt(e,e.return,w)}}var Or=!1,pn=!1,Eh=!1,I0=typeof WeakSet=="function"?WeakSet:Set,On=null;function f2(e,n){if(e=e.containerInfo,Vh=Bu,e=N(e),I(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var f=l.getSelection&&l.getSelection();if(f&&f.rangeCount!==0){l=f.anchorNode;var y=f.anchorOffset,w=f.focusNode;f=f.focusOffset;try{l.nodeType,w.nodeType}catch{l=null;break e}var _=0,D=-1,U=-1,Q=0,ue=0,fe=e,ee=null;t:for(;;){for(var ae;fe!==l||y!==0&&fe.nodeType!==3||(D=_+y),fe!==w||f!==0&&fe.nodeType!==3||(U=_+f),fe.nodeType===3&&(_+=fe.nodeValue.length),(ae=fe.firstChild)!==null;)ee=fe,fe=ae;for(;;){if(fe===e)break t;if(ee===l&&++Q===y&&(D=_),ee===w&&++ue===f&&(U=_),(ae=fe.nextSibling)!==null)break;fe=ee,ee=fe.parentNode}fe=ae}l=D===-1||U===-1?null:{start:D,end:U}}else l=null}l=l||{start:0,end:0}}else l=null;for(Gh={focusedElem:e,selectionRange:l},Bu=!1,On=n;On!==null;)if(n=On,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,On=e;else for(;On!==null;){switch(n=On,w=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)y=e[l],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&w!==null){e=void 0,l=n,y=w.memoizedProps,w=w.memoizedState,f=l.stateNode;try{var Te=$a(l.type,y);e=f.getSnapshotBeforeUpdate(Te,w),f.__reactInternalSnapshotBeforeUpdate=e}catch(Pe){Tt(l,l.return,Pe)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,l=e.nodeType,l===9)Xh(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Xh(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(c(163))}if(e=n.sibling,e!==null){e.return=n.return,On=e;break}On=n.return}}function D0(e,n,l){var f=l.flags;switch(l.tag){case 0:case 11:case 15:Rr(e,l),f&4&&Pl(5,l);break;case 1:if(Rr(e,l),f&4)if(e=l.stateNode,n===null)try{e.componentDidMount()}catch(_){Tt(l,l.return,_)}else{var y=$a(l.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(y,n,e.__reactInternalSnapshotBeforeUpdate)}catch(_){Tt(l,l.return,_)}}f&64&&_0(l),f&512&&zl(l,l.return);break;case 3:if(Rr(e,l),f&64&&(e=l.updateQueue,e!==null)){if(n=null,l.child!==null)switch(l.child.tag){case 27:case 5:n=l.child.stateNode;break;case 1:n=l.child.stateNode}try{pd(e,n)}catch(_){Tt(l,l.return,_)}}break;case 27:n===null&&f&4&&R0(l);case 26:case 5:Rr(e,l),n===null&&f&4&&O0(l),f&512&&zl(l,l.return);break;case 12:Rr(e,l);break;case 31:Rr(e,l),f&4&&B0(e,l);break;case 13:Rr(e,l),f&4&&k0(e,l),f&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=v2.bind(null,l),F2(e,l))));break;case 22:if(f=l.memoizedState!==null||Or,!f){n=n!==null&&n.memoizedState!==null||pn,y=Or;var w=pn;Or=f,(pn=n)&&!w?Ir(e,l,(l.subtreeFlags&8772)!==0):Rr(e,l),Or=y,pn=w}break;case 30:break;default:Rr(e,l)}}function M0(e){var n=e.alternate;n!==null&&(e.alternate=null,M0(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Kn(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Wt=null,ei=!1;function Nr(e,n,l){for(l=l.child;l!==null;)L0(e,n,l),l=l.sibling}function L0(e,n,l){if(we&&typeof we.onCommitFiberUnmount=="function")try{we.onCommitFiberUnmount(Pt,l)}catch{}switch(l.tag){case 26:pn||ur(l,n),Nr(e,n,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:pn||ur(l,n);var f=Wt,y=ei;wa(l.type)&&(Wt=l.stateNode,ei=!1),Nr(e,n,l),Zl(l.stateNode),Wt=f,ei=y;break;case 5:pn||ur(l,n);case 6:if(f=Wt,y=ei,Wt=null,Nr(e,n,l),Wt=f,ei=y,Wt!==null)if(ei)try{(Wt.nodeType===9?Wt.body:Wt.nodeName==="HTML"?Wt.ownerDocument.body:Wt).removeChild(l.stateNode)}catch(w){Tt(l,n,w)}else try{Wt.removeChild(l.stateNode)}catch(w){Tt(l,n,w)}break;case 18:Wt!==null&&(ei?(e=Wt,_1(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),qs(e)):_1(Wt,l.stateNode));break;case 4:f=Wt,y=ei,Wt=l.stateNode.containerInfo,ei=!0,Nr(e,n,l),Wt=f,ei=y;break;case 0:case 11:case 14:case 15:fa(2,l,n),pn||fa(4,l,n),Nr(e,n,l);break;case 1:pn||(ur(l,n),f=l.stateNode,typeof f.componentWillUnmount=="function"&&T0(l,n,f)),Nr(e,n,l);break;case 21:Nr(e,n,l);break;case 22:pn=(f=pn)||l.memoizedState!==null,Nr(e,n,l),pn=f;break;default:Nr(e,n,l)}}function B0(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{qs(e)}catch(l){Tt(n,n.return,l)}}}function k0(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{qs(e)}catch(l){Tt(n,n.return,l)}}function d2(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new I0),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new I0),n;default:throw Error(c(435,e.tag))}}function mu(e,n){var l=d2(e);n.forEach(function(f){if(!l.has(f)){l.add(f);var y=E2.bind(null,e,f);f.then(y,y)}})}function ti(e,n){var l=n.deletions;if(l!==null)for(var f=0;f<l.length;f++){var y=l[f],w=e,_=n,D=_;e:for(;D!==null;){switch(D.tag){case 27:if(wa(D.type)){Wt=D.stateNode,ei=!1;break e}break;case 5:Wt=D.stateNode,ei=!1;break e;case 3:case 4:Wt=D.stateNode.containerInfo,ei=!0;break e}D=D.return}if(Wt===null)throw Error(c(160));L0(w,_,y),Wt=null,ei=!1,w=y.alternate,w!==null&&(w.return=null),y.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)U0(n,e),n=n.sibling}var Yi=null;function U0(e,n){var l=e.alternate,f=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ti(n,e),ni(e),f&4&&(fa(3,e,e.return),Pl(3,e),fa(5,e,e.return));break;case 1:ti(n,e),ni(e),f&512&&(pn||l===null||ur(l,l.return)),f&64&&Or&&(e=e.updateQueue,e!==null&&(f=e.callbacks,f!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?f:l.concat(f))));break;case 26:var y=Yi;if(ti(n,e),ni(e),f&512&&(pn||l===null||ur(l,l.return)),f&4){var w=l!==null?l.memoizedState:null;if(f=e.memoizedState,l===null)if(f===null)if(e.stateNode===null){e:{f=e.type,l=e.memoizedProps,y=y.ownerDocument||y;t:switch(f){case"title":w=y.getElementsByTagName("title")[0],(!w||w[La]||w[sn]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=y.createElement(f),y.head.insertBefore(w,y.querySelector("head > title"))),Bn(w,f,l),w[sn]=e,$t(w),f=w;break e;case"link":var _=U1("link","href",y).get(f+(l.href||""));if(_){for(var D=0;D<_.length;D++)if(w=_[D],w.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&w.getAttribute("rel")===(l.rel==null?null:l.rel)&&w.getAttribute("title")===(l.title==null?null:l.title)&&w.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){_.splice(D,1);break t}}w=y.createElement(f),Bn(w,f,l),y.head.appendChild(w);break;case"meta":if(_=U1("meta","content",y).get(f+(l.content||""))){for(D=0;D<_.length;D++)if(w=_[D],w.getAttribute("content")===(l.content==null?null:""+l.content)&&w.getAttribute("name")===(l.name==null?null:l.name)&&w.getAttribute("property")===(l.property==null?null:l.property)&&w.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&w.getAttribute("charset")===(l.charSet==null?null:l.charSet)){_.splice(D,1);break t}}w=y.createElement(f),Bn(w,f,l),y.head.appendChild(w);break;default:throw Error(c(468,f))}w[sn]=e,$t(w),f=w}e.stateNode=f}else j1(y,e.type,e.stateNode);else e.stateNode=k1(y,f,e.memoizedProps);else w!==f?(w===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):w.count--,f===null?j1(y,e.type,e.stateNode):k1(y,f,e.memoizedProps)):f===null&&e.stateNode!==null&&wh(e,e.memoizedProps,l.memoizedProps)}break;case 27:ti(n,e),ni(e),f&512&&(pn||l===null||ur(l,l.return)),l!==null&&f&4&&wh(e,e.memoizedProps,l.memoizedProps);break;case 5:if(ti(n,e),ni(e),f&512&&(pn||l===null||ur(l,l.return)),e.flags&32){y=e.stateNode;try{Wr(y,"")}catch(Te){Tt(e,e.return,Te)}}f&4&&e.stateNode!=null&&(y=e.memoizedProps,wh(e,y,l!==null?l.memoizedProps:y)),f&1024&&(Eh=!0);break;case 6:if(ti(n,e),ni(e),f&4){if(e.stateNode===null)throw Error(c(162));f=e.memoizedProps,l=e.stateNode;try{l.nodeValue=f}catch(Te){Tt(e,e.return,Te)}}break;case 3:if(Iu=null,y=Yi,Yi=Nu(n.containerInfo),ti(n,e),Yi=y,ni(e),f&4&&l!==null&&l.memoizedState.isDehydrated)try{qs(n.containerInfo)}catch(Te){Tt(e,e.return,Te)}Eh&&(Eh=!1,j0(e));break;case 4:f=Yi,Yi=Nu(e.stateNode.containerInfo),ti(n,e),ni(e),Yi=f;break;case 12:ti(n,e),ni(e);break;case 31:ti(n,e),ni(e),f&4&&(f=e.updateQueue,f!==null&&(e.updateQueue=null,mu(e,f)));break;case 13:ti(n,e),ni(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(yu=Kt()),f&4&&(f=e.updateQueue,f!==null&&(e.updateQueue=null,mu(e,f)));break;case 22:y=e.memoizedState!==null;var U=l!==null&&l.memoizedState!==null,Q=Or,ue=pn;if(Or=Q||y,pn=ue||U,ti(n,e),pn=ue,Or=Q,ni(e),f&8192)e:for(n=e.stateNode,n._visibility=y?n._visibility&-2:n._visibility|1,y&&(l===null||U||Or||pn||es(e)),l=null,n=e;;){if(n.tag===5||n.tag===26){if(l===null){U=l=n;try{if(w=U.stateNode,y)_=w.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{D=U.stateNode;var fe=U.memoizedProps.style,ee=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;D.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(Te){Tt(U,U.return,Te)}}}else if(n.tag===6){if(l===null){U=n;try{U.stateNode.nodeValue=y?"":U.memoizedProps}catch(Te){Tt(U,U.return,Te)}}}else if(n.tag===18){if(l===null){U=n;try{var ae=U.stateNode;y?T1(ae,!0):T1(U.stateNode,!1)}catch(Te){Tt(U,U.return,Te)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;l===n&&(l=null),n=n.return}l===n&&(l=null),n.sibling.return=n.return,n=n.sibling}f&4&&(f=e.updateQueue,f!==null&&(l=f.retryQueue,l!==null&&(f.retryQueue=null,mu(e,l))));break;case 19:ti(n,e),ni(e),f&4&&(f=e.updateQueue,f!==null&&(e.updateQueue=null,mu(e,f)));break;case 30:break;case 21:break;default:ti(n,e),ni(e)}}function ni(e){var n=e.flags;if(n&2){try{for(var l,f=e.return;f!==null;){if(N0(f)){l=f;break}f=f.return}if(l==null)throw Error(c(160));switch(l.tag){case 27:var y=l.stateNode,w=bh(e);gu(e,w,y);break;case 5:var _=l.stateNode;l.flags&32&&(Wr(_,""),l.flags&=-33);var D=bh(e);gu(e,D,_);break;case 3:case 4:var U=l.stateNode.containerInfo,Q=bh(e);vh(e,Q,U);break;default:throw Error(c(161))}}catch(ue){Tt(e,e.return,ue)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function j0(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;j0(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Rr(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)D0(e,n.alternate,n),n=n.sibling}function es(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:fa(4,n,n.return),es(n);break;case 1:ur(n,n.return);var l=n.stateNode;typeof l.componentWillUnmount=="function"&&T0(n,n.return,l),es(n);break;case 27:Zl(n.stateNode);case 26:case 5:ur(n,n.return),es(n);break;case 22:n.memoizedState===null&&es(n);break;case 30:es(n);break;default:es(n)}e=e.sibling}}function Ir(e,n,l){for(l=l&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var f=n.alternate,y=e,w=n,_=w.flags;switch(w.tag){case 0:case 11:case 15:Ir(y,w,l),Pl(4,w);break;case 1:if(Ir(y,w,l),f=w,y=f.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(Q){Tt(f,f.return,Q)}if(f=w,y=f.updateQueue,y!==null){var D=f.stateNode;try{var U=y.shared.hiddenCallbacks;if(U!==null)for(y.shared.hiddenCallbacks=null,y=0;y<U.length;y++)md(U[y],D)}catch(Q){Tt(f,f.return,Q)}}l&&_&64&&_0(w),zl(w,w.return);break;case 27:R0(w);case 26:case 5:Ir(y,w,l),l&&f===null&&_&4&&O0(w),zl(w,w.return);break;case 12:Ir(y,w,l);break;case 31:Ir(y,w,l),l&&_&4&&B0(y,w);break;case 13:Ir(y,w,l),l&&_&4&&k0(y,w);break;case 22:w.memoizedState===null&&Ir(y,w,l),zl(w,w.return);break;case 30:break;default:Ir(y,w,l)}n=n.sibling}}function Ah(e,n){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&_l(l))}function Sh(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&_l(e))}function qi(e,n,l,f){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)P0(e,n,l,f),n=n.sibling}function P0(e,n,l,f){var y=n.flags;switch(n.tag){case 0:case 11:case 15:qi(e,n,l,f),y&2048&&Pl(9,n);break;case 1:qi(e,n,l,f);break;case 3:qi(e,n,l,f),y&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&_l(e)));break;case 12:if(y&2048){qi(e,n,l,f),e=n.stateNode;try{var w=n.memoizedProps,_=w.id,D=w.onPostCommit;typeof D=="function"&&D(_,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(U){Tt(n,n.return,U)}}else qi(e,n,l,f);break;case 31:qi(e,n,l,f);break;case 13:qi(e,n,l,f);break;case 23:break;case 22:w=n.stateNode,_=n.alternate,n.memoizedState!==null?w._visibility&2?qi(e,n,l,f):Fl(e,n):w._visibility&2?qi(e,n,l,f):(w._visibility|=2,Bs(e,n,l,f,(n.subtreeFlags&10256)!==0||!1)),y&2048&&Ah(_,n);break;case 24:qi(e,n,l,f),y&2048&&Sh(n.alternate,n);break;default:qi(e,n,l,f)}}function Bs(e,n,l,f,y){for(y=y&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var w=e,_=n,D=l,U=f,Q=_.flags;switch(_.tag){case 0:case 11:case 15:Bs(w,_,D,U,y),Pl(8,_);break;case 23:break;case 22:var ue=_.stateNode;_.memoizedState!==null?ue._visibility&2?Bs(w,_,D,U,y):Fl(w,_):(ue._visibility|=2,Bs(w,_,D,U,y)),y&&Q&2048&&Ah(_.alternate,_);break;case 24:Bs(w,_,D,U,y),y&&Q&2048&&Sh(_.alternate,_);break;default:Bs(w,_,D,U,y)}n=n.sibling}}function Fl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var l=e,f=n,y=f.flags;switch(f.tag){case 22:Fl(l,f),y&2048&&Ah(f.alternate,f);break;case 24:Fl(l,f),y&2048&&Sh(f.alternate,f);break;default:Fl(l,f)}n=n.sibling}}var Hl=8192;function ks(e,n,l){if(e.subtreeFlags&Hl)for(e=e.child;e!==null;)z0(e,n,l),e=e.sibling}function z0(e,n,l){switch(e.tag){case 26:ks(e,n,l),e.flags&Hl&&e.memoizedState!==null&&$2(l,Yi,e.memoizedState,e.memoizedProps);break;case 5:ks(e,n,l);break;case 3:case 4:var f=Yi;Yi=Nu(e.stateNode.containerInfo),ks(e,n,l),Yi=f;break;case 22:e.memoizedState===null&&(f=e.alternate,f!==null&&f.memoizedState!==null?(f=Hl,Hl=16777216,ks(e,n,l),Hl=f):ks(e,n,l));break;default:ks(e,n,l)}}function F0(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Vl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var f=n[l];On=f,V0(f,e)}F0(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)H0(e),e=e.sibling}function H0(e){switch(e.tag){case 0:case 11:case 15:Vl(e),e.flags&2048&&fa(9,e,e.return);break;case 3:Vl(e);break;case 12:Vl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,pu(e)):Vl(e);break;default:Vl(e)}}function pu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var f=n[l];On=f,V0(f,e)}F0(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:fa(8,n,n.return),pu(n);break;case 22:l=n.stateNode,l._visibility&2&&(l._visibility&=-3,pu(n));break;default:pu(n)}e=e.sibling}}function V0(e,n){for(;On!==null;){var l=On;switch(l.tag){case 0:case 11:case 15:fa(8,l,n);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var f=l.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:_l(l.memoizedState.cache)}if(f=l.child,f!==null)f.return=l,On=f;else e:for(l=e;On!==null;){f=On;var y=f.sibling,w=f.return;if(M0(f),f===l){On=null;break e}if(y!==null){y.return=w,On=y;break e}On=w}}}var g2={getCacheForType:function(e){var n=Mn(dn),l=n.data.get(e);return l===void 0&&(l=e(),n.data.set(e,l)),l},cacheSignal:function(){return Mn(dn).controller.signal}},m2=typeof WeakMap=="function"?WeakMap:Map,bt=0,jt=null,tt=null,lt=0,_t=0,mi=null,da=!1,Us=!1,Ch=!1,Dr=0,nn=0,ga=0,ts=0,_h=0,pi=0,js=0,Gl=null,ii=null,Th=!1,yu=0,G0=0,xu=1/0,wu=null,ma=null,Cn=0,pa=null,Ps=null,Mr=0,Oh=0,Nh=null,Y0=null,Yl=0,Rh=null;function yi(){return(bt&2)!==0&&lt!==0?lt&-lt:re.T!==null?kh():zn()}function q0(){if(pi===0)if((lt&536870912)===0||ut){var e=at;at<<=1,(at&3932160)===0&&(at=262144),pi=e}else pi=536870912;return e=di.current,e!==null&&(e.flags|=32),pi}function ri(e,n,l){(e===jt&&(_t===2||_t===9)||e.cancelPendingCommit!==null)&&(zs(e,0),ya(e,lt,pi,!1)),tr(e,l),((bt&2)===0||e!==jt)&&(e===jt&&((bt&2)===0&&(ts|=l),nn===4&&ya(e,lt,pi,!1)),cr(e))}function X0(e,n,l){if((bt&6)!==0)throw Error(c(327));var f=!l&&(n&127)===0&&(n&e.expiredLanes)===0||Rn(e,n),y=f?x2(e,n):Dh(e,n,!0),w=f;do{if(y===0){Us&&!f&&ya(e,n,0,!1);break}else{if(l=e.current.alternate,w&&!p2(l)){y=Dh(e,n,!1),w=!1;continue}if(y===2){if(w=n,e.errorRecoveryDisabledLanes&w)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;e:{var D=e;y=Gl;var U=D.current.memoizedState.isDehydrated;if(U&&(zs(D,_).flags|=256),_=Dh(D,_,!1),_!==2){if(Ch&&!U){D.errorRecoveryDisabledLanes|=w,ts|=w,y=4;break e}w=ii,ii=y,w!==null&&(ii===null?ii=w:ii.push.apply(ii,w))}y=_}if(w=!1,y!==2)continue}}if(y===1){zs(e,0),ya(e,n,0,!0);break}e:{switch(f=e,w=y,w){case 0:case 1:throw Error(c(345));case 4:if((n&4194048)!==n)break;case 6:ya(f,n,pi,!da);break e;case 2:ii=null;break;case 3:case 5:break;default:throw Error(c(329))}if((n&62914560)===n&&(y=yu+300-Kt(),10<y)){if(ya(f,n,pi,!da),Ma(f,0,!0)!==0)break e;Mr=n,f.timeoutHandle=S1(W0.bind(null,f,l,ii,wu,Th,n,pi,ts,js,da,w,"Throttled",-0,0),y);break e}W0(f,l,ii,wu,Th,n,pi,ts,js,da,w,null,-0,0)}}break}while(!0);cr(e)}function W0(e,n,l,f,y,w,_,D,U,Q,ue,fe,ee,ae){if(e.timeoutHandle=-1,fe=n.subtreeFlags,fe&8192||(fe&16785408)===16785408){fe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qn},z0(n,w,fe);var Te=(w&62914560)===w?yu-Kt():(w&4194048)===w?G0-Kt():0;if(Te=ep(fe,Te),Te!==null){Mr=w,e.cancelPendingCommit=Te(n1.bind(null,e,n,w,l,f,y,_,D,U,ue,fe,null,ee,ae)),ya(e,w,_,!Q);return}}n1(e,n,w,l,f,y,_,D,U)}function p2(e){for(var n=e;;){var l=n.tag;if((l===0||l===11||l===15)&&n.flags&16384&&(l=n.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var f=0;f<l.length;f++){var y=l[f],w=y.getSnapshot;y=y.value;try{if(!d(w(),y))return!1}catch{return!1}}if(l=n.child,n.subtreeFlags&16384&&l!==null)l.return=n,n=l;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ya(e,n,l,f){n&=~_h,n&=~ts,e.suspendedLanes|=n,e.pingedLanes&=~n,f&&(e.warmLanes|=n),f=e.expirationTimes;for(var y=n;0<y;){var w=31-Xe(y),_=1<<w;f[w]=-1,y&=~_}l!==0&&Co(e,l,n)}function bu(){return(bt&6)===0?(ql(0),!1):!0}function Ih(){if(tt!==null){if(_t===0)var e=tt.return;else e=tt,Er=qa=null,Xc(e),Rs=null,Ol=0,e=tt;for(;e!==null;)C0(e.alternate,e),e=e.return;tt=null}}function zs(e,n){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,k2(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),Mr=0,Ih(),jt=e,tt=l=br(e.current,null),lt=n,_t=0,mi=null,da=!1,Us=Rn(e,n),Ch=!1,js=pi=_h=ts=ga=nn=0,ii=Gl=null,Th=!1,(n&8)!==0&&(n|=n&32);var f=e.entangledLanes;if(f!==0)for(e=e.entanglements,f&=n;0<f;){var y=31-Xe(f),w=1<<y;n|=e[y],f&=~w}return Dr=n,Fo(),l}function Z0(e,n){qe=null,re.H=kl,n===Ns||n===Zo?(n=hd(),_t=3):n===Bc?(n=hd(),_t=4):_t=n===uh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,mi=n,tt===null&&(nn=1,uu(e,Ri(n,e.current)))}function K0(){var e=di.current;return e===null?!0:(lt&4194048)===lt?Li===null:(lt&62914560)===lt||(lt&536870912)!==0?e===Li:!1}function Q0(){var e=re.H;return re.H=kl,e===null?kl:e}function J0(){var e=re.A;return re.A=g2,e}function vu(){nn=4,da||(lt&4194048)!==lt&&di.current!==null||(Us=!0),(ga&134217727)===0&&(ts&134217727)===0||jt===null||ya(jt,lt,pi,!1)}function Dh(e,n,l){var f=bt;bt|=2;var y=Q0(),w=J0();(jt!==e||lt!==n)&&(wu=null,zs(e,n)),n=!1;var _=nn;e:do try{if(_t!==0&&tt!==null){var D=tt,U=mi;switch(_t){case 8:Ih(),_=6;break e;case 3:case 2:case 9:case 6:di.current===null&&(n=!0);var Q=_t;if(_t=0,mi=null,Fs(e,D,U,Q),l&&Us){_=0;break e}break;default:Q=_t,_t=0,mi=null,Fs(e,D,U,Q)}}y2(),_=nn;break}catch(ue){Z0(e,ue)}while(!0);return n&&e.shellSuspendCounter++,Er=qa=null,bt=f,re.H=y,re.A=w,tt===null&&(jt=null,lt=0,Fo()),_}function y2(){for(;tt!==null;)$0(tt)}function x2(e,n){var l=bt;bt|=2;var f=Q0(),y=J0();jt!==e||lt!==n?(wu=null,xu=Kt()+500,zs(e,n)):Us=Rn(e,n);e:do try{if(_t!==0&&tt!==null){n=tt;var w=mi;t:switch(_t){case 1:_t=0,mi=null,Fs(e,n,w,1);break;case 2:case 9:if(ud(w)){_t=0,mi=null,e1(n);break}n=function(){_t!==2&&_t!==9||jt!==e||(_t=7),cr(e)},w.then(n,n);break e;case 3:_t=7;break e;case 4:_t=5;break e;case 7:ud(w)?(_t=0,mi=null,e1(n)):(_t=0,mi=null,Fs(e,n,w,7));break;case 5:var _=null;switch(tt.tag){case 26:_=tt.memoizedState;case 5:case 27:var D=tt;if(_?P1(_):D.stateNode.complete){_t=0,mi=null;var U=D.sibling;if(U!==null)tt=U;else{var Q=D.return;Q!==null?(tt=Q,Eu(Q)):tt=null}break t}}_t=0,mi=null,Fs(e,n,w,5);break;case 6:_t=0,mi=null,Fs(e,n,w,6);break;case 8:Ih(),nn=6;break e;default:throw Error(c(462))}}w2();break}catch(ue){Z0(e,ue)}while(!0);return Er=qa=null,re.H=f,re.A=y,bt=l,tt!==null?0:(jt=null,lt=0,Fo(),nn)}function w2(){for(;tt!==null&&!os();)$0(tt)}function $0(e){var n=A0(e.alternate,e,Dr);e.memoizedProps=e.pendingProps,n===null?Eu(e):tt=n}function e1(e){var n=e,l=n.alternate;switch(n.tag){case 15:case 0:n=y0(l,n,n.pendingProps,n.type,void 0,lt);break;case 11:n=y0(l,n,n.pendingProps,n.type.render,n.ref,lt);break;case 5:Xc(n);default:C0(l,n),n=tt=Jf(n,Dr),n=A0(l,n,Dr)}e.memoizedProps=e.pendingProps,n===null?Eu(e):tt=n}function Fs(e,n,l,f){Er=qa=null,Xc(n),Rs=null,Ol=0;var y=n.return;try{if(l2(e,y,n,l,lt)){nn=1,uu(e,Ri(l,e.current)),tt=null;return}}catch(w){if(y!==null)throw tt=y,w;nn=1,uu(e,Ri(l,e.current)),tt=null;return}n.flags&32768?(ut||f===1?e=!0:Us||(lt&536870912)!==0?e=!1:(da=e=!0,(f===2||f===9||f===3||f===6)&&(f=di.current,f!==null&&f.tag===13&&(f.flags|=16384))),t1(n,e)):Eu(n)}function Eu(e){var n=e;do{if((n.flags&32768)!==0){t1(n,da);return}e=n.return;var l=c2(n.alternate,n,Dr);if(l!==null){tt=l;return}if(n=n.sibling,n!==null){tt=n;return}tt=n=e}while(n!==null);nn===0&&(nn=5)}function t1(e,n){do{var l=h2(e.alternate,e);if(l!==null){l.flags&=32767,tt=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!n&&(e=e.sibling,e!==null)){tt=e;return}tt=e=l}while(e!==null);nn=6,tt=null}function n1(e,n,l,f,y,w,_,D,U){e.cancelPendingCommit=null;do Au();while(Cn!==0);if((bt&6)!==0)throw Error(c(327));if(n!==null){if(n===e.current)throw Error(c(177));if(w=n.lanes|n.childLanes,w|=bc,Ci(e,l,w,_,D,U),e===jt&&(tt=jt=null,lt=0),Ps=n,pa=e,Mr=l,Oh=w,Nh=y,Y0=f,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,A2(ai,function(){return l1(),null})):(e.callbackNode=null,e.callbackPriority=0),f=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||f){f=re.T,re.T=null,y=he.p,he.p=2,_=bt,bt|=4;try{f2(e,n,l)}finally{bt=_,he.p=y,re.T=f}}Cn=1,i1(),r1(),a1()}}function i1(){if(Cn===1){Cn=0;var e=pa,n=Ps,l=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||l){l=re.T,re.T=null;var f=he.p;he.p=2;var y=bt;bt|=4;try{U0(n,e);var w=Gh,_=N(e.containerInfo),D=w.focusedElem,U=w.selectionRange;if(_!==D&&D&&D.ownerDocument&&C(D.ownerDocument.documentElement,D)){if(U!==null&&I(D)){var Q=U.start,ue=U.end;if(ue===void 0&&(ue=Q),"selectionStart"in D)D.selectionStart=Q,D.selectionEnd=Math.min(ue,D.value.length);else{var fe=D.ownerDocument||document,ee=fe&&fe.defaultView||window;if(ee.getSelection){var ae=ee.getSelection(),Te=D.textContent.length,Pe=Math.min(U.start,Te),Mt=U.end===void 0?Pe:Math.min(U.end,Te);!ae.extend&&Pe>Mt&&(_=Mt,Mt=Pe,Pe=_);var Y=E(D,Pe),z=E(D,Mt);if(Y&&z&&(ae.rangeCount!==1||ae.anchorNode!==Y.node||ae.anchorOffset!==Y.offset||ae.focusNode!==z.node||ae.focusOffset!==z.offset)){var K=fe.createRange();K.setStart(Y.node,Y.offset),ae.removeAllRanges(),Pe>Mt?(ae.addRange(K),ae.extend(z.node,z.offset)):(K.setEnd(z.node,z.offset),ae.addRange(K))}}}}for(fe=[],ae=D;ae=ae.parentNode;)ae.nodeType===1&&fe.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<fe.length;D++){var ce=fe[D];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}Bu=!!Vh,Gh=Vh=null}finally{bt=y,he.p=f,re.T=l}}e.current=n,Cn=2}}function r1(){if(Cn===2){Cn=0;var e=pa,n=Ps,l=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||l){l=re.T,re.T=null;var f=he.p;he.p=2;var y=bt;bt|=4;try{D0(e,n.alternate,n)}finally{bt=y,he.p=f,re.T=l}}Cn=3}}function a1(){if(Cn===4||Cn===3){Cn=0,So();var e=pa,n=Ps,l=Mr,f=Y0;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Cn=5:(Cn=0,Ps=pa=null,s1(e,e.pendingLanes));var y=e.pendingLanes;if(y===0&&(ma=null),ji(l),n=n.stateNode,we&&typeof we.onCommitFiberRoot=="function")try{we.onCommitFiberRoot(Pt,n,void 0,(n.current.flags&128)===128)}catch{}if(f!==null){n=re.T,y=he.p,he.p=2,re.T=null;try{for(var w=e.onRecoverableError,_=0;_<f.length;_++){var D=f[_];w(D.value,{componentStack:D.stack})}}finally{re.T=n,he.p=y}}(Mr&3)!==0&&Au(),cr(e),y=e.pendingLanes,(l&261930)!==0&&(y&42)!==0?e===Rh?Yl++:(Yl=0,Rh=e):Yl=0,ql(0)}}function s1(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,_l(n)))}function Au(){return i1(),r1(),a1(),l1()}function l1(){if(Cn!==5)return!1;var e=pa,n=Oh;Oh=0;var l=ji(Mr),f=re.T,y=he.p;try{he.p=32>l?32:l,re.T=null,l=Nh,Nh=null;var w=pa,_=Mr;if(Cn=0,Ps=pa=null,Mr=0,(bt&6)!==0)throw Error(c(331));var D=bt;if(bt|=4,H0(w.current),P0(w,w.current,_,l),bt=D,ql(0,!1),we&&typeof we.onPostCommitFiberRoot=="function")try{we.onPostCommitFiberRoot(Pt,w)}catch{}return!0}finally{he.p=y,re.T=f,s1(e,n)}}function o1(e,n,l){n=Ri(l,n),n=oh(e.stateNode,n,2),e=ua(e,n,2),e!==null&&(tr(e,2),cr(e))}function Tt(e,n,l){if(e.tag===3)o1(e,e,l);else for(;n!==null;){if(n.tag===3){o1(n,e,l);break}else if(n.tag===1){var f=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(ma===null||!ma.has(f))){e=Ri(l,e),l=u0(2),f=ua(n,l,2),f!==null&&(c0(l,f,n,e),tr(f,2),cr(f));break}}n=n.return}}function Mh(e,n,l){var f=e.pingCache;if(f===null){f=e.pingCache=new m2;var y=new Set;f.set(n,y)}else y=f.get(n),y===void 0&&(y=new Set,f.set(n,y));y.has(l)||(Ch=!0,y.add(l),e=b2.bind(null,e,n,l),n.then(e,e))}function b2(e,n,l){var f=e.pingCache;f!==null&&f.delete(n),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,jt===e&&(lt&l)===l&&(nn===4||nn===3&&(lt&62914560)===lt&&300>Kt()-yu?(bt&2)===0&&zs(e,0):_h|=l,js===lt&&(js=0)),cr(e)}function u1(e,n){n===0&&(n=vn()),e=Va(e,n),e!==null&&(tr(e,n),cr(e))}function v2(e){var n=e.memoizedState,l=0;n!==null&&(l=n.retryLane),u1(e,l)}function E2(e,n){var l=0;switch(e.tag){case 31:case 13:var f=e.stateNode,y=e.memoizedState;y!==null&&(l=y.retryLane);break;case 19:f=e.stateNode;break;case 22:f=e.stateNode._retryCache;break;default:throw Error(c(314))}f!==null&&f.delete(n),u1(e,l)}function A2(e,n){return Hr(e,n)}var Su=null,Hs=null,Lh=!1,Cu=!1,Bh=!1,xa=0;function cr(e){e!==Hs&&e.next===null&&(Hs===null?Su=Hs=e:Hs=Hs.next=e),Cu=!0,Lh||(Lh=!0,C2())}function ql(e,n){if(!Bh&&Cu){Bh=!0;do for(var l=!1,f=Su;f!==null;){if(e!==0){var y=f.pendingLanes;if(y===0)var w=0;else{var _=f.suspendedLanes,D=f.pingedLanes;w=(1<<31-Xe(42|e)+1)-1,w&=y&~(_&~D),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(l=!0,d1(f,w))}else w=lt,w=Ma(f,f===jt?w:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(w&3)===0||Rn(f,w)||(l=!0,d1(f,w));f=f.next}while(l);Bh=!1}}function S2(){c1()}function c1(){Cu=Lh=!1;var e=0;xa!==0&&B2()&&(e=xa);for(var n=Kt(),l=null,f=Su;f!==null;){var y=f.next,w=h1(f,n);w===0?(f.next=null,l===null?Su=y:l.next=y,y===null&&(Hs=l)):(l=f,(e!==0||(w&3)!==0)&&(Cu=!0)),f=y}Cn!==0&&Cn!==5||ql(e),xa!==0&&(xa=0)}function h1(e,n){for(var l=e.suspendedLanes,f=e.pingedLanes,y=e.expirationTimes,w=e.pendingLanes&-62914561;0<w;){var _=31-Xe(w),D=1<<_,U=y[_];U===-1?((D&l)===0||(D&f)!==0)&&(y[_]=dl(D,n)):U<=n&&(e.expiredLanes|=D),w&=~D}if(n=jt,l=lt,l=Ma(e,e===n?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),f=e.callbackNode,l===0||e===n&&(_t===2||_t===9)||e.cancelPendingCommit!==null)return f!==null&&f!==null&&_e(f),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||Rn(e,l)){if(n=l&-l,n===e.callbackPriority)return n;switch(f!==null&&_e(f),ji(l)){case 2:case 8:l=cl;break;case 32:l=ai;break;case 268435456:l=hl;break;default:l=ai}return f=f1.bind(null,e),l=Hr(l,f),e.callbackPriority=n,e.callbackNode=l,n}return f!==null&&f!==null&&_e(f),e.callbackPriority=2,e.callbackNode=null,2}function f1(e,n){if(Cn!==0&&Cn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(Au()&&e.callbackNode!==l)return null;var f=lt;return f=Ma(e,e===jt?f:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),f===0?null:(X0(e,f,n),h1(e,Kt()),e.callbackNode!=null&&e.callbackNode===l?f1.bind(null,e):null)}function d1(e,n){if(Au())return null;X0(e,n,!0)}function C2(){U2(function(){(bt&6)!==0?Hr(Zn,S2):c1()})}function kh(){if(xa===0){var e=Ts;e===0&&(e=Da,Da<<=1,(Da&261888)===0&&(Da=256)),xa=e}return xa}function g1(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Zr(""+e)}function m1(e,n){var l=n.ownerDocument.createElement("input");return l.name=n.name,l.value=n.value,e.id&&l.setAttribute("form",e.id),n.parentNode.insertBefore(l,n),e=new FormData(e),l.parentNode.removeChild(l),e}function _2(e,n,l,f,y){if(n==="submit"&&l&&l.stateNode===y){var w=g1((y[Ct]||null).action),_=f.submitter;_&&(n=(n=_[Ct]||null)?g1(n.formAction):_.getAttribute("formAction"),n!==null&&(w=n,_=null));var D=new En("action","action",null,f,y);e.push({event:D,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(xa!==0){var U=_?m1(y,_):new FormData(y);nh(l,{pending:!0,data:U,method:y.method,action:w},null,U)}}else typeof w=="function"&&(D.preventDefault(),U=_?m1(y,_):new FormData(y),nh(l,{pending:!0,data:U,method:y.method,action:w},w,U))},currentTarget:y}]})}}for(var Uh=0;Uh<Al.length;Uh++){var jh=Al[Uh],T2=jh.toLowerCase(),O2=jh[0].toUpperCase()+jh.slice(1);Gi(T2,"on"+O2)}Gi($n,"onAnimationEnd"),Gi(In,"onAnimationIteration"),Gi(At,"onAnimationStart"),Gi("dblclick","onDoubleClick"),Gi("focusin","onFocus"),Gi("focusout","onBlur"),Gi(Sn,"onTransitionRun"),Gi(Yn,"onTransitionStart"),Gi(na,"onTransitionCancel"),Gi(wr,"onTransitionEnd"),li("onMouseEnter",["mouseout","mouseover"]),li("onMouseLeave",["mouseout","mouseover"]),li("onPointerEnter",["pointerout","pointerover"]),li("onPointerLeave",["pointerout","pointerover"]),vt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vt("onBeforeInput",["compositionend","keypress","textInput","paste"]),vt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),N2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xl));function p1(e,n){n=(n&4)!==0;for(var l=0;l<e.length;l++){var f=e[l],y=f.event;f=f.listeners;e:{var w=void 0;if(n)for(var _=f.length-1;0<=_;_--){var D=f[_],U=D.instance,Q=D.currentTarget;if(D=D.listener,U!==w&&y.isPropagationStopped())break e;w=D,y.currentTarget=Q;try{w(y)}catch(ue){zo(ue)}y.currentTarget=null,w=U}else for(_=0;_<f.length;_++){if(D=f[_],U=D.instance,Q=D.currentTarget,D=D.listener,U!==w&&y.isPropagationStopped())break e;w=D,y.currentTarget=Q;try{w(y)}catch(ue){zo(ue)}y.currentTarget=null,w=U}}}}function nt(e,n){var l=n[Vr];l===void 0&&(l=n[Vr]=new Set);var f=e+"__bubble";l.has(f)||(y1(n,e,2,!1),l.add(f))}function Ph(e,n,l){var f=0;n&&(f|=4),y1(l,e,f,n)}var _u="_reactListening"+Math.random().toString(36).slice(2);function zh(e){if(!e[_u]){e[_u]=!0,ge.forEach(function(l){l!=="selectionchange"&&(N2.has(l)||Ph(l,!1,e),Ph(l,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[_u]||(n[_u]=!0,Ph("selectionchange",!1,n))}}function y1(e,n,l,f){switch(q1(n)){case 2:var y=ip;break;case 8:y=rp;break;default:y=tf}l=y.bind(null,n,l,e),y=void 0,!pl||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(y=!0),f?y!==void 0?e.addEventListener(n,l,{capture:!0,passive:y}):e.addEventListener(n,l,!0):y!==void 0?e.addEventListener(n,l,{passive:y}):e.addEventListener(n,l,!1)}function Fh(e,n,l,f,y){var w=f;if((n&1)===0&&(n&2)===0&&f!==null)e:for(;;){if(f===null)return;var _=f.tag;if(_===3||_===4){var D=f.stateNode.containerInfo;if(D===y)break;if(_===4)for(_=f.return;_!==null;){var U=_.tag;if((U===3||U===4)&&_.stateNode.containerInfo===y)return;_=_.return}for(;D!==null;){if(_=Jt(D),_===null)return;if(U=_.tag,U===5||U===6||U===26||U===27){f=w=_;continue e}D=D.parentNode}}f=f.return}No(function(){var Q=w,ue=ml(l),fe=[];e:{var ee=Po.get(e);if(ee!==void 0){var ae=En,Te=e;switch(e){case"keypress":if(ir(l)===0)break e;case"keydown":case"keyup":ae=xs;break;case"focusin":Te="focus",ae=wl;break;case"focusout":Te="blur",ae=wl;break;case"beforeblur":case"afterblur":ae=wl;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=wt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=ps;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=yc;break;case $n:case In:case At:ae=We;break;case wr:ae=mr;break;case"scroll":case"scrollend":ae=Ro;break;case"wheel":ae=xc;break;case"copy":case"cut":case"paste":ae=ys;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=Et;break;case"toggle":case"beforetoggle":ae=vl}var Pe=(n&4)!==0,Mt=!Pe&&(e==="scroll"||e==="scrollend"),Y=Pe?ee!==null?ee+"Capture":null:ee;Pe=[];for(var z=Q,K;z!==null;){var ce=z;if(K=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||K===null||Y===null||(ce=Ve(z,Y),ce!=null&&Pe.push(Wl(z,ce,K))),Mt)break;z=z.return}0<Pe.length&&(ee=new ae(ee,Te,null,l,ue),fe.push({event:ee,listeners:Pe}))}}if((n&7)===0){e:{if(ee=e==="mouseover"||e==="pointerover",ae=e==="mouseout"||e==="pointerout",ee&&l!==Ba&&(Te=l.relatedTarget||l.fromElement)&&(Jt(Te)||Te[si]))break e;if((ae||ee)&&(ee=ue.window===ue?ue:(ee=ue.ownerDocument)?ee.defaultView||ee.parentWindow:window,ae?(Te=l.relatedTarget||l.toElement,ae=Q,Te=Te?Jt(Te):null,Te!==null&&(Mt=g(Te),Pe=Te.tag,Te!==Mt||Pe!==5&&Pe!==27&&Pe!==6)&&(Te=null)):(ae=null,Te=Q),ae!==Te)){if(Pe=wt,ce="onMouseLeave",Y="onMouseEnter",z="mouse",(e==="pointerout"||e==="pointerover")&&(Pe=Et,ce="onPointerLeave",Y="onPointerEnter",z="pointer"),Mt=ae==null?ee:Gr(ae),K=Te==null?ee:Gr(Te),ee=new Pe(ce,z+"leave",ae,l,ue),ee.target=Mt,ee.relatedTarget=K,ce=null,Jt(ue)===Q&&(Pe=new Pe(Y,z+"enter",Te,l,ue),Pe.target=K,Pe.relatedTarget=Mt,ce=Pe),Mt=ce,ae&&Te)t:{for(Pe=R2,Y=ae,z=Te,K=0,ce=Y;ce;ce=Pe(ce))K++;ce=0;for(var Le=z;Le;Le=Pe(Le))ce++;for(;0<K-ce;)Y=Pe(Y),K--;for(;0<ce-K;)z=Pe(z),ce--;for(;K--;){if(Y===z||z!==null&&Y===z.alternate){Pe=Y;break t}Y=Pe(Y),z=Pe(z)}Pe=null}else Pe=null;ae!==null&&x1(fe,ee,ae,Pe,!1),Te!==null&&Mt!==null&&x1(fe,Mt,Te,Pe,!0)}}e:{if(ee=Q?Gr(Q):window,ae=ee.nodeName&&ee.nodeName.toLowerCase(),ae==="select"||ae==="input"&&ee.type==="file")var pt=hi;else if(El(ee))if(jo)pt=u;else{pt=i;var Re=t}else ae=ee.nodeName,!ae||ae.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?Q&&Bt(Q.elementType)&&(pt=hi):pt=a;if(pt&&(pt=pt(e,Q))){ci(fe,pt,l,ue);break e}Re&&Re(e,ee,Q),e==="focusout"&&Q&&ee.type==="number"&&Q.memoizedProps.value!=null&&M(ee,"number",ee.value)}switch(Re=Q?Gr(Q):window,e){case"focusin":(El(Re)||Re.contentEditable==="true")&&(j=Re,P=Q,q=null);break;case"focusout":q=P=j=null;break;case"mousedown":te=!0;break;case"contextmenu":case"mouseup":case"dragend":te=!1,xe(fe,l,ue);break;case"selectionchange":if(L)break;case"keydown":case"keyup":xe(fe,l,ue)}var Ze;if(ja)e:{switch(e){case"compositionstart":var ot="onCompositionStart";break e;case"compositionend":ot="onCompositionEnd";break e;case"compositionupdate":ot="onCompositionUpdate";break e}ot=void 0}else ta?Uo(e,l)&&(ot="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(ot="onCompositionStart");ot&&(ko&&l.locale!=="ko"&&(ta||ot!=="onCompositionStart"?ot==="onCompositionEnd"&&ta&&(Ze=Kr()):(Hi=ue,Vi="value"in Hi?Hi.value:Hi.textContent,ta=!0)),Re=Tu(Q,ot),0<Re.length&&(ot=new Mo(ot,e,null,l,ue),fe.push({event:ot,listeners:Re}),Ze?ot.data=Ze:(Ze=ea(l),Ze!==null&&(ot.data=Ze)))),(Ze=Bo?sr(e,l):bs(e,l))&&(ot=Tu(Q,"onBeforeInput"),0<ot.length&&(Re=new Mo("onBeforeInput","beforeinput",null,l,ue),fe.push({event:Re,listeners:ot}),Re.data=Ze)),_2(fe,e,Q,l,ue)}p1(fe,n)})}function Wl(e,n,l){return{instance:e,listener:n,currentTarget:l}}function Tu(e,n){for(var l=n+"Capture",f=[];e!==null;){var y=e,w=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||w===null||(y=Ve(e,l),y!=null&&f.unshift(Wl(e,y,w)),y=Ve(e,n),y!=null&&f.push(Wl(e,y,w))),e.tag===3)return f;e=e.return}return[]}function R2(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function x1(e,n,l,f,y){for(var w=n._reactName,_=[];l!==null&&l!==f;){var D=l,U=D.alternate,Q=D.stateNode;if(D=D.tag,U!==null&&U===f)break;D!==5&&D!==26&&D!==27||Q===null||(U=Q,y?(Q=Ve(l,w),Q!=null&&_.unshift(Wl(l,Q,U))):y||(Q=Ve(l,w),Q!=null&&_.push(Wl(l,Q,U)))),l=l.return}_.length!==0&&e.push({event:n,listeners:_})}var I2=/\r\n?/g,D2=/\u0000|\uFFFD/g;function w1(e){return(typeof e=="string"?e:""+e).replace(I2,`
`).replace(D2,"")}function b1(e,n){return n=w1(n),w1(e)===n}function Dt(e,n,l,f,y,w){switch(l){case"children":typeof f=="string"?n==="body"||n==="textarea"&&f===""||Wr(e,f):(typeof f=="number"||typeof f=="bigint")&&n!=="body"&&Wr(e,""+f);break;case"className":qr(e,"class",f);break;case"tabIndex":qr(e,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":qr(e,l,f);break;case"style":Me(e,f,w);break;case"data":if(n!=="object"){qr(e,"data",f);break}case"src":case"href":if(f===""&&(n!=="a"||l!=="href")){e.removeAttribute(l);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){e.removeAttribute(l);break}f=Zr(""+f),e.setAttribute(l,f);break;case"action":case"formAction":if(typeof f=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(l==="formAction"?(n!=="input"&&Dt(e,n,"name",y.name,y,null),Dt(e,n,"formEncType",y.formEncType,y,null),Dt(e,n,"formMethod",y.formMethod,y,null),Dt(e,n,"formTarget",y.formTarget,y,null)):(Dt(e,n,"encType",y.encType,y,null),Dt(e,n,"method",y.method,y,null),Dt(e,n,"target",y.target,y,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){e.removeAttribute(l);break}f=Zr(""+f),e.setAttribute(l,f);break;case"onClick":f!=null&&(e.onclick=Qn);break;case"onScroll":f!=null&&nt("scroll",e);break;case"onScrollEnd":f!=null&&nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(c(61));if(l=f.__html,l!=null){if(y.children!=null)throw Error(c(60));e.innerHTML=l}}break;case"multiple":e.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":e.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){e.removeAttribute("xlink:href");break}l=Zr(""+f),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?e.setAttribute(l,""+f):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":f===!0?e.setAttribute(l,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?e.setAttribute(l,f):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?e.setAttribute(l,f):e.removeAttribute(l);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?e.removeAttribute(l):e.setAttribute(l,f);break;case"popover":nt("beforetoggle",e),nt("toggle",e),Yr(e,"popover",f);break;case"xlinkActuate":oi(e,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":oi(e,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":oi(e,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":oi(e,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":oi(e,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":oi(e,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":oi(e,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":oi(e,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":oi(e,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Yr(e,"is",f);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Oo.get(l)||l,Yr(e,l,f))}}function Hh(e,n,l,f,y,w){switch(l){case"style":Me(e,f,w);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(c(61));if(l=f.__html,l!=null){if(y.children!=null)throw Error(c(60));e.innerHTML=l}}break;case"children":typeof f=="string"?Wr(e,f):(typeof f=="number"||typeof f=="bigint")&&Wr(e,""+f);break;case"onScroll":f!=null&&nt("scroll",e);break;case"onScrollEnd":f!=null&&nt("scrollend",e);break;case"onClick":f!=null&&(e.onclick=Qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!To.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(y=l.endsWith("Capture"),n=l.slice(2,y?l.length-7:void 0),w=e[Ct]||null,w=w!=null?w[l]:null,typeof w=="function"&&e.removeEventListener(n,w,y),typeof f=="function")){typeof w!="function"&&w!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(n,f,y);break e}l in e?e[l]=f:f===!0?e.setAttribute(l,""):Yr(e,l,f)}}}function Bn(e,n,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":nt("error",e),nt("load",e);var f=!1,y=!1,w;for(w in l)if(l.hasOwnProperty(w)){var _=l[w];if(_!=null)switch(w){case"src":f=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(c(137,n));default:Dt(e,n,w,_,l,null)}}y&&Dt(e,n,"srcSet",l.srcSet,l,null),f&&Dt(e,n,"src",l.src,l,null);return;case"input":nt("invalid",e);var D=w=_=y=null,U=null,Q=null;for(f in l)if(l.hasOwnProperty(f)){var ue=l[f];if(ue!=null)switch(f){case"name":y=ue;break;case"type":_=ue;break;case"checked":U=ue;break;case"defaultChecked":Q=ue;break;case"value":w=ue;break;case"defaultValue":D=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(c(137,n));break;default:Dt(e,n,f,ue,l,null)}}W(e,w,D,U,Q,_,y,!1);return;case"select":nt("invalid",e),f=_=w=null;for(y in l)if(l.hasOwnProperty(y)&&(D=l[y],D!=null))switch(y){case"value":w=D;break;case"defaultValue":_=D;break;case"multiple":f=D;default:Dt(e,n,y,D,l,null)}n=w,l=_,e.multiple=!!f,n!=null?Oe(e,!!f,n,!1):l!=null&&Oe(e,!!f,l,!0);return;case"textarea":nt("invalid",e),w=y=f=null;for(_ in l)if(l.hasOwnProperty(_)&&(D=l[_],D!=null))switch(_){case"value":f=D;break;case"defaultValue":y=D;break;case"children":w=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(c(91));break;default:Dt(e,n,_,D,l,null)}Vn(e,f,y,w);return;case"option":for(U in l)l.hasOwnProperty(U)&&(f=l[U],f!=null)&&(U==="selected"?e.selected=f&&typeof f!="function"&&typeof f!="symbol":Dt(e,n,U,f,l,null));return;case"dialog":nt("beforetoggle",e),nt("toggle",e),nt("cancel",e),nt("close",e);break;case"iframe":case"object":nt("load",e);break;case"video":case"audio":for(f=0;f<Xl.length;f++)nt(Xl[f],e);break;case"image":nt("error",e),nt("load",e);break;case"details":nt("toggle",e);break;case"embed":case"source":case"link":nt("error",e),nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in l)if(l.hasOwnProperty(Q)&&(f=l[Q],f!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(c(137,n));default:Dt(e,n,Q,f,l,null)}return;default:if(Bt(n)){for(ue in l)l.hasOwnProperty(ue)&&(f=l[ue],f!==void 0&&Hh(e,n,ue,f,l,void 0));return}}for(D in l)l.hasOwnProperty(D)&&(f=l[D],f!=null&&Dt(e,n,D,f,l,null))}function M2(e,n,l,f){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,w=null,_=null,D=null,U=null,Q=null,ue=null;for(ae in l){var fe=l[ae];if(l.hasOwnProperty(ae)&&fe!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":U=fe;default:f.hasOwnProperty(ae)||Dt(e,n,ae,null,f,fe)}}for(var ee in f){var ae=f[ee];if(fe=l[ee],f.hasOwnProperty(ee)&&(ae!=null||fe!=null))switch(ee){case"type":w=ae;break;case"name":y=ae;break;case"checked":Q=ae;break;case"defaultChecked":ue=ae;break;case"value":_=ae;break;case"defaultValue":D=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(c(137,n));break;default:ae!==fe&&Dt(e,n,ee,ae,f,fe)}}hn(e,_,D,U,Q,ue,w,y);return;case"select":ae=_=D=ee=null;for(w in l)if(U=l[w],l.hasOwnProperty(w)&&U!=null)switch(w){case"value":break;case"multiple":ae=U;default:f.hasOwnProperty(w)||Dt(e,n,w,null,f,U)}for(y in f)if(w=f[y],U=l[y],f.hasOwnProperty(y)&&(w!=null||U!=null))switch(y){case"value":ee=w;break;case"defaultValue":D=w;break;case"multiple":_=w;default:w!==U&&Dt(e,n,y,w,f,U)}n=D,l=_,f=ae,ee!=null?Oe(e,!!l,ee,!1):!!f!=!!l&&(n!=null?Oe(e,!!l,n,!0):Oe(e,!!l,l?[]:"",!1));return;case"textarea":ae=ee=null;for(D in l)if(y=l[D],l.hasOwnProperty(D)&&y!=null&&!f.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:Dt(e,n,D,null,f,y)}for(_ in f)if(y=f[_],w=l[_],f.hasOwnProperty(_)&&(y!=null||w!=null))switch(_){case"value":ee=y;break;case"defaultValue":ae=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(c(91));break;default:y!==w&&Dt(e,n,_,y,f,w)}ln(e,ee,ae);return;case"option":for(var Te in l)ee=l[Te],l.hasOwnProperty(Te)&&ee!=null&&!f.hasOwnProperty(Te)&&(Te==="selected"?e.selected=!1:Dt(e,n,Te,null,f,ee));for(U in f)ee=f[U],ae=l[U],f.hasOwnProperty(U)&&ee!==ae&&(ee!=null||ae!=null)&&(U==="selected"?e.selected=ee&&typeof ee!="function"&&typeof ee!="symbol":Dt(e,n,U,ee,f,ae));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pe in l)ee=l[Pe],l.hasOwnProperty(Pe)&&ee!=null&&!f.hasOwnProperty(Pe)&&Dt(e,n,Pe,null,f,ee);for(Q in f)if(ee=f[Q],ae=l[Q],f.hasOwnProperty(Q)&&ee!==ae&&(ee!=null||ae!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(c(137,n));break;default:Dt(e,n,Q,ee,f,ae)}return;default:if(Bt(n)){for(var Mt in l)ee=l[Mt],l.hasOwnProperty(Mt)&&ee!==void 0&&!f.hasOwnProperty(Mt)&&Hh(e,n,Mt,void 0,f,ee);for(ue in f)ee=f[ue],ae=l[ue],!f.hasOwnProperty(ue)||ee===ae||ee===void 0&&ae===void 0||Hh(e,n,ue,ee,f,ae);return}}for(var Y in l)ee=l[Y],l.hasOwnProperty(Y)&&ee!=null&&!f.hasOwnProperty(Y)&&Dt(e,n,Y,null,f,ee);for(fe in f)ee=f[fe],ae=l[fe],!f.hasOwnProperty(fe)||ee===ae||ee==null&&ae==null||Dt(e,n,fe,ee,f,ae)}function v1(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function L2(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,l=performance.getEntriesByType("resource"),f=0;f<l.length;f++){var y=l[f],w=y.transferSize,_=y.initiatorType,D=y.duration;if(w&&D&&v1(_)){for(_=0,D=y.responseEnd,f+=1;f<l.length;f++){var U=l[f],Q=U.startTime;if(Q>D)break;var ue=U.transferSize,fe=U.initiatorType;ue&&v1(fe)&&(U=U.responseEnd,_+=ue*(U<D?1:(D-Q)/(U-Q)))}if(--f,n+=8*(w+_)/(y.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Vh=null,Gh=null;function Ou(e){return e.nodeType===9?e:e.ownerDocument}function E1(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function A1(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Yh(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var qh=null;function B2(){var e=window.event;return e&&e.type==="popstate"?e===qh?!1:(qh=e,!0):(qh=null,!1)}var S1=typeof setTimeout=="function"?setTimeout:void 0,k2=typeof clearTimeout=="function"?clearTimeout:void 0,C1=typeof Promise=="function"?Promise:void 0,U2=typeof queueMicrotask=="function"?queueMicrotask:typeof C1<"u"?function(e){return C1.resolve(null).then(e).catch(j2)}:S1;function j2(e){setTimeout(function(){throw e})}function wa(e){return e==="head"}function _1(e,n){var l=n,f=0;do{var y=l.nextSibling;if(e.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"||l==="/&"){if(f===0){e.removeChild(y),qs(n);return}f--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")f++;else if(l==="html")Zl(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,Zl(l);for(var w=l.firstChild;w;){var _=w.nextSibling,D=w.nodeName;w[La]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&w.rel.toLowerCase()==="stylesheet"||l.removeChild(w),w=_}}else l==="body"&&Zl(e.ownerDocument.body);l=y}while(l);qs(n)}function T1(e,n){var l=e;e=0;do{var f=l.nextSibling;if(l.nodeType===1?n?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(n?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),f&&f.nodeType===8)if(l=f.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=f}while(l)}function Xh(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var l=n;switch(n=n.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Xh(l),Kn(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function P2(e,n,l,f){for(;e.nodeType===1;){var y=l;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!f&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(f){if(!e[La])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(w=e.getAttribute("rel"),w==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(w!==y.rel||e.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||e.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||e.getAttribute("title")!==(y.title==null?null:y.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(w=e.getAttribute("src"),(w!==(y.src==null?null:y.src)||e.getAttribute("type")!==(y.type==null?null:y.type)||e.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&w&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var w=y.name==null?null:""+y.name;if(y.type==="hidden"&&e.getAttribute("name")===w)return e}else return e;if(e=Bi(e.nextSibling),e===null)break}return null}function z2(e,n,l){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=Bi(e.nextSibling),e===null))return null;return e}function O1(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Bi(e.nextSibling),e===null))return null;return e}function Wh(e){return e.data==="$?"||e.data==="$~"}function Zh(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function F2(e,n){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||l.readyState!=="loading")n();else{var f=function(){n(),l.removeEventListener("DOMContentLoaded",f)};l.addEventListener("DOMContentLoaded",f),e._reactRetry=f}}function Bi(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Kh=null;function N1(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(n===0)return Bi(e.nextSibling);n--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||n++}e=e.nextSibling}return null}function R1(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(n===0)return e;n--}else l!=="/$"&&l!=="/&"||n++}e=e.previousSibling}return null}function I1(e,n,l){switch(n=Ou(l),e){case"html":if(e=n.documentElement,!e)throw Error(c(452));return e;case"head":if(e=n.head,!e)throw Error(c(453));return e;case"body":if(e=n.body,!e)throw Error(c(454));return e;default:throw Error(c(451))}}function Zl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Kn(e)}var ki=new Map,D1=new Set;function Nu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Lr=he.d;he.d={f:H2,r:V2,D:G2,C:Y2,L:q2,m:X2,X:Z2,S:W2,M:K2};function H2(){var e=Lr.f(),n=bu();return e||n}function V2(e){var n=xt(e);n!==null&&n.tag===5&&n.type==="form"?Zd(n):Lr.r(e)}var Vs=typeof document>"u"?null:document;function M1(e,n,l){var f=Vs;if(f&&typeof n=="string"&&n){var y=Qe(n);y='link[rel="'+e+'"][href="'+y+'"]',typeof l=="string"&&(y+='[crossorigin="'+l+'"]'),D1.has(y)||(D1.add(y),e={rel:e,crossOrigin:l,href:n},f.querySelector(y)===null&&(n=f.createElement("link"),Bn(n,"link",e),$t(n),f.head.appendChild(n)))}}function G2(e){Lr.D(e),M1("dns-prefetch",e,null)}function Y2(e,n){Lr.C(e,n),M1("preconnect",e,n)}function q2(e,n,l){Lr.L(e,n,l);var f=Vs;if(f&&e&&n){var y='link[rel="preload"][as="'+Qe(n)+'"]';n==="image"&&l&&l.imageSrcSet?(y+='[imagesrcset="'+Qe(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(y+='[imagesizes="'+Qe(l.imageSizes)+'"]')):y+='[href="'+Qe(e)+'"]';var w=y;switch(n){case"style":w=Gs(e);break;case"script":w=Ys(e)}ki.has(w)||(e=R({rel:"preload",href:n==="image"&&l&&l.imageSrcSet?void 0:e,as:n},l),ki.set(w,e),f.querySelector(y)!==null||n==="style"&&f.querySelector(Kl(w))||n==="script"&&f.querySelector(Ql(w))||(n=f.createElement("link"),Bn(n,"link",e),$t(n),f.head.appendChild(n)))}}function X2(e,n){Lr.m(e,n);var l=Vs;if(l&&e){var f=n&&typeof n.as=="string"?n.as:"script",y='link[rel="modulepreload"][as="'+Qe(f)+'"][href="'+Qe(e)+'"]',w=y;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=Ys(e)}if(!ki.has(w)&&(e=R({rel:"modulepreload",href:e},n),ki.set(w,e),l.querySelector(y)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Ql(w)))return}f=l.createElement("link"),Bn(f,"link",e),$t(f),l.head.appendChild(f)}}}function W2(e,n,l){Lr.S(e,n,l);var f=Vs;if(f&&e){var y=Hn(f).hoistableStyles,w=Gs(e);n=n||"default";var _=y.get(w);if(!_){var D={loading:0,preload:null};if(_=f.querySelector(Kl(w)))D.loading=5;else{e=R({rel:"stylesheet",href:e,"data-precedence":n},l),(l=ki.get(w))&&Qh(e,l);var U=_=f.createElement("link");$t(U),Bn(U,"link",e),U._p=new Promise(function(Q,ue){U.onload=Q,U.onerror=ue}),U.addEventListener("load",function(){D.loading|=1}),U.addEventListener("error",function(){D.loading|=2}),D.loading|=4,Ru(_,n,f)}_={type:"stylesheet",instance:_,count:1,state:D},y.set(w,_)}}}function Z2(e,n){Lr.X(e,n);var l=Vs;if(l&&e){var f=Hn(l).hoistableScripts,y=Ys(e),w=f.get(y);w||(w=l.querySelector(Ql(y)),w||(e=R({src:e,async:!0},n),(n=ki.get(y))&&Jh(e,n),w=l.createElement("script"),$t(w),Bn(w,"link",e),l.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},f.set(y,w))}}function K2(e,n){Lr.M(e,n);var l=Vs;if(l&&e){var f=Hn(l).hoistableScripts,y=Ys(e),w=f.get(y);w||(w=l.querySelector(Ql(y)),w||(e=R({src:e,async:!0,type:"module"},n),(n=ki.get(y))&&Jh(e,n),w=l.createElement("script"),$t(w),Bn(w,"link",e),l.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},f.set(y,w))}}function L1(e,n,l,f){var y=(y=be.current)?Nu(y):null;if(!y)throw Error(c(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(n=Gs(l.href),l=Hn(y).hoistableStyles,f=l.get(n),f||(f={type:"style",instance:null,count:0,state:null},l.set(n,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=Gs(l.href);var w=Hn(y).hoistableStyles,_=w.get(e);if(_||(y=y.ownerDocument||y,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(e,_),(w=y.querySelector(Kl(e)))&&!w._p&&(_.instance=w,_.state.loading=5),ki.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},ki.set(e,l),w||Q2(y,e,l,_.state))),n&&f===null)throw Error(c(528,""));return _}if(n&&f!==null)throw Error(c(529,""));return null;case"script":return n=l.async,l=l.src,typeof l=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ys(l),l=Hn(y).hoistableScripts,f=l.get(n),f||(f={type:"script",instance:null,count:0,state:null},l.set(n,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(c(444,e))}}function Gs(e){return'href="'+Qe(e)+'"'}function Kl(e){return'link[rel="stylesheet"]['+e+"]"}function B1(e){return R({},e,{"data-precedence":e.precedence,precedence:null})}function Q2(e,n,l,f){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?f.loading=1:(n=e.createElement("link"),f.preload=n,n.addEventListener("load",function(){return f.loading|=1}),n.addEventListener("error",function(){return f.loading|=2}),Bn(n,"link",l),$t(n),e.head.appendChild(n))}function Ys(e){return'[src="'+Qe(e)+'"]'}function Ql(e){return"script[async]"+e}function k1(e,n,l){if(n.count++,n.instance===null)switch(n.type){case"style":var f=e.querySelector('style[data-href~="'+Qe(l.href)+'"]');if(f)return n.instance=f,$t(f),f;var y=R({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return f=(e.ownerDocument||e).createElement("style"),$t(f),Bn(f,"style",y),Ru(f,l.precedence,e),n.instance=f;case"stylesheet":y=Gs(l.href);var w=e.querySelector(Kl(y));if(w)return n.state.loading|=4,n.instance=w,$t(w),w;f=B1(l),(y=ki.get(y))&&Qh(f,y),w=(e.ownerDocument||e).createElement("link"),$t(w);var _=w;return _._p=new Promise(function(D,U){_.onload=D,_.onerror=U}),Bn(w,"link",f),n.state.loading|=4,Ru(w,l.precedence,e),n.instance=w;case"script":return w=Ys(l.src),(y=e.querySelector(Ql(w)))?(n.instance=y,$t(y),y):(f=l,(y=ki.get(w))&&(f=R({},l),Jh(f,y)),e=e.ownerDocument||e,y=e.createElement("script"),$t(y),Bn(y,"link",f),e.head.appendChild(y),n.instance=y);case"void":return null;default:throw Error(c(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(f=n.instance,n.state.loading|=4,Ru(f,l.precedence,e));return n.instance}function Ru(e,n,l){for(var f=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=f.length?f[f.length-1]:null,w=y,_=0;_<f.length;_++){var D=f[_];if(D.dataset.precedence===n)w=D;else if(w!==y)break}w?w.parentNode.insertBefore(e,w.nextSibling):(n=l.nodeType===9?l.head:l,n.insertBefore(e,n.firstChild))}function Qh(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Jh(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Iu=null;function U1(e,n,l){if(Iu===null){var f=new Map,y=Iu=new Map;y.set(l,f)}else y=Iu,f=y.get(l),f||(f=new Map,y.set(l,f));if(f.has(e))return f;for(f.set(e,null),l=l.getElementsByTagName(e),y=0;y<l.length;y++){var w=l[y];if(!(w[La]||w[sn]||e==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var _=w.getAttribute(n)||"";_=e+_;var D=f.get(_);D?D.push(w):f.set(_,[w])}}return f}function j1(e,n,l){e=e.ownerDocument||e,e.head.insertBefore(l,n==="title"?e.querySelector("head > title"):null)}function J2(e,n,l){if(l===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function P1(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function $2(e,n,l,f){if(l.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var y=Gs(f.href),w=n.querySelector(Kl(y));if(w){n=w._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Du.bind(e),n.then(e,e)),l.state.loading|=4,l.instance=w,$t(w);return}w=n.ownerDocument||n,f=B1(f),(y=ki.get(y))&&Qh(f,y),w=w.createElement("link"),$t(w);var _=w;_._p=new Promise(function(D,U){_.onload=D,_.onerror=U}),Bn(w,"link",f),l.instance=w}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,n),(n=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=Du.bind(e),n.addEventListener("load",l),n.addEventListener("error",l))}}var $h=0;function ep(e,n){return e.stylesheets&&e.count===0&&Lu(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var f=setTimeout(function(){if(e.stylesheets&&Lu(e,e.stylesheets),e.unsuspend){var w=e.unsuspend;e.unsuspend=null,w()}},6e4+n);0<e.imgBytes&&$h===0&&($h=62500*L2());var y=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Lu(e,e.stylesheets),e.unsuspend)){var w=e.unsuspend;e.unsuspend=null,w()}},(e.imgBytes>$h?50:800)+n);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(f),clearTimeout(y)}}:null}function Du(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Lu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Mu=null;function Lu(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Mu=new Map,n.forEach(tp,e),Mu=null,Du.call(e))}function tp(e,n){if(!(n.state.loading&4)){var l=Mu.get(e);if(l)var f=l.get(null);else{l=new Map,Mu.set(e,l);for(var y=e.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<y.length;w++){var _=y[w];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(l.set(_.dataset.precedence,_),f=_)}f&&l.set(null,f)}y=n.instance,_=y.getAttribute("data-precedence"),w=l.get(_)||f,w===f&&l.set(null,y),l.set(_,y),this.count++,f=Du.bind(this),y.addEventListener("load",f),y.addEventListener("error",f),w?w.parentNode.insertBefore(y,w.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(y,e.firstChild)),n.state.loading|=4}}var Jl={$$typeof:X,Provider:null,Consumer:null,_currentValue:Be,_currentValue2:Be,_threadCount:0};function np(e,n,l,f,y,w,_,D,U){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=er(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=er(0),this.hiddenUpdates=er(null),this.identifierPrefix=f,this.onUncaughtError=y,this.onCaughtError=w,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function z1(e,n,l,f,y,w,_,D,U,Q,ue,fe){return e=new np(e,n,l,_,U,Q,ue,fe,D),n=1,w===!0&&(n|=24),w=fi(3,null,null,n),e.current=w,w.stateNode=e,n=Dc(),n.refCount++,e.pooledCache=n,n.refCount++,w.memoizedState={element:f,isDehydrated:l,cache:n},kc(w),e}function F1(e){return e?(e=Es,e):Es}function H1(e,n,l,f,y,w){y=F1(y),f.context===null?f.context=y:f.pendingContext=y,f=oa(n),f.payload={element:l},w=w===void 0?null:w,w!==null&&(f.callback=w),l=ua(e,f,n),l!==null&&(ri(l,e,n),Rl(l,e,n))}function V1(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<n?l:n}}function ef(e,n){V1(e,n),(e=e.alternate)&&V1(e,n)}function G1(e){if(e.tag===13||e.tag===31){var n=Va(e,67108864);n!==null&&ri(n,e,67108864),ef(e,67108864)}}function Y1(e){if(e.tag===13||e.tag===31){var n=yi();n=Tn(n);var l=Va(e,n);l!==null&&ri(l,e,n),ef(e,n)}}var Bu=!0;function ip(e,n,l,f){var y=re.T;re.T=null;var w=he.p;try{he.p=2,tf(e,n,l,f)}finally{he.p=w,re.T=y}}function rp(e,n,l,f){var y=re.T;re.T=null;var w=he.p;try{he.p=8,tf(e,n,l,f)}finally{he.p=w,re.T=y}}function tf(e,n,l,f){if(Bu){var y=nf(f);if(y===null)Fh(e,n,f,ku,l),X1(e,f);else if(sp(y,e,n,l,f))f.stopPropagation();else if(X1(e,f),n&4&&-1<ap.indexOf(e)){for(;y!==null;){var w=xt(y);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var _=$i(w.pendingLanes);if(_!==0){var D=w;for(D.pendingLanes|=2,D.entangledLanes|=2;_;){var U=1<<31-Xe(_);D.entanglements[1]|=U,_&=~U}cr(w),(bt&6)===0&&(xu=Kt()+500,ql(0))}}break;case 31:case 13:D=Va(w,2),D!==null&&ri(D,w,2),bu(),ef(w,2)}if(w=nf(f),w===null&&Fh(e,n,f,ku,l),w===y)break;y=w}y!==null&&f.stopPropagation()}else Fh(e,n,f,null,l)}}function nf(e){return e=ml(e),rf(e)}var ku=null;function rf(e){if(ku=null,e=Jt(e),e!==null){var n=g(e);if(n===null)e=null;else{var l=n.tag;if(l===13){if(e=b(n),e!==null)return e;e=null}else if(l===31){if(e=A(n),e!==null)return e;e=null}else if(l===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return ku=e,null}function q1(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ul()){case Zn:return 2;case cl:return 8;case ai:case Nn:return 32;case hl:return 268435456;default:return 32}default:return 32}}var af=!1,ba=null,va=null,Ea=null,$l=new Map,eo=new Map,Aa=[],ap="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function X1(e,n){switch(e){case"focusin":case"focusout":ba=null;break;case"dragenter":case"dragleave":va=null;break;case"mouseover":case"mouseout":Ea=null;break;case"pointerover":case"pointerout":$l.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":eo.delete(n.pointerId)}}function to(e,n,l,f,y,w){return e===null||e.nativeEvent!==w?(e={blockedOn:n,domEventName:l,eventSystemFlags:f,nativeEvent:w,targetContainers:[y]},n!==null&&(n=xt(n),n!==null&&G1(n)),e):(e.eventSystemFlags|=f,n=e.targetContainers,y!==null&&n.indexOf(y)===-1&&n.push(y),e)}function sp(e,n,l,f,y){switch(n){case"focusin":return ba=to(ba,e,n,l,f,y),!0;case"dragenter":return va=to(va,e,n,l,f,y),!0;case"mouseover":return Ea=to(Ea,e,n,l,f,y),!0;case"pointerover":var w=y.pointerId;return $l.set(w,to($l.get(w)||null,e,n,l,f,y)),!0;case"gotpointercapture":return w=y.pointerId,eo.set(w,to(eo.get(w)||null,e,n,l,f,y)),!0}return!1}function W1(e){var n=Jt(e.target);if(n!==null){var l=g(n);if(l!==null){if(n=l.tag,n===13){if(n=b(l),n!==null){e.blockedOn=n,Se(e.priority,function(){Y1(l)});return}}else if(n===31){if(n=A(l),n!==null){e.blockedOn=n,Se(e.priority,function(){Y1(l)});return}}else if(n===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Uu(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var l=nf(e.nativeEvent);if(l===null){l=e.nativeEvent;var f=new l.constructor(l.type,l);Ba=f,l.target.dispatchEvent(f),Ba=null}else return n=xt(l),n!==null&&G1(n),e.blockedOn=l,!1;n.shift()}return!0}function Z1(e,n,l){Uu(e)&&l.delete(n)}function lp(){af=!1,ba!==null&&Uu(ba)&&(ba=null),va!==null&&Uu(va)&&(va=null),Ea!==null&&Uu(Ea)&&(Ea=null),$l.forEach(Z1),eo.forEach(Z1)}function ju(e,n){e.blockedOn===n&&(e.blockedOn=null,af||(af=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,lp)))}var Pu=null;function K1(e){Pu!==e&&(Pu=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Pu===e&&(Pu=null);for(var n=0;n<e.length;n+=3){var l=e[n],f=e[n+1],y=e[n+2];if(typeof f!="function"){if(rf(f||l)===null)continue;break}var w=xt(l);w!==null&&(e.splice(n,3),n-=3,nh(w,{pending:!0,data:y,method:l.method,action:f},f,y))}}))}function qs(e){function n(U){return ju(U,e)}ba!==null&&ju(ba,e),va!==null&&ju(va,e),Ea!==null&&ju(Ea,e),$l.forEach(n),eo.forEach(n);for(var l=0;l<Aa.length;l++){var f=Aa[l];f.blockedOn===e&&(f.blockedOn=null)}for(;0<Aa.length&&(l=Aa[0],l.blockedOn===null);)W1(l),l.blockedOn===null&&Aa.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(f=0;f<l.length;f+=3){var y=l[f],w=l[f+1],_=y[Ct]||null;if(typeof w=="function")_||K1(l);else if(_){var D=null;if(w&&w.hasAttribute("formAction")){if(y=w,_=w[Ct]||null)D=_.formAction;else if(rf(y)!==null)continue}else D=_.action;typeof D=="function"?l[f+1]=D:(l.splice(f,3),f-=3),K1(l)}}}function Q1(){function e(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(_){return y=_})},focusReset:"manual",scroll:"manual"})}function n(){y!==null&&(y(),y=null),f||setTimeout(l,20)}function l(){if(!f&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,y=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(l,100),function(){f=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),y!==null&&(y(),y=null)}}}function sf(e){this._internalRoot=e}zu.prototype.render=sf.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(c(409));var l=n.current,f=yi();H1(l,f,e,n,null,null)},zu.prototype.unmount=sf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;H1(e.current,2,null,e,null,null),bu(),n[si]=null}};function zu(e){this._internalRoot=e}zu.prototype.unstable_scheduleHydration=function(e){if(e){var n=zn();e={blockedOn:null,target:e,priority:n};for(var l=0;l<Aa.length&&n!==0&&n<Aa[l].priority;l++);Aa.splice(l,0,e),l===0&&W1(e)}};var J1=r.version;if(J1!=="19.2.4")throw Error(c(527,J1,"19.2.4"));he.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(c(188)):(e=Object.keys(e).join(","),Error(c(268,e)));return e=v(n),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var op={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:re,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fu.isDisabled&&Fu.supportsFiber)try{Pt=Fu.inject(op),we=Fu}catch{}}return io.createRoot=function(e,n){if(!m(e))throw Error(c(299));var l=!1,f="",y=a0,w=s0,_=l0;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(f=n.identifierPrefix),n.onUncaughtError!==void 0&&(y=n.onUncaughtError),n.onCaughtError!==void 0&&(w=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError)),n=z1(e,1,!1,null,null,l,f,null,y,w,_,Q1),e[si]=n.current,zh(e),new sf(n)},io.hydrateRoot=function(e,n,l){if(!m(e))throw Error(c(299));var f=!1,y="",w=a0,_=s0,D=l0,U=null;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onUncaughtError!==void 0&&(w=l.onUncaughtError),l.onCaughtError!==void 0&&(_=l.onCaughtError),l.onRecoverableError!==void 0&&(D=l.onRecoverableError),l.formState!==void 0&&(U=l.formState)),n=z1(e,1,!0,n,l??null,f,y,U,w,_,D,Q1),n.context=F1(null),l=n.current,f=yi(),f=Tn(f),y=oa(f),y.callback=null,ua(l,y,f),l=f,n.current.lanes=l,tr(n,l),cr(n),e[si]=n.current,zh(e),new zu(n)},io.version="19.2.4",io}var og;function bp(){if(og)return uf.exports;og=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(r){console.error(r)}}return s(),uf.exports=wp(),uf.exports}var vp=bp();var ug="popstate";function Ep(s={}){function r(c,m){let{pathname:g,search:b,hash:A}=c.location;return Af("",{pathname:g,search:b,hash:A},m.state&&m.state.usr||null,m.state&&m.state.key||"default")}function o(c,m){return typeof m=="string"?m:ho(m)}return Sp(r,o,null,s)}function Zt(s,r){if(s===!1||s===null||typeof s>"u")throw new Error(r)}function Qi(s,r){if(!s){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function Ap(){return Math.random().toString(36).substring(2,10)}function cg(s,r){return{usr:s.state,key:s.key,idx:r}}function Af(s,r,o=null,c){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof r=="string"?al(r):r,state:o,key:r&&r.key||c||Ap()}}function ho({pathname:s="/",search:r="",hash:o=""}){return r&&r!=="?"&&(s+=r.charAt(0)==="?"?r:"?"+r),o&&o!=="#"&&(s+=o.charAt(0)==="#"?o:"#"+o),s}function al(s){let r={};if(s){let o=s.indexOf("#");o>=0&&(r.hash=s.substring(o),s=s.substring(0,o));let c=s.indexOf("?");c>=0&&(r.search=s.substring(c),s=s.substring(0,c)),s&&(r.pathname=s)}return r}function Sp(s,r,o,c={}){let{window:m=document.defaultView,v5Compat:g=!1}=c,b=m.history,A="POP",S=null,v=T();v==null&&(v=0,b.replaceState({...b.state,idx:v},""));function T(){return(b.state||{idx:null}).idx}function R(){A="POP";let Z=T(),le=Z==null?null:Z-v;v=Z,S&&S({action:A,location:H.location,delta:le})}function k(Z,le){A="PUSH";let $=Af(H.location,Z,le);v=T()+1;let X=cg($,v),pe=H.createHref($);try{b.pushState(X,"",pe)}catch(ke){if(ke instanceof DOMException&&ke.name==="DataCloneError")throw ke;m.location.assign(pe)}g&&S&&S({action:A,location:H.location,delta:1})}function B(Z,le){A="REPLACE";let $=Af(H.location,Z,le);v=T();let X=cg($,v),pe=H.createHref($);b.replaceState(X,"",pe),g&&S&&S({action:A,location:H.location,delta:0})}function V(Z){return Cp(Z)}let H={get action(){return A},get location(){return s(m,b)},listen(Z){if(S)throw new Error("A history only accepts one active listener");return m.addEventListener(ug,R),S=Z,()=>{m.removeEventListener(ug,R),S=null}},createHref(Z){return r(m,Z)},createURL:V,encodeLocation(Z){let le=V(Z);return{pathname:le.pathname,search:le.search,hash:le.hash}},push:k,replace:B,go(Z){return b.go(Z)}};return H}function Cp(s,r=!1){let o="http://localhost";typeof window<"u"&&(o=window.location.origin!=="null"?window.location.origin:window.location.href),Zt(o,"No window.location.(origin|href) available to create URL");let c=typeof s=="string"?s:ho(s);return c=c.replace(/ $/,"%20"),!r&&c.startsWith("//")&&(c=o+c),new URL(c,o)}function rm(s,r,o="/"){return _p(s,r,o,!1)}function _p(s,r,o,c){let m=typeof r=="string"?al(r):r,g=jr(m.pathname||"/",o);if(g==null)return null;let b=am(s);Tp(b);let A=null;for(let S=0;A==null&&S<b.length;++S){let v=jp(g);A=kp(b[S],v,c)}return A}function am(s,r=[],o=[],c="",m=!1){let g=(b,A,S=m,v)=>{let T={relativePath:v===void 0?b.path||"":v,caseSensitive:b.caseSensitive===!0,childrenIndex:A,route:b};if(T.relativePath.startsWith("/")){if(!T.relativePath.startsWith(c)&&S)return;Zt(T.relativePath.startsWith(c),`Absolute route path "${T.relativePath}" nested under path "${c}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),T.relativePath=T.relativePath.slice(c.length)}let R=Ur([c,T.relativePath]),k=o.concat(T);b.children&&b.children.length>0&&(Zt(b.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${R}".`),am(b.children,r,k,R,S)),!(b.path==null&&!b.index)&&r.push({path:R,score:Lp(R,b.index),routesMeta:k})};return s.forEach((b,A)=>{if(b.path===""||!b.path?.includes("?"))g(b,A);else for(let S of sm(b.path))g(b,A,!0,S)}),r}function sm(s){let r=s.split("/");if(r.length===0)return[];let[o,...c]=r,m=o.endsWith("?"),g=o.replace(/\?$/,"");if(c.length===0)return m?[g,""]:[g];let b=sm(c.join("/")),A=[];return A.push(...b.map(S=>S===""?g:[g,S].join("/"))),m&&A.push(...b),A.map(S=>s.startsWith("/")&&S===""?"/":S)}function Tp(s){s.sort((r,o)=>r.score!==o.score?o.score-r.score:Bp(r.routesMeta.map(c=>c.childrenIndex),o.routesMeta.map(c=>c.childrenIndex)))}var Op=/^:[\w-]+$/,Np=3,Rp=2,Ip=1,Dp=10,Mp=-2,hg=s=>s==="*";function Lp(s,r){let o=s.split("/"),c=o.length;return o.some(hg)&&(c+=Mp),r&&(c+=Rp),o.filter(m=>!hg(m)).reduce((m,g)=>m+(Op.test(g)?Np:g===""?Ip:Dp),c)}function Bp(s,r){return s.length===r.length&&s.slice(0,-1).every((c,m)=>c===r[m])?s[s.length-1]-r[r.length-1]:0}function kp(s,r,o=!1){let{routesMeta:c}=s,m={},g="/",b=[];for(let A=0;A<c.length;++A){let S=c[A],v=A===c.length-1,T=g==="/"?r:r.slice(g.length)||"/",R=$u({path:S.relativePath,caseSensitive:S.caseSensitive,end:v},T),k=S.route;if(!R&&v&&o&&!c[c.length-1].route.index&&(R=$u({path:S.relativePath,caseSensitive:S.caseSensitive,end:!1},T)),!R)return null;Object.assign(m,R.params),b.push({params:m,pathname:Ur([g,R.pathname]),pathnameBase:Hp(Ur([g,R.pathnameBase])),route:k}),R.pathnameBase!=="/"&&(g=Ur([g,R.pathnameBase]))}return b}function $u(s,r){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[o,c]=Up(s.path,s.caseSensitive,s.end),m=r.match(o);if(!m)return null;let g=m[0],b=g.replace(/(.)\/+$/,"$1"),A=m.slice(1);return{params:c.reduce((v,{paramName:T,isOptional:R},k)=>{if(T==="*"){let V=A[k]||"";b=g.slice(0,g.length-V.length).replace(/(.)\/+$/,"$1")}const B=A[k];return R&&!B?v[T]=void 0:v[T]=(B||"").replace(/%2F/g,"/"),v},{}),pathname:g,pathnameBase:b,pattern:s}}function Up(s,r=!1,o=!0){Qi(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let c=[],m="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(b,A,S)=>(c.push({paramName:A,isOptional:S!=null}),S?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(c.push({paramName:"*"}),m+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o?m+="\\/*$":s!==""&&s!=="/"&&(m+="(?:(?=\\/|$))"),[new RegExp(m,r?void 0:"i"),c]}function jp(s){try{return s.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return Qi(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),s}}function jr(s,r){if(r==="/")return s;if(!s.toLowerCase().startsWith(r.toLowerCase()))return null;let o=r.endsWith("/")?r.length-1:r.length,c=s.charAt(o);return c&&c!=="/"?null:s.slice(o)||"/"}var Pp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function zp(s,r="/"){let{pathname:o,search:c="",hash:m=""}=typeof s=="string"?al(s):s,g;return o?(o=o.replace(/\/\/+/g,"/"),o.startsWith("/")?g=fg(o.substring(1),"/"):g=fg(o,r)):g=r,{pathname:g,search:Vp(c),hash:Gp(m)}}function fg(s,r){let o=r.replace(/\/+$/,"").split("/");return s.split("/").forEach(m=>{m===".."?o.length>1&&o.pop():m!=="."&&o.push(m)}),o.length>1?o.join("/"):"/"}function df(s,r,o,c){return`Cannot include a '${s}' character in a manually specified \`to.${r}\` field [${JSON.stringify(c)}].  Please separate it out to the \`to.${o}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Fp(s){return s.filter((r,o)=>o===0||r.route.path&&r.route.path.length>0)}function jf(s){let r=Fp(s);return r.map((o,c)=>c===r.length-1?o.pathname:o.pathnameBase)}function Pf(s,r,o,c=!1){let m;typeof s=="string"?m=al(s):(m={...s},Zt(!m.pathname||!m.pathname.includes("?"),df("?","pathname","search",m)),Zt(!m.pathname||!m.pathname.includes("#"),df("#","pathname","hash",m)),Zt(!m.search||!m.search.includes("#"),df("#","search","hash",m)));let g=s===""||m.pathname==="",b=g?"/":m.pathname,A;if(b==null)A=o;else{let R=r.length-1;if(!c&&b.startsWith("..")){let k=b.split("/");for(;k[0]==="..";)k.shift(),R-=1;m.pathname=k.join("/")}A=R>=0?r[R]:"/"}let S=zp(m,A),v=b&&b!=="/"&&b.endsWith("/"),T=(g||b===".")&&o.endsWith("/");return!S.pathname.endsWith("/")&&(v||T)&&(S.pathname+="/"),S}var Ur=s=>s.join("/").replace(/\/\/+/g,"/"),Hp=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),Vp=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,Gp=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s,Yp=class{constructor(s,r,o,c=!1){this.status=s,this.statusText=r||"",this.internal=c,o instanceof Error?(this.data=o.toString(),this.error=o):this.data=o}};function qp(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}function Xp(s){return s.map(r=>r.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var lm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function om(s,r){let o=s;if(typeof o!="string"||!Pp.test(o))return{absoluteURL:void 0,isExternal:!1,to:o};let c=o,m=!1;if(lm)try{let g=new URL(window.location.href),b=o.startsWith("//")?new URL(g.protocol+o):new URL(o),A=jr(b.pathname,r);b.origin===g.origin&&A!=null?o=A+b.search+b.hash:m=!0}catch{Qi(!1,`<Link to="${o}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:c,isExternal:m,to:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var um=["POST","PUT","PATCH","DELETE"];new Set(um);var Wp=["GET",...um];new Set(Wp);var sl=J.createContext(null);sl.displayName="DataRouter";var ac=J.createContext(null);ac.displayName="DataRouterState";var Zp=J.createContext(!1),cm=J.createContext({isTransitioning:!1});cm.displayName="ViewTransition";var Kp=J.createContext(new Map);Kp.displayName="Fetchers";var Qp=J.createContext(null);Qp.displayName="Await";var Ai=J.createContext(null);Ai.displayName="Navigation";var vo=J.createContext(null);vo.displayName="Location";var Ji=J.createContext({outlet:null,matches:[],isDataRoute:!1});Ji.displayName="Route";var zf=J.createContext(null);zf.displayName="RouteError";var hm="REACT_ROUTER_ERROR",Jp="REDIRECT",$p="ROUTE_ERROR_RESPONSE";function ey(s){if(s.startsWith(`${hm}:${Jp}:{`))try{let r=JSON.parse(s.slice(28));if(typeof r=="object"&&r&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.location=="string"&&typeof r.reloadDocument=="boolean"&&typeof r.replace=="boolean")return r}catch{}}function ty(s){if(s.startsWith(`${hm}:${$p}:{`))try{let r=JSON.parse(s.slice(40));if(typeof r=="object"&&r&&typeof r.status=="number"&&typeof r.statusText=="string")return new Yp(r.status,r.statusText,r.data)}catch{}}function ny(s,{relative:r}={}){Zt(ll(),"useHref() may be used only in the context of a <Router> component.");let{basename:o,navigator:c}=J.useContext(Ai),{hash:m,pathname:g,search:b}=Eo(s,{relative:r}),A=g;return o!=="/"&&(A=g==="/"?o:Ur([o,g])),c.createHref({pathname:A,search:b,hash:m})}function ll(){return J.useContext(vo)!=null}function Ra(){return Zt(ll(),"useLocation() may be used only in the context of a <Router> component."),J.useContext(vo).location}var fm="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function dm(s){J.useContext(Ai).static||J.useLayoutEffect(s)}function Ff(){let{isDataRoute:s}=J.useContext(Ji);return s?yy():iy()}function iy(){Zt(ll(),"useNavigate() may be used only in the context of a <Router> component.");let s=J.useContext(sl),{basename:r,navigator:o}=J.useContext(Ai),{matches:c}=J.useContext(Ji),{pathname:m}=Ra(),g=JSON.stringify(jf(c)),b=J.useRef(!1);return dm(()=>{b.current=!0}),J.useCallback((S,v={})=>{if(Qi(b.current,fm),!b.current)return;if(typeof S=="number"){o.go(S);return}let T=Pf(S,JSON.parse(g),m,v.relative==="path");s==null&&r!=="/"&&(T.pathname=T.pathname==="/"?r:Ur([r,T.pathname])),(v.replace?o.replace:o.push)(T,v.state,v)},[r,o,g,m,s])}var ry=J.createContext(null);function ay(s){let r=J.useContext(Ji).outlet;return J.useMemo(()=>r&&J.createElement(ry.Provider,{value:s},r),[r,s])}function Eo(s,{relative:r}={}){let{matches:o}=J.useContext(Ji),{pathname:c}=Ra(),m=JSON.stringify(jf(o));return J.useMemo(()=>Pf(s,JSON.parse(m),c,r==="path"),[s,m,c,r])}function sy(s,r){return gm(s,r)}function gm(s,r,o,c,m){Zt(ll(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:g}=J.useContext(Ai),{matches:b}=J.useContext(Ji),A=b[b.length-1],S=A?A.params:{},v=A?A.pathname:"/",T=A?A.pathnameBase:"/",R=A&&A.route;{let $=R&&R.path||"";pm(v,!R||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let k=Ra(),B;if(r){let $=typeof r=="string"?al(r):r;Zt(T==="/"||$.pathname?.startsWith(T),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${$.pathname}" was given in the \`location\` prop.`),B=$}else B=k;let V=B.pathname||"/",H=V;if(T!=="/"){let $=T.replace(/^\//,"").split("/");H="/"+V.replace(/^\//,"").split("/").slice($.length).join("/")}let Z=rm(s,{pathname:H});Qi(R||Z!=null,`No routes matched location "${B.pathname}${B.search}${B.hash}" `),Qi(Z==null||Z[Z.length-1].route.element!==void 0||Z[Z.length-1].route.Component!==void 0||Z[Z.length-1].route.lazy!==void 0,`Matched leaf route at location "${B.pathname}${B.search}${B.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let le=hy(Z&&Z.map($=>Object.assign({},$,{params:Object.assign({},S,$.params),pathname:Ur([T,g.encodeLocation?g.encodeLocation($.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?T:Ur([T,g.encodeLocation?g.encodeLocation($.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathnameBase])})),b,o,c,m);return r&&le?J.createElement(vo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...B},navigationType:"POP"}},le):le}function ly(){let s=py(),r=qp(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),o=s instanceof Error?s.stack:null,c="rgba(200,200,200, 0.5)",m={padding:"0.5rem",backgroundColor:c},g={padding:"2px 4px",backgroundColor:c},b=null;return console.error("Error handled by React Router default ErrorBoundary:",s),b=J.createElement(J.Fragment,null,J.createElement("p",null," Hey developer "),J.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",J.createElement("code",{style:g},"ErrorBoundary")," or"," ",J.createElement("code",{style:g},"errorElement")," prop on your route.")),J.createElement(J.Fragment,null,J.createElement("h2",null,"Unexpected Application Error!"),J.createElement("h3",{style:{fontStyle:"italic"}},r),o?J.createElement("pre",{style:m},o):null,b)}var oy=J.createElement(ly,null),mm=class extends J.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,r){return r.location!==s.location||r.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:r.error,location:r.location,revalidation:s.revalidation||r.revalidation}}componentDidCatch(s,r){this.props.onError?this.props.onError(s,r):console.error("React Router caught the following error during render",s)}render(){let s=this.state.error;if(this.context&&typeof s=="object"&&s&&"digest"in s&&typeof s.digest=="string"){const o=ty(s.digest);o&&(s=o)}let r=s!==void 0?J.createElement(Ji.Provider,{value:this.props.routeContext},J.createElement(zf.Provider,{value:s,children:this.props.component})):this.props.children;return this.context?J.createElement(uy,{error:s},r):r}};mm.contextType=Zp;var gf=new WeakMap;function uy({children:s,error:r}){let{basename:o}=J.useContext(Ai);if(typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){let c=ey(r.digest);if(c){let m=gf.get(r);if(m)throw m;let g=om(c.location,o);if(lm&&!gf.get(r))if(g.isExternal||c.reloadDocument)window.location.href=g.absoluteURL||g.to;else{const b=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(g.to,{replace:c.replace}));throw gf.set(r,b),b}return J.createElement("meta",{httpEquiv:"refresh",content:`0;url=${g.absoluteURL||g.to}`})}}return s}function cy({routeContext:s,match:r,children:o}){let c=J.useContext(sl);return c&&c.static&&c.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=r.route.id),J.createElement(Ji.Provider,{value:s},o)}function hy(s,r=[],o=null,c=null,m=null){if(s==null){if(!o)return null;if(o.errors)s=o.matches;else if(r.length===0&&!o.initialized&&o.matches.length>0)s=o.matches;else return null}let g=s,b=o?.errors;if(b!=null){let T=g.findIndex(R=>R.route.id&&b?.[R.route.id]!==void 0);Zt(T>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(b).join(",")}`),g=g.slice(0,Math.min(g.length,T+1))}let A=!1,S=-1;if(o)for(let T=0;T<g.length;T++){let R=g[T];if((R.route.HydrateFallback||R.route.hydrateFallbackElement)&&(S=T),R.route.id){let{loaderData:k,errors:B}=o,V=R.route.loader&&!k.hasOwnProperty(R.route.id)&&(!B||B[R.route.id]===void 0);if(R.route.lazy||V){A=!0,S>=0?g=g.slice(0,S+1):g=[g[0]];break}}}let v=o&&c?(T,R)=>{c(T,{location:o.location,params:o.matches?.[0]?.params??{},unstable_pattern:Xp(o.matches),errorInfo:R})}:void 0;return g.reduceRight((T,R,k)=>{let B,V=!1,H=null,Z=null;o&&(B=b&&R.route.id?b[R.route.id]:void 0,H=R.route.errorElement||oy,A&&(S<0&&k===0?(pm("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),V=!0,Z=null):S===k&&(V=!0,Z=R.route.hydrateFallbackElement||null)));let le=r.concat(g.slice(0,k+1)),$=()=>{let X;return B?X=H:V?X=Z:R.route.Component?X=J.createElement(R.route.Component,null):R.route.element?X=R.route.element:X=T,J.createElement(cy,{match:R,routeContext:{outlet:T,matches:le,isDataRoute:o!=null},children:X})};return o&&(R.route.ErrorBoundary||R.route.errorElement||k===0)?J.createElement(mm,{location:o.location,revalidation:o.revalidation,component:H,error:B,children:$(),routeContext:{outlet:null,matches:le,isDataRoute:!0},onError:v}):$()},null)}function Hf(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fy(s){let r=J.useContext(sl);return Zt(r,Hf(s)),r}function dy(s){let r=J.useContext(ac);return Zt(r,Hf(s)),r}function gy(s){let r=J.useContext(Ji);return Zt(r,Hf(s)),r}function Vf(s){let r=gy(s),o=r.matches[r.matches.length-1];return Zt(o.route.id,`${s} can only be used on routes that contain a unique "id"`),o.route.id}function my(){return Vf("useRouteId")}function py(){let s=J.useContext(zf),r=dy("useRouteError"),o=Vf("useRouteError");return s!==void 0?s:r.errors?.[o]}function yy(){let{router:s}=fy("useNavigate"),r=Vf("useNavigate"),o=J.useRef(!1);return dm(()=>{o.current=!0}),J.useCallback(async(m,g={})=>{Qi(o.current,fm),o.current&&(typeof m=="number"?await s.navigate(m):await s.navigate(m,{fromRouteId:r,...g}))},[s,r])}var dg={};function pm(s,r,o){!r&&!dg[s]&&(dg[s]=!0,Qi(!1,o))}J.memo(xy);function xy({routes:s,future:r,state:o,onError:c}){return gm(s,void 0,o,c,r)}function Sf({to:s,replace:r,state:o,relative:c}){Zt(ll(),"<Navigate> may be used only in the context of a <Router> component.");let{static:m}=J.useContext(Ai);Qi(!m,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:g}=J.useContext(Ji),{pathname:b}=Ra(),A=Ff(),S=Pf(s,jf(g),b,c==="path"),v=JSON.stringify(S);return J.useEffect(()=>{A(JSON.parse(v),{replace:r,state:o,relative:c})},[A,v,c,r,o]),null}function ym(s){return ay(s.context)}function _a(s){Zt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function wy({basename:s="/",children:r=null,location:o,navigationType:c="POP",navigator:m,static:g=!1,unstable_useTransitions:b}){Zt(!ll(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let A=s.replace(/^\/*/,"/"),S=J.useMemo(()=>({basename:A,navigator:m,static:g,unstable_useTransitions:b,future:{}}),[A,m,g,b]);typeof o=="string"&&(o=al(o));let{pathname:v="/",search:T="",hash:R="",state:k=null,key:B="default"}=o,V=J.useMemo(()=>{let H=jr(v,A);return H==null?null:{location:{pathname:H,search:T,hash:R,state:k,key:B},navigationType:c}},[A,v,T,R,k,B,c]);return Qi(V!=null,`<Router basename="${A}"> is not able to match the URL "${v}${T}${R}" because it does not start with the basename, so the <Router> won't render anything.`),V==null?null:J.createElement(Ai.Provider,{value:S},J.createElement(vo.Provider,{children:r,value:V}))}function by({children:s,location:r}){return sy(Cf(s),r)}function Cf(s,r=[]){let o=[];return J.Children.forEach(s,(c,m)=>{if(!J.isValidElement(c))return;let g=[...r,m];if(c.type===J.Fragment){o.push.apply(o,Cf(c.props.children,g));return}Zt(c.type===_a,`[${typeof c.type=="string"?c.type:c.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Zt(!c.props.index||!c.props.children,"An index route cannot have child routes.");let b={id:c.props.id||g.join("-"),caseSensitive:c.props.caseSensitive,element:c.props.element,Component:c.props.Component,index:c.props.index,path:c.props.path,middleware:c.props.middleware,loader:c.props.loader,action:c.props.action,hydrateFallbackElement:c.props.hydrateFallbackElement,HydrateFallback:c.props.HydrateFallback,errorElement:c.props.errorElement,ErrorBoundary:c.props.ErrorBoundary,hasErrorBoundary:c.props.hasErrorBoundary===!0||c.props.ErrorBoundary!=null||c.props.errorElement!=null,shouldRevalidate:c.props.shouldRevalidate,handle:c.props.handle,lazy:c.props.lazy};c.props.children&&(b.children=Cf(c.props.children,g)),o.push(b)}),o}var Qu="get",Ju="application/x-www-form-urlencoded";function sc(s){return typeof HTMLElement<"u"&&s instanceof HTMLElement}function vy(s){return sc(s)&&s.tagName.toLowerCase()==="button"}function Ey(s){return sc(s)&&s.tagName.toLowerCase()==="form"}function Ay(s){return sc(s)&&s.tagName.toLowerCase()==="input"}function Sy(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function Cy(s,r){return s.button===0&&(!r||r==="_self")&&!Sy(s)}var Vu=null;function _y(){if(Vu===null)try{new FormData(document.createElement("form"),0),Vu=!1}catch{Vu=!0}return Vu}var Ty=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function mf(s){return s!=null&&!Ty.has(s)?(Qi(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ju}"`),null):s}function Oy(s,r){let o,c,m,g,b;if(Ey(s)){let A=s.getAttribute("action");c=A?jr(A,r):null,o=s.getAttribute("method")||Qu,m=mf(s.getAttribute("enctype"))||Ju,g=new FormData(s)}else if(vy(s)||Ay(s)&&(s.type==="submit"||s.type==="image")){let A=s.form;if(A==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let S=s.getAttribute("formaction")||A.getAttribute("action");if(c=S?jr(S,r):null,o=s.getAttribute("formmethod")||A.getAttribute("method")||Qu,m=mf(s.getAttribute("formenctype"))||mf(A.getAttribute("enctype"))||Ju,g=new FormData(A,s),!_y()){let{name:v,type:T,value:R}=s;if(T==="image"){let k=v?`${v}.`:"";g.append(`${k}x`,"0"),g.append(`${k}y`,"0")}else v&&g.append(v,R)}}else{if(sc(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');o=Qu,c=null,m=Ju,b=s}return g&&m==="text/plain"&&(b=g,g=void 0),{action:c,method:o.toLowerCase(),encType:m,formData:g,body:b}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Gf(s,r){if(s===!1||s===null||typeof s>"u")throw new Error(r)}function Ny(s,r,o,c){let m=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return o?m.pathname.endsWith("/")?m.pathname=`${m.pathname}_.${c}`:m.pathname=`${m.pathname}.${c}`:m.pathname==="/"?m.pathname=`_root.${c}`:r&&jr(m.pathname,r)==="/"?m.pathname=`${r.replace(/\/$/,"")}/_root.${c}`:m.pathname=`${m.pathname.replace(/\/$/,"")}.${c}`,m}async function Ry(s,r){if(s.id in r)return r[s.id];try{let o=await import(s.module);return r[s.id]=o,o}catch(o){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(o),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Iy(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function Dy(s,r,o){let c=await Promise.all(s.map(async m=>{let g=r.routes[m.route.id];if(g){let b=await Ry(g,o);return b.links?b.links():[]}return[]}));return ky(c.flat(1).filter(Iy).filter(m=>m.rel==="stylesheet"||m.rel==="preload").map(m=>m.rel==="stylesheet"?{...m,rel:"prefetch",as:"style"}:{...m,rel:"prefetch"}))}function gg(s,r,o,c,m,g){let b=(S,v)=>o[v]?S.route.id!==o[v].route.id:!0,A=(S,v)=>o[v].pathname!==S.pathname||o[v].route.path?.endsWith("*")&&o[v].params["*"]!==S.params["*"];return g==="assets"?r.filter((S,v)=>b(S,v)||A(S,v)):g==="data"?r.filter((S,v)=>{let T=c.routes[S.route.id];if(!T||!T.hasLoader)return!1;if(b(S,v)||A(S,v))return!0;if(S.route.shouldRevalidate){let R=S.route.shouldRevalidate({currentUrl:new URL(m.pathname+m.search+m.hash,window.origin),currentParams:o[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:S.params,defaultShouldRevalidate:!0});if(typeof R=="boolean")return R}return!0}):[]}function My(s,r,{includeHydrateFallback:o}={}){return Ly(s.map(c=>{let m=r.routes[c.route.id];if(!m)return[];let g=[m.module];return m.clientActionModule&&(g=g.concat(m.clientActionModule)),m.clientLoaderModule&&(g=g.concat(m.clientLoaderModule)),o&&m.hydrateFallbackModule&&(g=g.concat(m.hydrateFallbackModule)),m.imports&&(g=g.concat(m.imports)),g}).flat(1))}function Ly(s){return[...new Set(s)]}function By(s){let r={},o=Object.keys(s).sort();for(let c of o)r[c]=s[c];return r}function ky(s,r){let o=new Set;return new Set(r),s.reduce((c,m)=>{let g=JSON.stringify(By(m));return o.has(g)||(o.add(g),c.push({key:g,link:m})),c},[])}function xm(){let s=J.useContext(sl);return Gf(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function Uy(){let s=J.useContext(ac);return Gf(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Yf=J.createContext(void 0);Yf.displayName="FrameworkContext";function wm(){let s=J.useContext(Yf);return Gf(s,"You must render this element inside a <HydratedRouter> element"),s}function jy(s,r){let o=J.useContext(Yf),[c,m]=J.useState(!1),[g,b]=J.useState(!1),{onFocus:A,onBlur:S,onMouseEnter:v,onMouseLeave:T,onTouchStart:R}=r,k=J.useRef(null);J.useEffect(()=>{if(s==="render"&&b(!0),s==="viewport"){let H=le=>{le.forEach($=>{b($.isIntersecting)})},Z=new IntersectionObserver(H,{threshold:.5});return k.current&&Z.observe(k.current),()=>{Z.disconnect()}}},[s]),J.useEffect(()=>{if(c){let H=setTimeout(()=>{b(!0)},100);return()=>{clearTimeout(H)}}},[c]);let B=()=>{m(!0)},V=()=>{m(!1),b(!1)};return o?s!=="intent"?[g,k,{}]:[g,k,{onFocus:ro(A,B),onBlur:ro(S,V),onMouseEnter:ro(v,B),onMouseLeave:ro(T,V),onTouchStart:ro(R,B)}]:[!1,k,{}]}function ro(s,r){return o=>{s&&s(o),o.defaultPrevented||r(o)}}function Py({page:s,...r}){let{router:o}=xm(),c=J.useMemo(()=>rm(o.routes,s,o.basename),[o.routes,s,o.basename]);return c?J.createElement(Fy,{page:s,matches:c,...r}):null}function zy(s){let{manifest:r,routeModules:o}=wm(),[c,m]=J.useState([]);return J.useEffect(()=>{let g=!1;return Dy(s,r,o).then(b=>{g||m(b)}),()=>{g=!0}},[s,r,o]),c}function Fy({page:s,matches:r,...o}){let c=Ra(),{future:m,manifest:g,routeModules:b}=wm(),{basename:A}=xm(),{loaderData:S,matches:v}=Uy(),T=J.useMemo(()=>gg(s,r,v,g,c,"data"),[s,r,v,g,c]),R=J.useMemo(()=>gg(s,r,v,g,c,"assets"),[s,r,v,g,c]),k=J.useMemo(()=>{if(s===c.pathname+c.search+c.hash)return[];let H=new Set,Z=!1;if(r.forEach($=>{let X=g.routes[$.route.id];!X||!X.hasLoader||(!T.some(pe=>pe.route.id===$.route.id)&&$.route.id in S&&b[$.route.id]?.shouldRevalidate||X.hasClientLoader?Z=!0:H.add($.route.id))}),H.size===0)return[];let le=Ny(s,A,m.unstable_trailingSlashAwareDataRequests,"data");return Z&&H.size>0&&le.searchParams.set("_routes",r.filter($=>H.has($.route.id)).map($=>$.route.id).join(",")),[le.pathname+le.search]},[A,m.unstable_trailingSlashAwareDataRequests,S,c,g,T,r,s,b]),B=J.useMemo(()=>My(R,g),[R,g]),V=zy(R);return J.createElement(J.Fragment,null,k.map(H=>J.createElement("link",{key:H,rel:"prefetch",as:"fetch",href:H,...o})),B.map(H=>J.createElement("link",{key:H,rel:"modulepreload",href:H,...o})),V.map(({key:H,link:Z})=>J.createElement("link",{key:H,nonce:o.nonce,...Z,crossOrigin:Z.crossOrigin??o.crossOrigin})))}function Hy(...s){return r=>{s.forEach(o=>{typeof o=="function"?o(r):o!=null&&(o.current=r)})}}var Vy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Vy&&(window.__reactRouterVersion="7.13.0")}catch{}function Gy({basename:s,children:r,unstable_useTransitions:o,window:c}){let m=J.useRef();m.current==null&&(m.current=Ep({window:c,v5Compat:!0}));let g=m.current,[b,A]=J.useState({action:g.action,location:g.location}),S=J.useCallback(v=>{o===!1?A(v):J.startTransition(()=>A(v))},[o]);return J.useLayoutEffect(()=>g.listen(S),[g,S]),J.createElement(wy,{basename:s,children:r,location:b.location,navigationType:b.action,navigator:g,unstable_useTransitions:o})}var bm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oo=J.forwardRef(function({onClick:r,discover:o="render",prefetch:c="none",relative:m,reloadDocument:g,replace:b,state:A,target:S,to:v,preventScrollReset:T,viewTransition:R,unstable_defaultShouldRevalidate:k,...B},V){let{basename:H,unstable_useTransitions:Z}=J.useContext(Ai),le=typeof v=="string"&&bm.test(v),$=om(v,H);v=$.to;let X=ny(v,{relative:m}),[pe,ke,Ee]=jy(c,B),ne=Wy(v,{replace:b,state:A,target:S,preventScrollReset:T,relative:m,viewTransition:R,unstable_defaultShouldRevalidate:k,unstable_useTransitions:Z});function Ie(xn){r&&r(xn),xn.defaultPrevented||ne(xn)}let de=J.createElement("a",{...B,...Ee,href:$.absoluteURL||X,onClick:$.isExternal||g?r:Ie,ref:Hy(V,ke),target:S,"data-discover":!le&&o==="render"?"true":void 0});return pe&&!le?J.createElement(J.Fragment,null,de,J.createElement(Py,{page:X})):de});oo.displayName="Link";var Yy=J.forwardRef(function({"aria-current":r="page",caseSensitive:o=!1,className:c="",end:m=!1,style:g,to:b,viewTransition:A,children:S,...v},T){let R=Eo(b,{relative:v.relative}),k=Ra(),B=J.useContext(ac),{navigator:V,basename:H}=J.useContext(Ai),Z=B!=null&&$y(R)&&A===!0,le=V.encodeLocation?V.encodeLocation(R).pathname:R.pathname,$=k.pathname,X=B&&B.navigation&&B.navigation.location?B.navigation.location.pathname:null;o||($=$.toLowerCase(),X=X?X.toLowerCase():null,le=le.toLowerCase()),X&&H&&(X=jr(X,H)||X);const pe=le!=="/"&&le.endsWith("/")?le.length-1:le.length;let ke=$===le||!m&&$.startsWith(le)&&$.charAt(pe)==="/",Ee=X!=null&&(X===le||!m&&X.startsWith(le)&&X.charAt(le.length)==="/"),ne={isActive:ke,isPending:Ee,isTransitioning:Z},Ie=ke?r:void 0,de;typeof c=="function"?de=c(ne):de=[c,ke?"active":null,Ee?"pending":null,Z?"transitioning":null].filter(Boolean).join(" ");let xn=typeof g=="function"?g(ne):g;return J.createElement(oo,{...v,"aria-current":Ie,className:de,ref:T,style:xn,to:b,viewTransition:A},typeof S=="function"?S(ne):S)});Yy.displayName="NavLink";var qy=J.forwardRef(({discover:s="render",fetcherKey:r,navigate:o,reloadDocument:c,replace:m,state:g,method:b=Qu,action:A,onSubmit:S,relative:v,preventScrollReset:T,viewTransition:R,unstable_defaultShouldRevalidate:k,...B},V)=>{let{unstable_useTransitions:H}=J.useContext(Ai),Z=Qy(),le=Jy(A,{relative:v}),$=b.toLowerCase()==="get"?"get":"post",X=typeof A=="string"&&bm.test(A),pe=ke=>{if(S&&S(ke),ke.defaultPrevented)return;ke.preventDefault();let Ee=ke.nativeEvent.submitter,ne=Ee?.getAttribute("formmethod")||b,Ie=()=>Z(Ee||ke.currentTarget,{fetcherKey:r,method:ne,navigate:o,replace:m,state:g,relative:v,preventScrollReset:T,viewTransition:R,unstable_defaultShouldRevalidate:k});H&&o!==!1?J.startTransition(()=>Ie()):Ie()};return J.createElement("form",{ref:V,method:$,action:le,onSubmit:c?S:pe,...B,"data-discover":!X&&s==="render"?"true":void 0})});qy.displayName="Form";function Xy(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vm(s){let r=J.useContext(sl);return Zt(r,Xy(s)),r}function Wy(s,{target:r,replace:o,state:c,preventScrollReset:m,relative:g,viewTransition:b,unstable_defaultShouldRevalidate:A,unstable_useTransitions:S}={}){let v=Ff(),T=Ra(),R=Eo(s,{relative:g});return J.useCallback(k=>{if(Cy(k,r)){k.preventDefault();let B=o!==void 0?o:ho(T)===ho(R),V=()=>v(s,{replace:B,state:c,preventScrollReset:m,relative:g,viewTransition:b,unstable_defaultShouldRevalidate:A});S?J.startTransition(()=>V()):V()}},[T,v,R,o,c,r,s,m,g,b,A,S])}var Zy=0,Ky=()=>`__${String(++Zy)}__`;function Qy(){let{router:s}=vm("useSubmit"),{basename:r}=J.useContext(Ai),o=my(),c=s.fetch,m=s.navigate;return J.useCallback(async(g,b={})=>{let{action:A,method:S,encType:v,formData:T,body:R}=Oy(g,r);if(b.navigate===!1){let k=b.fetcherKey||Ky();await c(k,o,b.action||A,{unstable_defaultShouldRevalidate:b.unstable_defaultShouldRevalidate,preventScrollReset:b.preventScrollReset,formData:T,body:R,formMethod:b.method||S,formEncType:b.encType||v,flushSync:b.flushSync})}else await m(b.action||A,{unstable_defaultShouldRevalidate:b.unstable_defaultShouldRevalidate,preventScrollReset:b.preventScrollReset,formData:T,body:R,formMethod:b.method||S,formEncType:b.encType||v,replace:b.replace,state:b.state,fromRouteId:o,flushSync:b.flushSync,viewTransition:b.viewTransition})},[c,m,r,o])}function Jy(s,{relative:r}={}){let{basename:o}=J.useContext(Ai),c=J.useContext(Ji);Zt(c,"useFormAction must be used inside a RouteContext");let[m]=c.matches.slice(-1),g={...Eo(s||".",{relative:r})},b=Ra();if(s==null){g.search=b.search;let A=new URLSearchParams(g.search),S=A.getAll("index");if(S.some(T=>T==="")){A.delete("index"),S.filter(R=>R).forEach(R=>A.append("index",R));let T=A.toString();g.search=T?`?${T}`:""}}return(!s||s===".")&&m.route.index&&(g.search=g.search?g.search.replace(/^\?/,"?index&"):"?index"),o!=="/"&&(g.pathname=g.pathname==="/"?o:Ur([o,g.pathname])),ho(g)}function $y(s,{relative:r}={}){let o=J.useContext(cm);Zt(o!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:c}=vm("useViewTransitionState"),m=Eo(s,{relative:r});if(!o.isTransitioning)return!1;let g=jr(o.currentLocation.pathname,c)||o.currentLocation.pathname,b=jr(o.nextLocation.pathname,c)||o.nextLocation.pathname;return $u(m.pathname,b)!=null||$u(m.pathname,g)!=null}const Em=(...s)=>s.filter((r,o,c)=>!!r&&r.trim()!==""&&c.indexOf(r)===o).join(" ").trim();const ex=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const tx=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,o,c)=>c?c.toUpperCase():o.toLowerCase());const mg=s=>{const r=tx(s);return r.charAt(0).toUpperCase()+r.slice(1)};var nx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const ix=s=>{for(const r in s)if(r.startsWith("aria-")||r==="role"||r==="title")return!0;return!1};const rx=J.forwardRef(({color:s="currentColor",size:r=24,strokeWidth:o=2,absoluteStrokeWidth:c,className:m="",children:g,iconNode:b,...A},S)=>J.createElement("svg",{ref:S,...nx,width:r,height:r,stroke:s,strokeWidth:c?Number(o)*24/Number(r):o,className:Em("lucide",m),...!g&&!ix(A)&&{"aria-hidden":"true"},...A},[...b.map(([v,T])=>J.createElement(v,T)),...Array.isArray(g)?g:[g]]));const Pr=(s,r)=>{const o=J.forwardRef(({className:c,...m},g)=>J.createElement(rx,{ref:g,iconNode:r,className:Em(`lucide-${ex(mg(s))}`,`lucide-${s}`,c),...m}));return o.displayName=mg(s),o};const ax=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],sx=Pr("circle-check-big",ax);const lx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],ox=Pr("circle-plus",lx);const ux=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],cx=Pr("clipboard-list",ux);const hx=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],fx=Pr("layout-dashboard",hx);const dx=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],gx=Pr("menu",dx);const mx=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],px=Pr("package",mx);const yx=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],xx=Pr("play",yx);const wx=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],bx=Pr("printer",wx);const vx=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ex=Pr("triangle-alert",vx);function lc(s,r){var o={};for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&r.indexOf(c)<0&&(o[c]=s[c]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var m=0,c=Object.getOwnPropertySymbols(s);m<c.length;m++)r.indexOf(c[m])<0&&Object.prototype.propertyIsEnumerable.call(s,c[m])&&(o[c[m]]=s[c[m]]);return o}function Ax(s,r,o,c){function m(g){return g instanceof o?g:new o(function(b){b(g)})}return new(o||(o=Promise))(function(g,b){function A(T){try{v(c.next(T))}catch(R){b(R)}}function S(T){try{v(c.throw(T))}catch(R){b(R)}}function v(T){T.done?g(T.value):m(T.value).then(A,S)}v((c=c.apply(s,r||[])).next())})}const Sx=s=>s?(...r)=>s(...r):(...r)=>fetch(...r);class qf extends Error{constructor(r,o="FunctionsError",c){super(r),this.name=o,this.context=c}}class Cx extends qf{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class pg extends qf{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class yg extends qf{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var _f;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(_f||(_f={}));class _x{constructor(r,{headers:o={},customFetch:c,region:m=_f.Any}={}){this.url=r,this.headers=o,this.region=m,this.fetch=Sx(c)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r){return Ax(this,arguments,void 0,function*(o,c={}){var m;let g,b;try{const{headers:A,method:S,body:v,signal:T,timeout:R}=c;let k={},{region:B}=c;B||(B=this.region);const V=new URL(`${this.url}/${o}`);B&&B!=="any"&&(k["x-region"]=B,V.searchParams.set("forceFunctionRegion",B));let H;v&&(A&&!Object.prototype.hasOwnProperty.call(A,"Content-Type")||!A)?typeof Blob<"u"&&v instanceof Blob||v instanceof ArrayBuffer?(k["Content-Type"]="application/octet-stream",H=v):typeof v=="string"?(k["Content-Type"]="text/plain",H=v):typeof FormData<"u"&&v instanceof FormData?H=v:(k["Content-Type"]="application/json",H=JSON.stringify(v)):v&&typeof v!="string"&&!(typeof Blob<"u"&&v instanceof Blob)&&!(v instanceof ArrayBuffer)&&!(typeof FormData<"u"&&v instanceof FormData)?H=JSON.stringify(v):H=v;let Z=T;R&&(b=new AbortController,g=setTimeout(()=>b.abort(),R),T?(Z=b.signal,T.addEventListener("abort",()=>b.abort())):Z=b.signal);const le=yield this.fetch(V.toString(),{method:S||"POST",headers:Object.assign(Object.assign(Object.assign({},k),this.headers),A),body:H,signal:Z}).catch(ke=>{throw new Cx(ke)}),$=le.headers.get("x-relay-error");if($&&$==="true")throw new pg(le);if(!le.ok)throw new yg(le);let X=((m=le.headers.get("Content-Type"))!==null&&m!==void 0?m:"text/plain").split(";")[0].trim(),pe;return X==="application/json"?pe=yield le.json():X==="application/octet-stream"||X==="application/pdf"?pe=yield le.blob():X==="text/event-stream"?pe=le:X==="multipart/form-data"?pe=yield le.formData():pe=yield le.text(),{data:pe,error:null,response:le}}catch(A){return{data:null,error:A,response:A instanceof yg||A instanceof pg?A.context:void 0}}finally{g&&clearTimeout(g)}})}}var Tx=class extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}},Ox=class{constructor(s){var r,o,c;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(r=s.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=s.signal,this.isMaybeSingle=(o=s.isMaybeSingle)!==null&&o!==void 0?o:!1,this.urlLengthLimit=(c=s.urlLengthLimit)!==null&&c!==void 0?c:8e3,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,r){return this.headers=new Headers(this.headers),this.headers.set(s,r),this}then(s,r){var o=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const c=this.fetch;let m=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{let b=null,A=null,S=null,v=g.status,T=g.statusText;if(g.ok){var R,k;if(o.method!=="HEAD"){var B;const le=await g.text();le===""||(o.headers.get("Accept")==="text/csv"||o.headers.get("Accept")&&(!((B=o.headers.get("Accept"))===null||B===void 0)&&B.includes("application/vnd.pgrst.plan+text"))?A=le:A=JSON.parse(le))}const H=(R=o.headers.get("Prefer"))===null||R===void 0?void 0:R.match(/count=(exact|planned|estimated)/),Z=(k=g.headers.get("content-range"))===null||k===void 0?void 0:k.split("/");H&&Z&&Z.length>1&&(S=parseInt(Z[1])),o.isMaybeSingle&&o.method==="GET"&&Array.isArray(A)&&(A.length>1?(b={code:"PGRST116",details:`Results contain ${A.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},A=null,S=null,v=406,T="Not Acceptable"):A.length===1?A=A[0]:A=null)}else{var V;const H=await g.text();try{b=JSON.parse(H),Array.isArray(b)&&g.status===404&&(A=[],b=null,v=200,T="OK")}catch{g.status===404&&H===""?(v=204,T="No Content"):b={message:H}}if(b&&o.isMaybeSingle&&(!(b==null||(V=b.details)===null||V===void 0)&&V.includes("0 rows"))&&(b=null,v=200,T="OK"),b&&o.shouldThrowOnError)throw new Tx(b)}return{error:b,data:A,count:S,status:v,statusText:T}});return this.shouldThrowOnError||(m=m.catch(g=>{var b;let A="",S="",v="";const T=g?.cause;if(T){var R,k,B,V;const le=(R=T?.message)!==null&&R!==void 0?R:"",$=(k=T?.code)!==null&&k!==void 0?k:"";A=`${(B=g?.name)!==null&&B!==void 0?B:"FetchError"}: ${g?.message}`,A+=`

Caused by: ${(V=T?.name)!==null&&V!==void 0?V:"Error"}: ${le}`,$&&(A+=` (${$})`),T?.stack&&(A+=`
${T.stack}`)}else{var H;A=(H=g?.stack)!==null&&H!==void 0?H:""}const Z=this.url.toString().length;return g?.name==="AbortError"||g?.code==="ABORT_ERR"?(v="",S="Request was aborted (timeout or manual cancellation)",Z>this.urlLengthLimit&&(S+=`. Note: Your request URL is ${Z} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(T?.name==="HeadersOverflowError"||T?.code==="UND_ERR_HEADERS_OVERFLOW")&&(v="",S="HTTP headers exceeded server limits (typically 16KB)",Z>this.urlLengthLimit&&(S+=`. Your request URL is ${Z} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(b=g?.name)!==null&&b!==void 0?b:"FetchError"}: ${g?.message}`,details:A,hint:S,code:v},data:null,count:null,status:0,statusText:""}})),m.then(s,r)}returns(){return this}overrideTypes(){return this}},Nx=class extends Ox{select(s){let r=!1;const o=(s??"*").split("").map(c=>/\s/.test(c)&&!r?"":(c==='"'&&(r=!r),c)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:r=!0,nullsFirst:o,foreignTable:c,referencedTable:m=c}={}){const g=m?`${m}.order`:"order",b=this.url.searchParams.get(g);return this.url.searchParams.set(g,`${b?`${b},`:""}${s}.${r?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:r,referencedTable:o=r}={}){const c=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(c,`${s}`),this}range(s,r,{foreignTable:o,referencedTable:c=o}={}){const m=typeof c>"u"?"offset":`${c}.offset`,g=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(m,`${s}`),this.url.searchParams.set(g,`${r-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:r=!1,settings:o=!1,buffers:c=!1,wal:m=!1,format:g="text"}={}){var b;const A=[s?"analyze":null,r?"verbose":null,o?"settings":null,c?"buffers":null,m?"wal":null].filter(Boolean).join("|"),S=(b=this.headers.get("Accept"))!==null&&b!==void 0?b:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${g}; for="${S}"; options=${A};`),g==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}};const xg=new RegExp("[,()]");var $s=class extends Nx{eq(s,r){return this.url.searchParams.append(s,`eq.${r}`),this}neq(s,r){return this.url.searchParams.append(s,`neq.${r}`),this}gt(s,r){return this.url.searchParams.append(s,`gt.${r}`),this}gte(s,r){return this.url.searchParams.append(s,`gte.${r}`),this}lt(s,r){return this.url.searchParams.append(s,`lt.${r}`),this}lte(s,r){return this.url.searchParams.append(s,`lte.${r}`),this}like(s,r){return this.url.searchParams.append(s,`like.${r}`),this}likeAllOf(s,r){return this.url.searchParams.append(s,`like(all).{${r.join(",")}}`),this}likeAnyOf(s,r){return this.url.searchParams.append(s,`like(any).{${r.join(",")}}`),this}ilike(s,r){return this.url.searchParams.append(s,`ilike.${r}`),this}ilikeAllOf(s,r){return this.url.searchParams.append(s,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(s,r){return this.url.searchParams.append(s,`ilike(any).{${r.join(",")}}`),this}regexMatch(s,r){return this.url.searchParams.append(s,`match.${r}`),this}regexIMatch(s,r){return this.url.searchParams.append(s,`imatch.${r}`),this}is(s,r){return this.url.searchParams.append(s,`is.${r}`),this}isDistinct(s,r){return this.url.searchParams.append(s,`isdistinct.${r}`),this}in(s,r){const o=Array.from(new Set(r)).map(c=>typeof c=="string"&&xg.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(s,`in.(${o})`),this}notIn(s,r){const o=Array.from(new Set(r)).map(c=>typeof c=="string"&&xg.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(s,`not.in.(${o})`),this}contains(s,r){return typeof r=="string"?this.url.searchParams.append(s,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(s,`cs.{${r.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(r)}`),this}containedBy(s,r){return typeof r=="string"?this.url.searchParams.append(s,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(s,`cd.{${r.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(r)}`),this}rangeGt(s,r){return this.url.searchParams.append(s,`sr.${r}`),this}rangeGte(s,r){return this.url.searchParams.append(s,`nxl.${r}`),this}rangeLt(s,r){return this.url.searchParams.append(s,`sl.${r}`),this}rangeLte(s,r){return this.url.searchParams.append(s,`nxr.${r}`),this}rangeAdjacent(s,r){return this.url.searchParams.append(s,`adj.${r}`),this}overlaps(s,r){return typeof r=="string"?this.url.searchParams.append(s,`ov.${r}`):this.url.searchParams.append(s,`ov.{${r.join(",")}}`),this}textSearch(s,r,{config:o,type:c}={}){let m="";c==="plain"?m="pl":c==="phrase"?m="ph":c==="websearch"&&(m="w");const g=o===void 0?"":`(${o})`;return this.url.searchParams.append(s,`${m}fts${g}.${r}`),this}match(s){return Object.entries(s).forEach(([r,o])=>{this.url.searchParams.append(r,`eq.${o}`)}),this}not(s,r,o){return this.url.searchParams.append(s,`not.${r}.${o}`),this}or(s,{foreignTable:r,referencedTable:o=r}={}){const c=o?`${o}.or`:"or";return this.url.searchParams.append(c,`(${s})`),this}filter(s,r,o){return this.url.searchParams.append(s,`${r}.${o}`),this}},Rx=class{constructor(s,{headers:r={},schema:o,fetch:c,urlLengthLimit:m=8e3}){this.url=s,this.headers=new Headers(r),this.schema=o,this.fetch=c,this.urlLengthLimit=m}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(s,r){const{head:o=!1,count:c}=r??{},m=o?"HEAD":"GET";let g=!1;const b=(s??"*").split("").map(v=>/\s/.test(v)&&!g?"":(v==='"'&&(g=!g),v)).join(""),{url:A,headers:S}=this.cloneRequestState();return A.searchParams.set("select",b),c&&S.append("Prefer",`count=${c}`),new $s({method:m,url:A,headers:S,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(s,{count:r,defaultToNull:o=!0}={}){var c;const m="POST",{url:g,headers:b}=this.cloneRequestState();if(r&&b.append("Prefer",`count=${r}`),o||b.append("Prefer","missing=default"),Array.isArray(s)){const A=s.reduce((S,v)=>S.concat(Object.keys(v)),[]);if(A.length>0){const S=[...new Set(A)].map(v=>`"${v}"`);g.searchParams.set("columns",S.join(","))}}return new $s({method:m,url:g,headers:b,schema:this.schema,body:s,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(s,{onConflict:r,ignoreDuplicates:o=!1,count:c,defaultToNull:m=!0}={}){var g;const b="POST",{url:A,headers:S}=this.cloneRequestState();if(S.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),r!==void 0&&A.searchParams.set("on_conflict",r),c&&S.append("Prefer",`count=${c}`),m||S.append("Prefer","missing=default"),Array.isArray(s)){const v=s.reduce((T,R)=>T.concat(Object.keys(R)),[]);if(v.length>0){const T=[...new Set(v)].map(R=>`"${R}"`);A.searchParams.set("columns",T.join(","))}}return new $s({method:b,url:A,headers:S,schema:this.schema,body:s,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch,urlLengthLimit:this.urlLengthLimit})}update(s,{count:r}={}){var o;const c="PATCH",{url:m,headers:g}=this.cloneRequestState();return r&&g.append("Prefer",`count=${r}`),new $s({method:c,url:m,headers:g,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:s}={}){var r;const o="DELETE",{url:c,headers:m}=this.cloneRequestState();return s&&m.append("Prefer",`count=${s}`),new $s({method:o,url:c,headers:m,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}};function fo(s){"@babel/helpers - typeof";return fo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},fo(s)}function Ix(s,r){if(fo(s)!="object"||!s)return s;var o=s[Symbol.toPrimitive];if(o!==void 0){var c=o.call(s,r);if(fo(c)!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(s)}function Dx(s){var r=Ix(s,"string");return fo(r)=="symbol"?r:r+""}function Mx(s,r,o){return(r=Dx(r))in s?Object.defineProperty(s,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):s[r]=o,s}function wg(s,r){var o=Object.keys(s);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(s);r&&(c=c.filter(function(m){return Object.getOwnPropertyDescriptor(s,m).enumerable})),o.push.apply(o,c)}return o}function Gu(s){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{};r%2?wg(Object(o),!0).forEach(function(c){Mx(s,c,o[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(o)):wg(Object(o)).forEach(function(c){Object.defineProperty(s,c,Object.getOwnPropertyDescriptor(o,c))})}return s}var Lx=class Am{constructor(r,{headers:o={},schema:c,fetch:m,timeout:g,urlLengthLimit:b=8e3}={}){this.url=r,this.headers=new Headers(o),this.schemaName=c,this.urlLengthLimit=b;const A=m??globalThis.fetch;g!==void 0&&g>0?this.fetch=(S,v)=>{const T=new AbortController,R=setTimeout(()=>T.abort(),g),k=v?.signal;if(k){if(k.aborted)return clearTimeout(R),A(S,v);const B=()=>{clearTimeout(R),T.abort()};return k.addEventListener("abort",B,{once:!0}),A(S,Gu(Gu({},v),{},{signal:T.signal})).finally(()=>{clearTimeout(R),k.removeEventListener("abort",B)})}return A(S,Gu(Gu({},v),{},{signal:T.signal})).finally(()=>clearTimeout(R))}:this.fetch=A}from(r){if(!r||typeof r!="string"||r.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Rx(new URL(`${this.url}/${r}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(r){return new Am(this.url,{headers:this.headers,schema:r,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(r,o={},{head:c=!1,get:m=!1,count:g}={}){var b;let A;const S=new URL(`${this.url}/rpc/${r}`);let v;const T=B=>B!==null&&typeof B=="object"&&(!Array.isArray(B)||B.some(T)),R=c&&Object.values(o).some(T);R?(A="POST",v=o):c||m?(A=c?"HEAD":"GET",Object.entries(o).filter(([B,V])=>V!==void 0).map(([B,V])=>[B,Array.isArray(V)?`{${V.join(",")}}`:`${V}`]).forEach(([B,V])=>{S.searchParams.append(B,V)})):(A="POST",v=o);const k=new Headers(this.headers);return R?k.set("Prefer",g?`count=${g},return=minimal`:"return=minimal"):g&&k.set("Prefer",`count=${g}`),new $s({method:A,url:S,headers:k,schema:this.schemaName,body:v,fetch:(b=this.fetch)!==null&&b!==void 0?b:fetch,urlLengthLimit:this.urlLengthLimit})}};class Bx{constructor(){}static detectEnvironment(){var r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((r=navigator.userAgent)===null||r===void 0)&&r.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const o=globalThis.process;if(o){const c=o.versions;if(c&&c.node){const m=c.node,g=parseInt(m.replace(/^v/,"").split(".")[0]);return g>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${g} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${g} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const r=this.detectEnvironment();if(r.constructor)return r.constructor;let o=r.error||"WebSocket not supported in this environment.";throw r.workaround&&(o+=`

Suggested solution: ${r.workaround}`),new Error(o)}static createWebSocket(r,o){const c=this.getWebSocketConstructor();return new c(r,o)}static isWebSocketSupported(){try{const r=this.detectEnvironment();return r.type==="native"||r.type==="ws"}catch{return!1}}}const kx="2.96.0",Ux=`realtime-js/${kx}`,jx="1.0.0",Sm="2.0.0",bg=Sm,Tf=1e4,Px=1e3,zx=100;var Ta;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(Ta||(Ta={}));var _n;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(_n||(_n={}));var Zi;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(Zi||(Zi={}));var Of;(function(s){s.websocket="websocket"})(Of||(Of={}));var as;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(as||(as={}));class Fx{constructor(r){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=r??[]}encode(r,o){if(r.event===this.BROADCAST_EVENT&&!(r.payload instanceof ArrayBuffer)&&typeof r.payload.event=="string")return o(this._binaryEncodeUserBroadcastPush(r));let c=[r.join_ref,r.ref,r.topic,r.event,r.payload];return o(JSON.stringify(c))}_binaryEncodeUserBroadcastPush(r){var o;return this._isArrayBuffer((o=r.payload)===null||o===void 0?void 0:o.payload)?this._encodeBinaryUserBroadcastPush(r):this._encodeJsonUserBroadcastPush(r)}_encodeBinaryUserBroadcastPush(r){var o,c;const m=(c=(o=r.payload)===null||o===void 0?void 0:o.payload)!==null&&c!==void 0?c:new ArrayBuffer(0);return this._encodeUserBroadcastPush(r,this.BINARY_ENCODING,m)}_encodeJsonUserBroadcastPush(r){var o,c;const m=(c=(o=r.payload)===null||o===void 0?void 0:o.payload)!==null&&c!==void 0?c:{},b=new TextEncoder().encode(JSON.stringify(m)).buffer;return this._encodeUserBroadcastPush(r,this.JSON_ENCODING,b)}_encodeUserBroadcastPush(r,o,c){var m,g;const b=r.topic,A=(m=r.ref)!==null&&m!==void 0?m:"",S=(g=r.join_ref)!==null&&g!==void 0?g:"",v=r.payload.event,T=this.allowedMetadataKeys?this._pick(r.payload,this.allowedMetadataKeys):{},R=Object.keys(T).length===0?"":JSON.stringify(T);if(S.length>255)throw new Error(`joinRef length ${S.length} exceeds maximum of 255`);if(A.length>255)throw new Error(`ref length ${A.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`topic length ${b.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`userEvent length ${v.length} exceeds maximum of 255`);if(R.length>255)throw new Error(`metadata length ${R.length} exceeds maximum of 255`);const k=this.USER_BROADCAST_PUSH_META_LENGTH+S.length+A.length+b.length+v.length+R.length,B=new ArrayBuffer(this.HEADER_LENGTH+k);let V=new DataView(B),H=0;V.setUint8(H++,this.KINDS.userBroadcastPush),V.setUint8(H++,S.length),V.setUint8(H++,A.length),V.setUint8(H++,b.length),V.setUint8(H++,v.length),V.setUint8(H++,R.length),V.setUint8(H++,o),Array.from(S,le=>V.setUint8(H++,le.charCodeAt(0))),Array.from(A,le=>V.setUint8(H++,le.charCodeAt(0))),Array.from(b,le=>V.setUint8(H++,le.charCodeAt(0))),Array.from(v,le=>V.setUint8(H++,le.charCodeAt(0))),Array.from(R,le=>V.setUint8(H++,le.charCodeAt(0)));var Z=new Uint8Array(B.byteLength+c.byteLength);return Z.set(new Uint8Array(B),0),Z.set(new Uint8Array(c),B.byteLength),Z.buffer}decode(r,o){if(this._isArrayBuffer(r)){let c=this._binaryDecode(r);return o(c)}if(typeof r=="string"){const c=JSON.parse(r),[m,g,b,A,S]=c;return o({join_ref:m,ref:g,topic:b,event:A,payload:S})}return o({})}_binaryDecode(r){const o=new DataView(r),c=o.getUint8(0),m=new TextDecoder;if(c===this.KINDS.userBroadcast)return this._decodeUserBroadcast(r,o,m)}_decodeUserBroadcast(r,o,c){const m=o.getUint8(1),g=o.getUint8(2),b=o.getUint8(3),A=o.getUint8(4);let S=this.HEADER_LENGTH+4;const v=c.decode(r.slice(S,S+m));S=S+m;const T=c.decode(r.slice(S,S+g));S=S+g;const R=c.decode(r.slice(S,S+b));S=S+b;const k=r.slice(S,r.byteLength),B=A===this.JSON_ENCODING?JSON.parse(c.decode(k)):k,V={type:this.BROADCAST_EVENT,event:T,payload:B};return b>0&&(V.meta=JSON.parse(R)),{join_ref:null,ref:null,topic:v,event:this.BROADCAST_EVENT,payload:V}}_isArrayBuffer(r){var o;return r instanceof ArrayBuffer||((o=r?.constructor)===null||o===void 0?void 0:o.name)==="ArrayBuffer"}_pick(r,o){return!r||typeof r!="object"?{}:Object.fromEntries(Object.entries(r).filter(([c])=>o.includes(c)))}}class Cm{constructor(r,o){this.callback=r,this.timerCalc=o,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=o}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var zt;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(zt||(zt={}));const vg=(s,r,o={})=>{var c;const m=(c=o.skipTypes)!==null&&c!==void 0?c:[];return r?Object.keys(r).reduce((g,b)=>(g[b]=Hx(b,s,r,m),g),{}):{}},Hx=(s,r,o,c)=>{const m=r.find(A=>A.name===s),g=m?.type,b=o[s];return g&&!c.includes(g)?_m(g,b):Nf(b)},_m=(s,r)=>{if(s.charAt(0)==="_"){const o=s.slice(1,s.length);return qx(r,o)}switch(s){case zt.bool:return Vx(r);case zt.float4:case zt.float8:case zt.int2:case zt.int4:case zt.int8:case zt.numeric:case zt.oid:return Gx(r);case zt.json:case zt.jsonb:return Yx(r);case zt.timestamp:return Xx(r);case zt.abstime:case zt.date:case zt.daterange:case zt.int4range:case zt.int8range:case zt.money:case zt.reltime:case zt.text:case zt.time:case zt.timestamptz:case zt.timetz:case zt.tsrange:case zt.tstzrange:return Nf(r);default:return Nf(r)}},Nf=s=>s,Vx=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},Gx=s=>{if(typeof s=="string"){const r=parseFloat(s);if(!Number.isNaN(r))return r}return s},Yx=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch{return s}return s},qx=(s,r)=>{if(typeof s!="string")return s;const o=s.length-1,c=s[o];if(s[0]==="{"&&c==="}"){let g;const b=s.slice(1,o);try{g=JSON.parse("["+b+"]")}catch{g=b?b.split(","):[]}return g.map(A=>_m(r,A))}return s},Xx=s=>typeof s=="string"?s.replace(" ","T"):s,Tm=s=>{const r=new URL(s);return r.protocol=r.protocol.replace(/^ws/i,"http"),r.pathname=r.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),r.pathname===""||r.pathname==="/"?r.pathname="/api/broadcast":r.pathname=r.pathname+"/api/broadcast",r.href};class pf{constructor(r,o,c={},m=Tf){this.channel=r,this.event=o,this.payload=c,this.timeout=m,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,o){var c;return this._hasReceived(r)&&o((c=this.receivedResp)===null||c===void 0?void 0:c.response),this.recHooks.push({status:r,callback:o}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=o=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=o,this._matchReceive(o)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,o){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:o})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:o}){this.recHooks.filter(c=>c.status===r).forEach(c=>c.callback(o))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var Eg;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(Eg||(Eg={}));class uo{constructor(r,o){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const c=o?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(c.state,{},m=>{const{onJoin:g,onLeave:b,onSync:A}=this.caller;this.joinRef=this.channel._joinRef(),this.state=uo.syncState(this.state,m,g,b),this.pendingDiffs.forEach(S=>{this.state=uo.syncDiff(this.state,S,g,b)}),this.pendingDiffs=[],A()}),this.channel._on(c.diff,{},m=>{const{onJoin:g,onLeave:b,onSync:A}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(m):(this.state=uo.syncDiff(this.state,m,g,b),A())}),this.onJoin((m,g,b)=>{this.channel._trigger("presence",{event:"join",key:m,currentPresences:g,newPresences:b})}),this.onLeave((m,g,b)=>{this.channel._trigger("presence",{event:"leave",key:m,currentPresences:g,leftPresences:b})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,o,c,m){const g=this.cloneDeep(r),b=this.transformState(o),A={},S={};return this.map(g,(v,T)=>{b[v]||(S[v]=T)}),this.map(b,(v,T)=>{const R=g[v];if(R){const k=T.map(Z=>Z.presence_ref),B=R.map(Z=>Z.presence_ref),V=T.filter(Z=>B.indexOf(Z.presence_ref)<0),H=R.filter(Z=>k.indexOf(Z.presence_ref)<0);V.length>0&&(A[v]=V),H.length>0&&(S[v]=H)}else A[v]=T}),this.syncDiff(g,{joins:A,leaves:S},c,m)}static syncDiff(r,o,c,m){const{joins:g,leaves:b}={joins:this.transformState(o.joins),leaves:this.transformState(o.leaves)};return c||(c=()=>{}),m||(m=()=>{}),this.map(g,(A,S)=>{var v;const T=(v=r[A])!==null&&v!==void 0?v:[];if(r[A]=this.cloneDeep(S),T.length>0){const R=r[A].map(B=>B.presence_ref),k=T.filter(B=>R.indexOf(B.presence_ref)<0);r[A].unshift(...k)}c(A,T,S)}),this.map(b,(A,S)=>{let v=r[A];if(!v)return;const T=S.map(R=>R.presence_ref);v=v.filter(R=>T.indexOf(R.presence_ref)<0),r[A]=v,m(A,v,S),v.length===0&&delete r[A]}),r}static map(r,o){return Object.getOwnPropertyNames(r).map(c=>o(c,r[c]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((o,c)=>{const m=r[c];return"metas"in m?o[c]=m.metas.map(g=>(g.presence_ref=g.phx_ref,delete g.phx_ref,delete g.phx_ref_prev,g)):o[c]=m,o},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ag;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(Ag||(Ag={}));var co;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(co||(co={}));var Br;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(Br||(Br={}));class nl{constructor(r,o={config:{}},c){var m,g;if(this.topic=r,this.params=o,this.socket=c,this.bindings={},this.state=_n.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},o.config),this.timeout=this.socket.timeout,this.joinPush=new pf(this,Zi.join,this.params,this.timeout),this.rejoinTimer=new Cm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=_n.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(b=>b.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=_n.closed,this.socket._remove(this)}),this._onError(b=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,b),this.state=_n.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=_n.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",b=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,b),this.state=_n.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Zi.reply,{},(b,A)=>{this._trigger(this._replyEventName(A),b)}),this.presence=new uo(this),this.broadcastEndpointURL=Tm(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((g=(m=this.params.config)===null||m===void 0?void 0:m.broadcast)===null||g===void 0)&&g.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(r,o=this.timeout){var c,m,g;if(this.socket.isConnected()||this.socket.connect(),this.state==_n.closed){const{config:{broadcast:b,presence:A,private:S}}=this.params,v=(m=(c=this.bindings.postgres_changes)===null||c===void 0?void 0:c.map(B=>B.filter))!==null&&m!==void 0?m:[],T=!!this.bindings[co.PRESENCE]&&this.bindings[co.PRESENCE].length>0||((g=this.params.config.presence)===null||g===void 0?void 0:g.enabled)===!0,R={},k={broadcast:b,presence:Object.assign(Object.assign({},A),{enabled:T}),postgres_changes:v,private:S};this.socket.accessTokenValue&&(R.access_token=this.socket.accessTokenValue),this._onError(B=>r?.(Br.CHANNEL_ERROR,B)),this._onClose(()=>r?.(Br.CLOSED)),this.updateJoinPayload(Object.assign({config:k},R)),this.joinedOnce=!0,this._rejoin(o),this.joinPush.receive("ok",async({postgres_changes:B})=>{var V;if(this.socket._isManualToken()||this.socket.setAuth(),B===void 0){r?.(Br.SUBSCRIBED);return}else{const H=this.bindings.postgres_changes,Z=(V=H?.length)!==null&&V!==void 0?V:0,le=[];for(let $=0;$<Z;$++){const X=H[$],{filter:{event:pe,schema:ke,table:Ee,filter:ne}}=X,Ie=B&&B[$];if(Ie&&Ie.event===pe&&nl.isFilterValueEqual(Ie.schema,ke)&&nl.isFilterValueEqual(Ie.table,Ee)&&nl.isFilterValueEqual(Ie.filter,ne))le.push(Object.assign(Object.assign({},X),{id:Ie.id}));else{this.unsubscribe(),this.state=_n.errored,r?.(Br.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=le,r&&r(Br.SUBSCRIBED);return}}).receive("error",B=>{this.state=_n.errored,r?.(Br.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(B).join(", ")||"error")))}).receive("timeout",()=>{r?.(Br.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,o={}){return await this.send({type:"presence",event:"track",payload:r},o.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,o,c){return this.state===_n.joined&&r===co.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(r,o,c)}async httpSend(r,o,c={}){var m;if(o==null)return Promise.reject("Payload is required for httpSend()");const g={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(g.Authorization=`Bearer ${this.socket.accessTokenValue}`);const b={method:"POST",headers:g,body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:o,private:this.private}]})},A=await this._fetchWithTimeout(this.broadcastEndpointURL,b,(m=c.timeout)!==null&&m!==void 0?m:this.timeout);if(A.status===202)return{success:!0};let S=A.statusText;try{const v=await A.json();S=v.error||v.message||S}catch{}return Promise.reject(new Error(S))}async send(r,o={}){var c,m;if(!this._canPush()&&r.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:g,payload:b}=r,A={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(A.Authorization=`Bearer ${this.socket.accessTokenValue}`);const S={method:"POST",headers:A,body:JSON.stringify({messages:[{topic:this.subTopic,event:g,payload:b,private:this.private}]})};try{const v=await this._fetchWithTimeout(this.broadcastEndpointURL,S,(c=o.timeout)!==null&&c!==void 0?c:this.timeout);return await((m=v.body)===null||m===void 0?void 0:m.cancel()),v.ok?"ok":"error"}catch(v){return v.name==="AbortError"?"timed out":"error"}}else return new Promise(g=>{var b,A,S;const v=this._push(r.type,r,o.timeout||this.timeout);r.type==="broadcast"&&!(!((S=(A=(b=this.params)===null||b===void 0?void 0:b.config)===null||A===void 0?void 0:A.broadcast)===null||S===void 0)&&S.ack)&&g("ok"),v.receive("ok",()=>g("ok")),v.receive("error",()=>g("error")),v.receive("timeout",()=>g("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=_n.leaving;const o=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Zi.close,"leave",this._joinRef())};this.joinPush.destroy();let c=null;return new Promise(m=>{c=new pf(this,Zi.leave,{},r),c.receive("ok",()=>{o(),m("ok")}).receive("timeout",()=>{o(),m("timed out")}).receive("error",()=>{m("error")}),c.send(),this._canPush()||c.trigger("ok",{})}).finally(()=>{c?.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=_n.closed,this.bindings={}}async _fetchWithTimeout(r,o,c){const m=new AbortController,g=setTimeout(()=>m.abort(),c),b=await this.socket.fetch(r,Object.assign(Object.assign({},o),{signal:m.signal}));return clearTimeout(g),b}_push(r,o,c=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let m=new pf(this,r,o,c);return this._canPush()?m.send():this._addToPushBuffer(m),m}_addToPushBuffer(r){if(r.startTimeout(),this.pushBuffer.push(r),this.pushBuffer.length>zx){const o=this.pushBuffer.shift();o&&(o.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${o.event}`,o.payload))}}_onMessage(r,o,c){return o}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,o,c){var m,g;const b=r.toLocaleLowerCase(),{close:A,error:S,leave:v,join:T}=Zi;if(c&&[A,S,v,T].indexOf(b)>=0&&c!==this._joinRef())return;let k=this._onMessage(b,o,c);if(o&&!k)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(b)?(m=this.bindings.postgres_changes)===null||m===void 0||m.filter(B=>{var V,H,Z;return((V=B.filter)===null||V===void 0?void 0:V.event)==="*"||((Z=(H=B.filter)===null||H===void 0?void 0:H.event)===null||Z===void 0?void 0:Z.toLocaleLowerCase())===b}).map(B=>B.callback(k,c)):(g=this.bindings[b])===null||g===void 0||g.filter(B=>{var V,H,Z,le,$,X;if(["broadcast","presence","postgres_changes"].includes(b))if("id"in B){const pe=B.id,ke=(V=B.filter)===null||V===void 0?void 0:V.event;return pe&&((H=o.ids)===null||H===void 0?void 0:H.includes(pe))&&(ke==="*"||ke?.toLocaleLowerCase()===((Z=o.data)===null||Z===void 0?void 0:Z.type.toLocaleLowerCase()))}else{const pe=($=(le=B?.filter)===null||le===void 0?void 0:le.event)===null||$===void 0?void 0:$.toLocaleLowerCase();return pe==="*"||pe===((X=o?.event)===null||X===void 0?void 0:X.toLocaleLowerCase())}else return B.type.toLocaleLowerCase()===b}).map(B=>{if(typeof k=="object"&&"ids"in k){const V=k.data,{schema:H,table:Z,commit_timestamp:le,type:$,errors:X}=V;k=Object.assign(Object.assign({},{schema:H,table:Z,commit_timestamp:le,eventType:$,new:{},old:{},errors:X}),this._getPayloadRecords(V))}B.callback(k,c)})}_isClosed(){return this.state===_n.closed}_isJoined(){return this.state===_n.joined}_isJoining(){return this.state===_n.joining}_isLeaving(){return this.state===_n.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,o,c){const m=r.toLocaleLowerCase(),g={type:m,filter:o,callback:c};return this.bindings[m]?this.bindings[m].push(g):this.bindings[m]=[g],this}_off(r,o){const c=r.toLocaleLowerCase();return this.bindings[c]&&(this.bindings[c]=this.bindings[c].filter(m=>{var g;return!(((g=m.type)===null||g===void 0?void 0:g.toLocaleLowerCase())===c&&nl.isEqual(m.filter,o))})),this}static isEqual(r,o){if(Object.keys(r).length!==Object.keys(o).length)return!1;for(const c in r)if(r[c]!==o[c])return!1;return!0}static isFilterValueEqual(r,o){return(r??void 0)===(o??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(Zi.close,{},r)}_onError(r){this._on(Zi.error,{},o=>r(o))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=_n.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const o={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(o.new=vg(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(o.old=vg(r.columns,r.old_record)),o}}const yf=()=>{},Yu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Wx=[1e3,2e3,5e3,1e4],Zx=1e4,Kx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Qx{constructor(r,o){var c;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Tf,this.transport=null,this.heartbeatIntervalMs=Yu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=yf,this.ref=0,this.reconnectTimer=null,this.vsn=bg,this.logger=yf,this.conn=null,this.sendBuffer=[],this.serializer=new Fx,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=m=>m?(...g)=>m(...g):(...g)=>fetch(...g),!(!((c=o?.params)===null||c===void 0)&&c.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=o.params.apikey,this.endPoint=`${r}/${Of.websocket}`,this.httpEndpoint=Tm(r),this._initializeOptions(o),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(o?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Bx.createWebSocket(this.endpointURL())}catch(r){this._setConnectionState("disconnected");const o=r.message;throw o.includes("Node.js")?new Error(`${o}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${o}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(r,o){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const c=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(c),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(r?this.conn.close(r,o??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(r){const o=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),o}async removeAllChannels(){const r=await Promise.all(this.channels.map(o=>o.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,o,c){this.logger(r,o,c)}connectionState(){switch(this.conn&&this.conn.readyState){case Ta.connecting:return as.Connecting;case Ta.open:return as.Open;case Ta.closing:return as.Closing;default:return as.Closed}}isConnected(){return this.connectionState()===as.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(r,o={config:{}}){const c=`realtime:${r}`,m=this.getChannels().find(g=>g.topic===c);if(m)return m;{const g=new nl(`realtime:${r}`,o,this);return this.channels.push(g),g}}push(r){const{topic:o,event:c,payload:m,ref:g}=r,b=()=>{this.encode(r,A=>{var S;(S=this.conn)===null||S===void 0||S.send(A)})};this.log("push",`${o} ${c} (${g})`,m),this.isConnected()?b():this.sendBuffer.push(b)}async setAuth(r=null){this._authPromise=this._performAuth(r);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var r;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(o){this.log("error","error in heartbeat callback",o)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(o){this.log("error","error in heartbeat callback",o)}this._wasManualDisconnect=!1,(r=this.conn)===null||r===void 0||r.close(Px,"heartbeat timeout"),setTimeout(()=>{var o;this.isConnected()||(o=this.reconnectTimer)===null||o===void 0||o.scheduleTimeout()},Yu.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(o){this.log("error","error in heartbeat callback",o)}this._setAuthSafely("heartbeat")}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let o=this.channels.find(c=>c.topic===r&&(c._isJoined()||c._isJoining()));o&&(this.log("transport",`leaving duplicate topic "${r}"`),o.unsubscribe())}_remove(r){this.channels=this.channels.filter(o=>o.topic!==r.topic)}_onConnMessage(r){this.decode(r.data,o=>{if(o.topic==="phoenix"&&o.event==="phx_reply"&&o.ref&&o.ref===this.pendingHeartbeatRef){const v=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(o.payload.status==="ok"?"ok":"error",v)}catch(T){this.log("error","error in heartbeat callback",T)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:c,event:m,payload:g,ref:b}=o,A=b?`(${b})`:"",S=g.status||"";this.log("receive",`${S} ${c} ${m} ${A}`.trim(),g),this.channels.filter(v=>v._isMember(c)).forEach(v=>v._trigger(m,g,b)),this._triggerStateCallbacks("message",o)})}_clearTimer(r){var o;r==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):r==="reconnect"&&((o=this.reconnectTimer)===null||o===void 0||o.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r),this.conn.readyState===Ta.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ta.open||this.conn.readyState===Ta.connecting)try{this.conn.close()}catch(r){this.log("error","Error closing connection",r)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(r=>r.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(o=>{this.log("error","error waiting for auth on connect",o),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=o=>{this.log("worker","worker error",o.message),this._terminateWorker()},this.workerRef.onmessage=o=>{o.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(r){var o;this._setConnectionState("disconnected"),this.log("transport","close",r),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(o=this.reconnectTimer)===null||o===void 0||o.scheduleTimeout(),this._triggerStateCallbacks("close",r)}_onConnError(r){this._setConnectionState("disconnected"),this.log("transport",`${r}`),this._triggerChanError(),this._triggerStateCallbacks("error",r);try{this.heartbeatCallback("error")}catch(o){this.log("error","error in heartbeat callback",o)}}_triggerChanError(){this.channels.forEach(r=>r._trigger(Zi.error))}_appendParams(r,o){if(Object.keys(o).length===0)return r;const c=r.match(/\?/)?"&":"?",m=new URLSearchParams(o);return`${r}${c}${m}`}_workerObjectUrl(r){let o;if(r)o=r;else{const c=new Blob([Kx],{type:"application/javascript"});o=URL.createObjectURL(c)}return o}_setConnectionState(r,o=!1){this._connectionState=r,r==="connecting"?this._wasManualDisconnect=!1:r==="disconnecting"&&(this._wasManualDisconnect=o)}async _performAuth(r=null){let o,c=!1;if(r)o=r,c=!0;else if(this.accessToken)try{o=await this.accessToken()}catch(m){this.log("error","Error fetching access token from callback",m),o=this.accessTokenValue}else o=this.accessTokenValue;c?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=o&&(this.accessTokenValue=o,this.channels.forEach(m=>{const g={access_token:o,version:Ux};o&&m.updateJoinPayload(g),m.joinedOnce&&m._isJoined()&&m._push(Zi.access_token,{access_token:o})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(r="general"){this._isManualToken()||this.setAuth().catch(o=>{this.log("error",`Error setting auth in ${r}`,o)})}_triggerStateCallbacks(r,o){try{this.stateChangeCallbacks[r].forEach(c=>{try{c(o)}catch(m){this.log("error",`error in ${r} callback`,m)}})}catch(c){this.log("error",`error triggering ${r} callbacks`,c)}}_setupReconnectionTimer(){this.reconnectTimer=new Cm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Yu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(r){var o,c,m,g,b,A,S,v,T,R,k,B;switch(this.transport=(o=r?.transport)!==null&&o!==void 0?o:null,this.timeout=(c=r?.timeout)!==null&&c!==void 0?c:Tf,this.heartbeatIntervalMs=(m=r?.heartbeatIntervalMs)!==null&&m!==void 0?m:Yu.HEARTBEAT_INTERVAL,this.worker=(g=r?.worker)!==null&&g!==void 0?g:!1,this.accessToken=(b=r?.accessToken)!==null&&b!==void 0?b:null,this.heartbeatCallback=(A=r?.heartbeatCallback)!==null&&A!==void 0?A:yf,this.vsn=(S=r?.vsn)!==null&&S!==void 0?S:bg,r?.params&&(this.params=r.params),r?.logger&&(this.logger=r.logger),(r?.logLevel||r?.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(v=r?.reconnectAfterMs)!==null&&v!==void 0?v:(V=>Wx[V-1]||Zx),this.vsn){case jx:this.encode=(T=r?.encode)!==null&&T!==void 0?T:((V,H)=>H(JSON.stringify(V))),this.decode=(R=r?.decode)!==null&&R!==void 0?R:((V,H)=>H(JSON.parse(V)));break;case Sm:this.encode=(k=r?.encode)!==null&&k!==void 0?k:this.serializer.encode.bind(this.serializer),this.decode=(B=r?.decode)!==null&&B!==void 0?B:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=r?.workerUrl}}}var go=class extends Error{constructor(s,r){super(s),this.name="IcebergError",this.status=r.status,this.icebergType=r.icebergType,this.icebergCode=r.icebergCode,this.details=r.details,this.isCommitStateUnknown=r.icebergType==="CommitStateUnknownException"||[500,502,504].includes(r.status)&&r.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Jx(s,r,o){const c=new URL(r,s);if(o)for(const[m,g]of Object.entries(o))g!==void 0&&c.searchParams.set(m,g);return c.toString()}async function $x(s){return!s||s.type==="none"?{}:s.type==="bearer"?{Authorization:`Bearer ${s.token}`}:s.type==="header"?{[s.name]:s.value}:s.type==="custom"?await s.getHeaders():{}}function ew(s){const r=s.fetchImpl??globalThis.fetch;return{async request({method:o,path:c,query:m,body:g,headers:b}){const A=Jx(s.baseUrl,c,m),S=await $x(s.auth),v=await r(A,{method:o,headers:{...g?{"Content-Type":"application/json"}:{},...S,...b},body:g?JSON.stringify(g):void 0}),T=await v.text(),R=(v.headers.get("content-type")||"").includes("application/json"),k=R&&T?JSON.parse(T):T;if(!v.ok){const B=R?k:void 0,V=B?.error;throw new go(V?.message??`Request failed with status ${v.status}`,{status:v.status,icebergType:V?.type,icebergCode:V?.code,details:B})}return{status:v.status,headers:v.headers,data:k}}}}function qu(s){return s.join("")}var tw=class{constructor(s,r=""){this.client=s,this.prefix=r}async listNamespaces(s){const r=s?{parent:qu(s.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:r})).data.namespaces.map(c=>({namespace:c}))}async createNamespace(s,r){const o={namespace:s.namespace,properties:r?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:o})).data}async dropNamespace(s){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${qu(s.namespace)}`})}async loadNamespaceMetadata(s){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${qu(s.namespace)}`})).data.properties}}async namespaceExists(s){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${qu(s.namespace)}`}),!0}catch(r){if(r instanceof go&&r.status===404)return!1;throw r}}async createNamespaceIfNotExists(s,r){try{return await this.createNamespace(s,r)}catch(o){if(o instanceof go&&o.status===409)return;throw o}}};function Xs(s){return s.join("")}var nw=class{constructor(s,r="",o){this.client=s,this.prefix=r,this.accessDelegation=o}async listTables(s){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Xs(s.namespace)}/tables`})).data.identifiers}async createTable(s,r){const o={};return this.accessDelegation&&(o["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Xs(s.namespace)}/tables`,body:r,headers:o})).data.metadata}async updateTable(s,r){const o=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Xs(s.namespace)}/tables/${s.name}`,body:r});return{"metadata-location":o.data["metadata-location"],metadata:o.data.metadata}}async dropTable(s,r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Xs(s.namespace)}/tables/${s.name}`,query:{purgeRequested:String(r?.purge??!1)}})}async loadTable(s){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Xs(s.namespace)}/tables/${s.name}`,headers:r})).data.metadata}async tableExists(s){const r={};this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Xs(s.namespace)}/tables/${s.name}`,headers:r}),!0}catch(o){if(o instanceof go&&o.status===404)return!1;throw o}}async createTableIfNotExists(s,r){try{return await this.createTable(s,r)}catch(o){if(o instanceof go&&o.status===409)return await this.loadTable({namespace:s.namespace,name:r.name});throw o}}},iw=class{constructor(s){let r="v1";s.catalogName&&(r+=`/${s.catalogName}`);const o=s.baseUrl.endsWith("/")?s.baseUrl:`${s.baseUrl}/`;this.client=ew({baseUrl:o,auth:s.auth,fetchImpl:s.fetch}),this.accessDelegation=s.accessDelegation?.join(","),this.namespaceOps=new tw(this.client,r),this.tableOps=new nw(this.client,r,this.accessDelegation)}async listNamespaces(s){return this.namespaceOps.listNamespaces(s)}async createNamespace(s,r){return this.namespaceOps.createNamespace(s,r)}async dropNamespace(s){await this.namespaceOps.dropNamespace(s)}async loadNamespaceMetadata(s){return this.namespaceOps.loadNamespaceMetadata(s)}async listTables(s){return this.tableOps.listTables(s)}async createTable(s,r){return this.tableOps.createTable(s,r)}async updateTable(s,r){return this.tableOps.updateTable(s,r)}async dropTable(s,r){await this.tableOps.dropTable(s,r)}async loadTable(s){return this.tableOps.loadTable(s)}async namespaceExists(s){return this.namespaceOps.namespaceExists(s)}async tableExists(s){return this.tableOps.tableExists(s)}async createNamespaceIfNotExists(s,r){return this.namespaceOps.createNamespaceIfNotExists(s,r)}async createTableIfNotExists(s,r){return this.tableOps.createTableIfNotExists(s,r)}},oc=class extends Error{constructor(s,r="storage",o,c){super(s),this.__isStorageError=!0,this.namespace=r,this.name=r==="vectors"?"StorageVectorsError":"StorageError",this.status=o,this.statusCode=c}};function uc(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}var Xu=class extends oc{constructor(s,r,o,c="storage"){super(s,c,r,o),this.name=c==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=r,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Om=class extends oc{constructor(s,r,o="storage"){super(s,o),this.name=o==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=r}};const rw=s=>s?(...r)=>s(...r):(...r)=>fetch(...r),aw=s=>{if(typeof s!="object"||s===null)return!1;const r=Object.getPrototypeOf(s);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},Rf=s=>{if(Array.isArray(s))return s.map(o=>Rf(o));if(typeof s=="function"||s!==Object(s))return s;const r={};return Object.entries(s).forEach(([o,c])=>{const m=o.replace(/([-_][a-z])/gi,g=>g.toUpperCase().replace(/[-_]/g,""));r[m]=Rf(c)}),r},sw=s=>!s||typeof s!="string"||s.length===0||s.length>100||s.trim()!==s||s.includes("/")||s.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(s);function mo(s){"@babel/helpers - typeof";return mo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},mo(s)}function lw(s,r){if(mo(s)!="object"||!s)return s;var o=s[Symbol.toPrimitive];if(o!==void 0){var c=o.call(s,r);if(mo(c)!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(s)}function ow(s){var r=lw(s,"string");return mo(r)=="symbol"?r:r+""}function uw(s,r,o){return(r=ow(r))in s?Object.defineProperty(s,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):s[r]=o,s}function Sg(s,r){var o=Object.keys(s);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(s);r&&(c=c.filter(function(m){return Object.getOwnPropertyDescriptor(s,m).enumerable})),o.push.apply(o,c)}return o}function ze(s){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{};r%2?Sg(Object(o),!0).forEach(function(c){uw(s,c,o[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(o)):Sg(Object(o)).forEach(function(c){Object.defineProperty(s,c,Object.getOwnPropertyDescriptor(o,c))})}return s}const Cg=s=>{var r;return s.msg||s.message||s.error_description||(typeof s.error=="string"?s.error:(r=s.error)===null||r===void 0?void 0:r.message)||JSON.stringify(s)},cw=async(s,r,o,c)=>{if(s&&typeof s=="object"&&"status"in s&&"ok"in s&&typeof s.status=="number"&&!o?.noResolveJson){const m=s,g=m.status||500;if(typeof m.json=="function")m.json().then(b=>{const A=b?.statusCode||b?.code||g+"";r(new Xu(Cg(b),g,A,c))}).catch(()=>{if(c==="vectors"){const b=g+"";r(new Xu(m.statusText||`HTTP ${g} error`,g,b,c))}else{const b=g+"";r(new Xu(m.statusText||`HTTP ${g} error`,g,b,c))}});else{const b=g+"";r(new Xu(m.statusText||`HTTP ${g} error`,g,b,c))}}else r(new Om(Cg(s),s,c))},hw=(s,r,o,c)=>{const m={method:s,headers:r?.headers||{}};return s==="GET"||s==="HEAD"||!c?ze(ze({},m),o):(aw(c)?(m.headers=ze({"Content-Type":"application/json"},r?.headers),m.body=JSON.stringify(c)):m.body=c,r?.duplex&&(m.duplex=r.duplex),ze(ze({},m),o))};async function ao(s,r,o,c,m,g,b){return new Promise((A,S)=>{s(o,hw(r,c,m,g)).then(v=>{if(!v.ok)throw v;if(c?.noResolveJson)return v;if(b==="vectors"){const T=v.headers.get("content-type");if(v.headers.get("content-length")==="0"||v.status===204)return{};if(!T||!T.includes("application/json"))return{}}return v.json()}).then(v=>A(v)).catch(v=>cw(v,S,c,b))})}function Nm(s="storage"){return{get:async(r,o,c,m)=>ao(r,"GET",o,c,m,void 0,s),post:async(r,o,c,m,g)=>ao(r,"POST",o,m,g,c,s),put:async(r,o,c,m,g)=>ao(r,"PUT",o,m,g,c,s),head:async(r,o,c,m)=>ao(r,"HEAD",o,ze(ze({},c),{},{noResolveJson:!0}),m,void 0,s),remove:async(r,o,c,m,g)=>ao(r,"DELETE",o,m,g,c,s)}}const fw=Nm("storage"),{get:po,post:Wi,put:If,head:dw,remove:Xf}=fw,vi=Nm("vectors");var ol=class{constructor(s,r={},o,c="storage"){this.shouldThrowOnError=!1,this.url=s,this.headers=r,this.fetch=rw(o),this.namespace=c}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,r){return this.headers=ze(ze({},this.headers),{},{[s]:r}),this}async handleOperation(s){var r=this;try{return{data:await s(),error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(uc(o))return{data:null,error:o};throw o}}},gw=class{constructor(s,r){this.downloadFn=s,this.shouldThrowOnError=r}then(s,r){return this.execute().then(s,r)}async execute(){var s=this;try{return{data:(await s.downloadFn()).body,error:null}}catch(r){if(s.shouldThrowOnError)throw r;if(uc(r))return{data:null,error:r};throw r}}};let Rm;Rm=Symbol.toStringTag;var mw=class{constructor(s,r){this.downloadFn=s,this.shouldThrowOnError=r,this[Rm]="BlobDownloadBuilder",this.promise=null}asStream(){return new gw(this.downloadFn,this.shouldThrowOnError)}then(s,r){return this.getPromise().then(s,r)}catch(s){return this.getPromise().catch(s)}finally(s){return this.getPromise().finally(s)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var s=this;try{return{data:await(await s.downloadFn()).blob(),error:null}}catch(r){if(s.shouldThrowOnError)throw r;if(uc(r))return{data:null,error:r};throw r}}};const pw={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},_g={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var yw=class extends ol{constructor(s,r={},o,c){super(s,r,c,"storage"),this.bucketId=o}async uploadOrUpdate(s,r,o,c){var m=this;return m.handleOperation(async()=>{let g;const b=ze(ze({},_g),c);let A=ze(ze({},m.headers),s==="POST"&&{"x-upsert":String(b.upsert)});const S=b.metadata;typeof Blob<"u"&&o instanceof Blob?(g=new FormData,g.append("cacheControl",b.cacheControl),S&&g.append("metadata",m.encodeMetadata(S)),g.append("",o)):typeof FormData<"u"&&o instanceof FormData?(g=o,g.has("cacheControl")||g.append("cacheControl",b.cacheControl),S&&!g.has("metadata")&&g.append("metadata",m.encodeMetadata(S))):(g=o,A["cache-control"]=`max-age=${b.cacheControl}`,A["content-type"]=b.contentType,S&&(A["x-metadata"]=m.toBase64(m.encodeMetadata(S))),(typeof ReadableStream<"u"&&g instanceof ReadableStream||g&&typeof g=="object"&&"pipe"in g&&typeof g.pipe=="function")&&!b.duplex&&(b.duplex="half")),c?.headers&&(A=ze(ze({},A),c.headers));const v=m._removeEmptyFolders(r),T=m._getFinalPath(v),R=await(s=="PUT"?If:Wi)(m.fetch,`${m.url}/object/${T}`,g,ze({headers:A},b?.duplex?{duplex:b.duplex}:{}));return{path:v,id:R.Id,fullPath:R.Key}})}async upload(s,r,o){return this.uploadOrUpdate("POST",s,r,o)}async uploadToSignedUrl(s,r,o,c){var m=this;const g=m._removeEmptyFolders(s),b=m._getFinalPath(g),A=new URL(m.url+`/object/upload/sign/${b}`);return A.searchParams.set("token",r),m.handleOperation(async()=>{let S;const v=ze({upsert:_g.upsert},c),T=ze(ze({},m.headers),{"x-upsert":String(v.upsert)});return typeof Blob<"u"&&o instanceof Blob?(S=new FormData,S.append("cacheControl",v.cacheControl),S.append("",o)):typeof FormData<"u"&&o instanceof FormData?(S=o,S.append("cacheControl",v.cacheControl)):(S=o,T["cache-control"]=`max-age=${v.cacheControl}`,T["content-type"]=v.contentType),{path:g,fullPath:(await If(m.fetch,A.toString(),S,{headers:T})).Key}})}async createSignedUploadUrl(s,r){var o=this;return o.handleOperation(async()=>{let c=o._getFinalPath(s);const m=ze({},o.headers);r?.upsert&&(m["x-upsert"]="true");const g=await Wi(o.fetch,`${o.url}/object/upload/sign/${c}`,{},{headers:m}),b=new URL(o.url+g.url),A=b.searchParams.get("token");if(!A)throw new oc("No token returned by API");return{signedUrl:b.toString(),path:s,token:A}})}async update(s,r,o){return this.uploadOrUpdate("PUT",s,r,o)}async move(s,r,o){var c=this;return c.handleOperation(async()=>await Wi(c.fetch,`${c.url}/object/move`,{bucketId:c.bucketId,sourceKey:s,destinationKey:r,destinationBucket:o?.destinationBucket},{headers:c.headers}))}async copy(s,r,o){var c=this;return c.handleOperation(async()=>({path:(await Wi(c.fetch,`${c.url}/object/copy`,{bucketId:c.bucketId,sourceKey:s,destinationKey:r,destinationBucket:o?.destinationBucket},{headers:c.headers})).Key}))}async createSignedUrl(s,r,o){var c=this;return c.handleOperation(async()=>{let m=c._getFinalPath(s),g=await Wi(c.fetch,`${c.url}/object/sign/${m}`,ze({expiresIn:r},o?.transform?{transform:o.transform}:{}),{headers:c.headers});const b=o?.download?`&download=${o.download===!0?"":o.download}`:"";return{signedUrl:encodeURI(`${c.url}${g.signedURL}${b}`)}})}async createSignedUrls(s,r,o){var c=this;return c.handleOperation(async()=>{const m=await Wi(c.fetch,`${c.url}/object/sign/${c.bucketId}`,{expiresIn:r,paths:s},{headers:c.headers}),g=o?.download?`&download=${o.download===!0?"":o.download}`:"";return m.map(b=>ze(ze({},b),{},{signedUrl:b.signedURL?encodeURI(`${c.url}${b.signedURL}${g}`):null}))})}download(s,r,o){const c=typeof r?.transform<"u"?"render/image/authenticated":"object",m=this.transformOptsToQueryString(r?.transform||{}),g=m?`?${m}`:"",b=this._getFinalPath(s),A=()=>po(this.fetch,`${this.url}/${c}/${b}${g}`,{headers:this.headers,noResolveJson:!0},o);return new mw(A,this.shouldThrowOnError)}async info(s){var r=this;const o=r._getFinalPath(s);return r.handleOperation(async()=>Rf(await po(r.fetch,`${r.url}/object/info/${o}`,{headers:r.headers})))}async exists(s){var r=this;const o=r._getFinalPath(s);try{return await dw(r.fetch,`${r.url}/object/${o}`,{headers:r.headers}),{data:!0,error:null}}catch(c){if(r.shouldThrowOnError)throw c;if(uc(c)&&c instanceof Om){const m=c.originalError;if([400,404].includes(m?.status))return{data:!1,error:c}}throw c}}getPublicUrl(s,r){const o=this._getFinalPath(s),c=[],m=r?.download?`download=${r.download===!0?"":r.download}`:"";m!==""&&c.push(m);const g=typeof r?.transform<"u"?"render/image":"object",b=this.transformOptsToQueryString(r?.transform||{});b!==""&&c.push(b);let A=c.join("&");return A!==""&&(A=`?${A}`),{data:{publicUrl:encodeURI(`${this.url}/${g}/public/${o}${A}`)}}}async remove(s){var r=this;return r.handleOperation(async()=>await Xf(r.fetch,`${r.url}/object/${r.bucketId}`,{prefixes:s},{headers:r.headers}))}async list(s,r,o){var c=this;return c.handleOperation(async()=>{const m=ze(ze(ze({},pw),r),{},{prefix:s||""});return await Wi(c.fetch,`${c.url}/object/list/${c.bucketId}`,m,{headers:c.headers},o)})}async listV2(s,r){var o=this;return o.handleOperation(async()=>{const c=ze({},s);return await Wi(o.fetch,`${o.url}/object/list-v2/${o.bucketId}`,c,{headers:o.headers},r)})}encodeMetadata(s){return JSON.stringify(s)}toBase64(s){return typeof Buffer<"u"?Buffer.from(s).toString("base64"):btoa(s)}_getFinalPath(s){return`${this.bucketId}/${s.replace(/^\/+/,"")}`}_removeEmptyFolders(s){return s.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(s){const r=[];return s.width&&r.push(`width=${s.width}`),s.height&&r.push(`height=${s.height}`),s.resize&&r.push(`resize=${s.resize}`),s.format&&r.push(`format=${s.format}`),s.quality&&r.push(`quality=${s.quality}`),r.join("&")}};const xw="2.96.0",Ao={"X-Client-Info":`storage-js/${xw}`};var ww=class extends ol{constructor(s,r={},o,c){const m=new URL(s);c?.useNewHostname&&/supabase\.(co|in|red)$/.test(m.hostname)&&!m.hostname.includes("storage.supabase.")&&(m.hostname=m.hostname.replace("supabase.","storage.supabase."));const g=m.href.replace(/\/$/,""),b=ze(ze({},Ao),r);super(g,b,o,"storage")}async listBuckets(s){var r=this;return r.handleOperation(async()=>{const o=r.listBucketOptionsToQueryString(s);return await po(r.fetch,`${r.url}/bucket${o}`,{headers:r.headers})})}async getBucket(s){var r=this;return r.handleOperation(async()=>await po(r.fetch,`${r.url}/bucket/${s}`,{headers:r.headers}))}async createBucket(s,r={public:!1}){var o=this;return o.handleOperation(async()=>await Wi(o.fetch,`${o.url}/bucket`,{id:s,name:s,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:o.headers}))}async updateBucket(s,r){var o=this;return o.handleOperation(async()=>await If(o.fetch,`${o.url}/bucket/${s}`,{id:s,name:s,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:o.headers}))}async emptyBucket(s){var r=this;return r.handleOperation(async()=>await Wi(r.fetch,`${r.url}/bucket/${s}/empty`,{},{headers:r.headers}))}async deleteBucket(s){var r=this;return r.handleOperation(async()=>await Xf(r.fetch,`${r.url}/bucket/${s}`,{},{headers:r.headers}))}listBucketOptionsToQueryString(s){const r={};return s&&("limit"in s&&(r.limit=String(s.limit)),"offset"in s&&(r.offset=String(s.offset)),s.search&&(r.search=s.search),s.sortColumn&&(r.sortColumn=s.sortColumn),s.sortOrder&&(r.sortOrder=s.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}},bw=class extends ol{constructor(s,r={},o){const c=s.replace(/\/$/,""),m=ze(ze({},Ao),r);super(c,m,o,"storage")}async createBucket(s){var r=this;return r.handleOperation(async()=>await Wi(r.fetch,`${r.url}/bucket`,{name:s},{headers:r.headers}))}async listBuckets(s){var r=this;return r.handleOperation(async()=>{const o=new URLSearchParams;s?.limit!==void 0&&o.set("limit",s.limit.toString()),s?.offset!==void 0&&o.set("offset",s.offset.toString()),s?.sortColumn&&o.set("sortColumn",s.sortColumn),s?.sortOrder&&o.set("sortOrder",s.sortOrder),s?.search&&o.set("search",s.search);const c=o.toString(),m=c?`${r.url}/bucket?${c}`:`${r.url}/bucket`;return await po(r.fetch,m,{headers:r.headers})})}async deleteBucket(s){var r=this;return r.handleOperation(async()=>await Xf(r.fetch,`${r.url}/bucket/${s}`,{},{headers:r.headers}))}from(s){var r=this;if(!sw(s))throw new oc("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const o=new iw({baseUrl:this.url,catalogName:s,auth:{type:"custom",getHeaders:async()=>r.headers},fetch:this.fetch}),c=this.shouldThrowOnError;return new Proxy(o,{get(m,g){const b=m[g];return typeof b!="function"?b:async(...A)=>{try{return{data:await b.apply(m,A),error:null}}catch(S){if(c)throw S;return{data:null,error:S}}}}})}},vw=class extends ol{constructor(s,r={},o){const c=s.replace(/\/$/,""),m=ze(ze({},Ao),{},{"Content-Type":"application/json"},r);super(c,m,o,"vectors")}async createIndex(s){var r=this;return r.handleOperation(async()=>await vi.post(r.fetch,`${r.url}/CreateIndex`,s,{headers:r.headers})||{})}async getIndex(s,r){var o=this;return o.handleOperation(async()=>await vi.post(o.fetch,`${o.url}/GetIndex`,{vectorBucketName:s,indexName:r},{headers:o.headers}))}async listIndexes(s){var r=this;return r.handleOperation(async()=>await vi.post(r.fetch,`${r.url}/ListIndexes`,s,{headers:r.headers}))}async deleteIndex(s,r){var o=this;return o.handleOperation(async()=>await vi.post(o.fetch,`${o.url}/DeleteIndex`,{vectorBucketName:s,indexName:r},{headers:o.headers})||{})}},Ew=class extends ol{constructor(s,r={},o){const c=s.replace(/\/$/,""),m=ze(ze({},Ao),{},{"Content-Type":"application/json"},r);super(c,m,o,"vectors")}async putVectors(s){var r=this;if(s.vectors.length<1||s.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return r.handleOperation(async()=>await vi.post(r.fetch,`${r.url}/PutVectors`,s,{headers:r.headers})||{})}async getVectors(s){var r=this;return r.handleOperation(async()=>await vi.post(r.fetch,`${r.url}/GetVectors`,s,{headers:r.headers}))}async listVectors(s){var r=this;if(s.segmentCount!==void 0){if(s.segmentCount<1||s.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(s.segmentIndex!==void 0&&(s.segmentIndex<0||s.segmentIndex>=s.segmentCount))throw new Error(`segmentIndex must be between 0 and ${s.segmentCount-1}`)}return r.handleOperation(async()=>await vi.post(r.fetch,`${r.url}/ListVectors`,s,{headers:r.headers}))}async queryVectors(s){var r=this;return r.handleOperation(async()=>await vi.post(r.fetch,`${r.url}/QueryVectors`,s,{headers:r.headers}))}async deleteVectors(s){var r=this;if(s.keys.length<1||s.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return r.handleOperation(async()=>await vi.post(r.fetch,`${r.url}/DeleteVectors`,s,{headers:r.headers})||{})}},Aw=class extends ol{constructor(s,r={},o){const c=s.replace(/\/$/,""),m=ze(ze({},Ao),{},{"Content-Type":"application/json"},r);super(c,m,o,"vectors")}async createBucket(s){var r=this;return r.handleOperation(async()=>await vi.post(r.fetch,`${r.url}/CreateVectorBucket`,{vectorBucketName:s},{headers:r.headers})||{})}async getBucket(s){var r=this;return r.handleOperation(async()=>await vi.post(r.fetch,`${r.url}/GetVectorBucket`,{vectorBucketName:s},{headers:r.headers}))}async listBuckets(s={}){var r=this;return r.handleOperation(async()=>await vi.post(r.fetch,`${r.url}/ListVectorBuckets`,s,{headers:r.headers}))}async deleteBucket(s){var r=this;return r.handleOperation(async()=>await vi.post(r.fetch,`${r.url}/DeleteVectorBucket`,{vectorBucketName:s},{headers:r.headers})||{})}},Sw=class extends Aw{constructor(s,r={}){super(s,r.headers||{},r.fetch)}from(s){return new Cw(this.url,this.headers,s,this.fetch)}async createBucket(s){var r=()=>super.createBucket,o=this;return r().call(o,s)}async getBucket(s){var r=()=>super.getBucket,o=this;return r().call(o,s)}async listBuckets(s={}){var r=()=>super.listBuckets,o=this;return r().call(o,s)}async deleteBucket(s){var r=()=>super.deleteBucket,o=this;return r().call(o,s)}},Cw=class extends vw{constructor(s,r,o,c){super(s,r,c),this.vectorBucketName=o}async createIndex(s){var r=()=>super.createIndex,o=this;return r().call(o,ze(ze({},s),{},{vectorBucketName:o.vectorBucketName}))}async listIndexes(s={}){var r=()=>super.listIndexes,o=this;return r().call(o,ze(ze({},s),{},{vectorBucketName:o.vectorBucketName}))}async getIndex(s){var r=()=>super.getIndex,o=this;return r().call(o,o.vectorBucketName,s)}async deleteIndex(s){var r=()=>super.deleteIndex,o=this;return r().call(o,o.vectorBucketName,s)}index(s){return new _w(this.url,this.headers,this.vectorBucketName,s,this.fetch)}},_w=class extends Ew{constructor(s,r,o,c,m){super(s,r,m),this.vectorBucketName=o,this.indexName=c}async putVectors(s){var r=()=>super.putVectors,o=this;return r().call(o,ze(ze({},s),{},{vectorBucketName:o.vectorBucketName,indexName:o.indexName}))}async getVectors(s){var r=()=>super.getVectors,o=this;return r().call(o,ze(ze({},s),{},{vectorBucketName:o.vectorBucketName,indexName:o.indexName}))}async listVectors(s={}){var r=()=>super.listVectors,o=this;return r().call(o,ze(ze({},s),{},{vectorBucketName:o.vectorBucketName,indexName:o.indexName}))}async queryVectors(s){var r=()=>super.queryVectors,o=this;return r().call(o,ze(ze({},s),{},{vectorBucketName:o.vectorBucketName,indexName:o.indexName}))}async deleteVectors(s){var r=()=>super.deleteVectors,o=this;return r().call(o,ze(ze({},s),{},{vectorBucketName:o.vectorBucketName,indexName:o.indexName}))}},Tw=class extends ww{constructor(s,r={},o,c){super(s,r,o,c)}from(s){return new yw(this.url,this.headers,s,this.fetch)}get vectors(){return new Sw(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new bw(this.url+"/iceberg",this.headers,this.fetch)}};const Im="2.96.0",el=30*1e3,Df=3,xf=Df*el,Ow="http://localhost:9999",Nw="supabase.auth.token",Rw={"X-Client-Info":`gotrue-js/${Im}`},Mf="X-Supabase-Api-Version",Dm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Iw=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Dw=600*1e3;class yo extends Error{constructor(r,o,c){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=o,this.code=c}}function De(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class Mw extends yo{constructor(r,o,c){super(r,o,c),this.name="AuthApiError",this.status=o,this.code=c}}function Lw(s){return De(s)&&s.name==="AuthApiError"}class ss extends yo{constructor(r,o){super(r),this.name="AuthUnknownError",this.originalError=o}}class zr extends yo{constructor(r,o,c,m){super(r,c,m),this.name=o,this.status=c}}class xi extends zr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function wf(s){return De(s)&&s.name==="AuthSessionMissingError"}class Ws extends zr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Wu extends zr{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class Zu extends zr{constructor(r,o=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=o}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Bw(s){return De(s)&&s.name==="AuthImplicitGrantRedirectError"}class Tg extends zr{constructor(r,o=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=o}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class kw extends zr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Lf extends zr{constructor(r,o){super(r,"AuthRetryableFetchError",o,void 0)}}function bf(s){return De(s)&&s.name==="AuthRetryableFetchError"}class Og extends zr{constructor(r,o,c){super(r,"AuthWeakPasswordError",o,"weak_password"),this.reasons=c}}class Bf extends zr{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const ec="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ng=` 	
\r=`.split(""),Uw=(()=>{const s=new Array(128);for(let r=0;r<s.length;r+=1)s[r]=-1;for(let r=0;r<Ng.length;r+=1)s[Ng[r].charCodeAt(0)]=-2;for(let r=0;r<ec.length;r+=1)s[ec[r].charCodeAt(0)]=r;return s})();function Rg(s,r,o){if(s!==null)for(r.queue=r.queue<<8|s,r.queuedBits+=8;r.queuedBits>=6;){const c=r.queue>>r.queuedBits-6&63;o(ec[c]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const c=r.queue>>r.queuedBits-6&63;o(ec[c]),r.queuedBits-=6}}function Mm(s,r,o){const c=Uw[s];if(c>-1)for(r.queue=r.queue<<6|c,r.queuedBits+=6;r.queuedBits>=8;)o(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(c===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function Ig(s){const r=[],o=b=>{r.push(String.fromCodePoint(b))},c={utf8seq:0,codepoint:0},m={queue:0,queuedBits:0},g=b=>{zw(b,c,o)};for(let b=0;b<s.length;b+=1)Mm(s.charCodeAt(b),m,g);return r.join("")}function jw(s,r){if(s<=127){r(s);return}else if(s<=2047){r(192|s>>6),r(128|s&63);return}else if(s<=65535){r(224|s>>12),r(128|s>>6&63),r(128|s&63);return}else if(s<=1114111){r(240|s>>18),r(128|s>>12&63),r(128|s>>6&63),r(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function Pw(s,r){for(let o=0;o<s.length;o+=1){let c=s.charCodeAt(o);if(c>55295&&c<=56319){const m=(c-55296)*1024&65535;c=(s.charCodeAt(o+1)-56320&65535|m)+65536,o+=1}jw(c,r)}}function zw(s,r,o){if(r.utf8seq===0){if(s<=127){o(s);return}for(let c=1;c<6;c+=1)if((s>>7-c&1)===0){r.utf8seq=c;break}if(r.utf8seq===2)r.codepoint=s&31;else if(r.utf8seq===3)r.codepoint=s&15;else if(r.utf8seq===4)r.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|s&63,r.utf8seq-=1,r.utf8seq===0&&o(r.codepoint)}}function rl(s){const r=[],o={queue:0,queuedBits:0},c=m=>{r.push(m)};for(let m=0;m<s.length;m+=1)Mm(s.charCodeAt(m),o,c);return new Uint8Array(r)}function Fw(s){const r=[];return Pw(s,o=>r.push(o)),new Uint8Array(r)}function ls(s){const r=[],o={queue:0,queuedBits:0},c=m=>{r.push(m)};return s.forEach(m=>Rg(m,o,c)),Rg(null,o,c),r.join("")}function Hw(s){return Math.round(Date.now()/1e3)+s}function Vw(){return Symbol("auth-callback")}const Un=()=>typeof window<"u"&&typeof document<"u",ns={tested:!1,writable:!1},Lm=()=>{if(!Un())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ns.tested)return ns.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),ns.tested=!0,ns.writable=!0}catch{ns.tested=!0,ns.writable=!1}return ns.writable};function Gw(s){const r={},o=new URL(s);if(o.hash&&o.hash[0]==="#")try{new URLSearchParams(o.hash.substring(1)).forEach((m,g)=>{r[g]=m})}catch{}return o.searchParams.forEach((c,m)=>{r[m]=c}),r}const Bm=s=>s?(...r)=>s(...r):(...r)=>fetch(...r),Yw=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",tl=async(s,r,o)=>{await s.setItem(r,JSON.stringify(o))},is=async(s,r)=>{const o=await s.getItem(r);if(!o)return null;try{return JSON.parse(o)}catch{return o}},kn=async(s,r)=>{await s.removeItem(r)};class cc{constructor(){this.promise=new cc.promiseConstructor((r,o)=>{this.resolve=r,this.reject=o})}}cc.promiseConstructor=Promise;function Ku(s){const r=s.split(".");if(r.length!==3)throw new Bf("Invalid JWT structure");for(let c=0;c<r.length;c++)if(!Iw.test(r[c]))throw new Bf("JWT not in base64url format");return{header:JSON.parse(Ig(r[0])),payload:JSON.parse(Ig(r[1])),signature:rl(r[2]),raw:{header:r[0],payload:r[1]}}}async function qw(s){return await new Promise(r=>{setTimeout(()=>r(null),s)})}function Xw(s,r){return new Promise((c,m)=>{(async()=>{for(let g=0;g<1/0;g++)try{const b=await s(g);if(!r(g,null,b)){c(b);return}}catch(b){if(!r(g,b)){m(b);return}}})()})}function Ww(s){return("0"+s.toString(16)).substr(-2)}function Zw(){const r=new Uint32Array(56);if(typeof crypto>"u"){const o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",c=o.length;let m="";for(let g=0;g<56;g++)m+=o.charAt(Math.floor(Math.random()*c));return m}return crypto.getRandomValues(r),Array.from(r,Ww).join("")}async function Kw(s){const o=new TextEncoder().encode(s),c=await crypto.subtle.digest("SHA-256",o),m=new Uint8Array(c);return Array.from(m).map(g=>String.fromCharCode(g)).join("")}async function Qw(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const o=await Kw(s);return btoa(o).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Zs(s,r,o=!1){const c=Zw();let m=c;o&&(m+="/PASSWORD_RECOVERY"),await tl(s,`${r}-code-verifier`,m);const g=await Qw(c);return[g,c===g?"plain":"s256"]}const Jw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function $w(s){const r=s.headers.get(Mf);if(!r||!r.match(Jw))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function eb(s){if(!s)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(s<=r)throw new Error("JWT has expired")}function tb(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const nb=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ks(s){if(!nb.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function vf(){const s={};return new Proxy(s,{get:(r,o)=>{if(o==="__isUserNotAvailableProxy")return!0;if(typeof o=="symbol"){const c=o.toString();if(c==="Symbol(Symbol.toPrimitive)"||c==="Symbol(Symbol.toStringTag)"||c==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${o}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,o)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${o}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,o)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${o}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ib(s,r){return new Proxy(s,{get:(o,c,m)=>{if(c==="__isInsecureUserWarningProxy")return!0;if(typeof c=="symbol"){const g=c.toString();if(g==="Symbol(Symbol.toPrimitive)"||g==="Symbol(Symbol.toStringTag)"||g==="Symbol(util.inspect.custom)"||g==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(o,c,m)}return!r.value&&typeof c=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),r.value=!0),Reflect.get(o,c,m)}})}function Dg(s){return JSON.parse(JSON.stringify(s))}const rs=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),rb=[502,503,504];async function Mg(s){var r;if(!Yw(s))throw new Lf(rs(s),0);if(rb.includes(s.status))throw new Lf(rs(s),s.status);let o;try{o=await s.json()}catch(g){throw new ss(rs(g),g)}let c;const m=$w(s);if(m&&m.getTime()>=Dm["2024-01-01"].timestamp&&typeof o=="object"&&o&&typeof o.code=="string"?c=o.code:typeof o=="object"&&o&&typeof o.error_code=="string"&&(c=o.error_code),c){if(c==="weak_password")throw new Og(rs(o),s.status,((r=o.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(c==="session_not_found")throw new xi}else if(typeof o=="object"&&o&&typeof o.weak_password=="object"&&o.weak_password&&Array.isArray(o.weak_password.reasons)&&o.weak_password.reasons.length&&o.weak_password.reasons.reduce((g,b)=>g&&typeof b=="string",!0))throw new Og(rs(o),s.status,o.weak_password.reasons);throw new Mw(rs(o),s.status||500,c)}const ab=(s,r,o,c)=>{const m={method:s,headers:r?.headers||{}};return s==="GET"?m:(m.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r?.headers),m.body=JSON.stringify(c),Object.assign(Object.assign({},m),o))};async function Fe(s,r,o,c){var m;const g=Object.assign({},c?.headers);g[Mf]||(g[Mf]=Dm["2024-01-01"].name),c?.jwt&&(g.Authorization=`Bearer ${c.jwt}`);const b=(m=c?.query)!==null&&m!==void 0?m:{};c?.redirectTo&&(b.redirect_to=c.redirectTo);const A=Object.keys(b).length?"?"+new URLSearchParams(b).toString():"",S=await sb(s,r,o+A,{headers:g,noResolveJson:c?.noResolveJson},{},c?.body);return c?.xform?c?.xform(S):{data:Object.assign({},S),error:null}}async function sb(s,r,o,c,m,g){const b=ab(r,c,m,g);let A;try{A=await s(o,Object.assign({},b))}catch(S){throw console.error(S),new Lf(rs(S),0)}if(A.ok||await Mg(A),c?.noResolveJson)return A;try{return await A.json()}catch(S){await Mg(S)}}function Xi(s){var r;let o=null;ub(s)&&(o=Object.assign({},s),s.expires_at||(o.expires_at=Hw(s.expires_in)));const c=(r=s.user)!==null&&r!==void 0?r:s;return{data:{session:o,user:c},error:null}}function Lg(s){const r=Xi(s);return!r.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((o,c)=>o&&typeof c=="string",!0)&&(r.data.weak_password=s.weak_password),r}function Oa(s){var r;return{data:{user:(r=s.user)!==null&&r!==void 0?r:s},error:null}}function lb(s){return{data:s,error:null}}function ob(s){const{action_link:r,email_otp:o,hashed_token:c,redirect_to:m,verification_type:g}=s,b=lc(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),A={action_link:r,email_otp:o,hashed_token:c,redirect_to:m,verification_type:g},S=Object.assign({},b);return{data:{properties:A,user:S},error:null}}function Bg(s){return s}function ub(s){return s.access_token&&s.refresh_token&&s.expires_in}const Ef=["global","local","others"];class cb{constructor({url:r="",headers:o={},fetch:c}){this.url=r,this.headers=o,this.fetch=Bm(c),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(r,o=Ef[0]){if(Ef.indexOf(o)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ef.join(", ")}`);try{return await Fe(this.fetch,"POST",`${this.url}/logout?scope=${o}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(c){if(De(c))return{data:null,error:c};throw c}}async inviteUserByEmail(r,o={}){try{return await Fe(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:o.data},headers:this.headers,redirectTo:o.redirectTo,xform:Oa})}catch(c){if(De(c))return{data:{user:null},error:c};throw c}}async generateLink(r){try{const{options:o}=r,c=lc(r,["options"]),m=Object.assign(Object.assign({},c),o);return"newEmail"in c&&(m.new_email=c?.newEmail,delete m.newEmail),await Fe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:m,headers:this.headers,xform:ob,redirectTo:o?.redirectTo})}catch(o){if(De(o))return{data:{properties:null,user:null},error:o};throw o}}async createUser(r){try{return await Fe(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:Oa})}catch(o){if(De(o))return{data:{user:null},error:o};throw o}}async listUsers(r){var o,c,m,g,b,A,S;try{const v={nextPage:null,lastPage:0,total:0},T=await Fe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(c=(o=r?.page)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:"",per_page:(g=(m=r?.perPage)===null||m===void 0?void 0:m.toString())!==null&&g!==void 0?g:""},xform:Bg});if(T.error)throw T.error;const R=await T.json(),k=(b=T.headers.get("x-total-count"))!==null&&b!==void 0?b:0,B=(S=(A=T.headers.get("link"))===null||A===void 0?void 0:A.split(","))!==null&&S!==void 0?S:[];return B.length>0&&(B.forEach(V=>{const H=parseInt(V.split(";")[0].split("=")[1].substring(0,1)),Z=JSON.parse(V.split(";")[1].split("=")[1]);v[`${Z}Page`]=H}),v.total=parseInt(k)),{data:Object.assign(Object.assign({},R),v),error:null}}catch(v){if(De(v))return{data:{users:[]},error:v};throw v}}async getUserById(r){Ks(r);try{return await Fe(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:Oa})}catch(o){if(De(o))return{data:{user:null},error:o};throw o}}async updateUserById(r,o){Ks(r);try{return await Fe(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:o,headers:this.headers,xform:Oa})}catch(c){if(De(c))return{data:{user:null},error:c};throw c}}async deleteUser(r,o=!1){Ks(r);try{return await Fe(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:o},xform:Oa})}catch(c){if(De(c))return{data:{user:null},error:c};throw c}}async _listFactors(r){Ks(r.userId);try{const{data:o,error:c}=await Fe(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:m=>({data:{factors:m},error:null})});return{data:o,error:c}}catch(o){if(De(o))return{data:null,error:o};throw o}}async _deleteFactor(r){Ks(r.userId),Ks(r.id);try{return{data:await Fe(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(o){if(De(o))return{data:null,error:o};throw o}}async _listOAuthClients(r){var o,c,m,g,b,A,S;try{const v={nextPage:null,lastPage:0,total:0},T=await Fe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(c=(o=r?.page)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:"",per_page:(g=(m=r?.perPage)===null||m===void 0?void 0:m.toString())!==null&&g!==void 0?g:""},xform:Bg});if(T.error)throw T.error;const R=await T.json(),k=(b=T.headers.get("x-total-count"))!==null&&b!==void 0?b:0,B=(S=(A=T.headers.get("link"))===null||A===void 0?void 0:A.split(","))!==null&&S!==void 0?S:[];return B.length>0&&(B.forEach(V=>{const H=parseInt(V.split(";")[0].split("=")[1].substring(0,1)),Z=JSON.parse(V.split(";")[1].split("=")[1]);v[`${Z}Page`]=H}),v.total=parseInt(k)),{data:Object.assign(Object.assign({},R),v),error:null}}catch(v){if(De(v))return{data:{clients:[]},error:v};throw v}}async _createOAuthClient(r){try{return await Fe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:r,headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(De(o))return{data:null,error:o};throw o}}async _getOAuthClient(r){try{return await Fe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(De(o))return{data:null,error:o};throw o}}async _updateOAuthClient(r,o){try{return await Fe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${r}`,{body:o,headers:this.headers,xform:c=>({data:c,error:null})})}catch(c){if(De(c))return{data:null,error:c};throw c}}async _deleteOAuthClient(r){try{return await Fe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(o){if(De(o))return{data:null,error:o};throw o}}async _regenerateOAuthClientSecret(r){try{return await Fe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${r}/regenerate_secret`,{headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(De(o))return{data:null,error:o};throw o}}}function kg(s={}){return{getItem:r=>s[r]||null,setItem:(r,o)=>{s[r]=o},removeItem:r=>{delete s[r]}}}const Qs={debug:!!(globalThis&&Lm()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class km extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class Ug extends km{}async function hb(s,r,o){Qs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,r);const c=new globalThis.AbortController;r>0&&setTimeout(()=>{c.abort(),Qs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},r),await Promise.resolve();try{return await globalThis.navigator.locks.request(s,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:c.signal},async m=>{if(m){Qs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,m.name);try{return await o()}finally{Qs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,m.name)}}else{if(r===0)throw Qs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new Ug(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(Qs.debug)try{const g=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(g,null,"  "))}catch(g){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",g)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await o()}})}catch(m){throw m?.name==="AbortError"?new Ug(`Acquiring an exclusive Navigator LockManager lock "${s}" timed out waiting ${r}ms`):m}}function fb(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Um(s){if(!/^0x[a-fA-F0-9]{40}$/.test(s))throw new Error(`@supabase/auth-js: Address "${s}" is invalid.`);return s.toLowerCase()}function db(s){return parseInt(s,16)}function gb(s){const r=new TextEncoder().encode(s);return"0x"+Array.from(r,c=>c.toString(16).padStart(2,"0")).join("")}function mb(s){var r;const{chainId:o,domain:c,expirationTime:m,issuedAt:g=new Date,nonce:b,notBefore:A,requestId:S,resources:v,scheme:T,uri:R,version:k}=s;{if(!Number.isInteger(o))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${o}`);if(!c)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(b&&b.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${b}`);if(!R)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(k!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${k}`);if(!((r=s.statement)===null||r===void 0)&&r.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${s.statement}`)}const B=Um(s.address),V=T?`${T}://${c}`:c,H=s.statement?`${s.statement}
`:"",Z=`${V} wants you to sign in with your Ethereum account:
${B}

${H}`;let le=`URI: ${R}
Version: ${k}
Chain ID: ${o}${b?`
Nonce: ${b}`:""}
Issued At: ${g.toISOString()}`;if(m&&(le+=`
Expiration Time: ${m.toISOString()}`),A&&(le+=`
Not Before: ${A.toISOString()}`),S&&(le+=`
Request ID: ${S}`),v){let $=`
Resources:`;for(const X of v){if(!X||typeof X!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${X}`);$+=`
- ${X}`}le+=$}return`${Z}
${le}`}class yn extends Error{constructor({message:r,code:o,cause:c,name:m}){var g;super(r,{cause:c}),this.__isWebAuthnError=!0,this.name=(g=m??(c instanceof Error?c.name:void 0))!==null&&g!==void 0?g:"Unknown Error",this.code=o}}class tc extends yn{constructor(r,o){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:o,message:r}),this.name="WebAuthnUnknownError",this.originalError=o}}function pb({error:s,options:r}){var o,c,m;const{publicKey:g}=r;if(!g)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(r.signal instanceof AbortSignal)return new yn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else if(s.name==="ConstraintError"){if(((o=g.authenticatorSelection)===null||o===void 0?void 0:o.requireResidentKey)===!0)return new yn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:s});if(r.mediation==="conditional"&&((c=g.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new yn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:s});if(((m=g.authenticatorSelection)===null||m===void 0?void 0:m.userVerification)==="required")return new yn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:s})}else{if(s.name==="InvalidStateError")return new yn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:s});if(s.name==="NotAllowedError")return new yn({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="NotSupportedError")return g.pubKeyCredParams.filter(A=>A.type==="public-key").length===0?new yn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:s}):new yn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:s});if(s.name==="SecurityError"){const b=window.location.hostname;if(jm(b)){if(g.rp.id!==b)return new yn({message:`The RP ID "${g.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new yn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="TypeError"){if(g.user.id.byteLength<1||g.user.id.byteLength>64)return new yn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:s})}else if(s.name==="UnknownError")return new yn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new yn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}function yb({error:s,options:r}){const{publicKey:o}=r;if(!o)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(r.signal instanceof AbortSignal)return new yn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else{if(s.name==="NotAllowedError")return new yn({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="SecurityError"){const c=window.location.hostname;if(jm(c)){if(o.rpId!==c)return new yn({message:`The RP ID "${o.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new yn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="UnknownError")return new yn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new yn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}class xb{createNewAbortSignal(){if(this.controller){const o=new Error("Cancelling existing WebAuthn API call for new one");o.name="AbortError",this.controller.abort(o)}const r=new AbortController;return this.controller=r,r.signal}cancelCeremony(){if(this.controller){const r=new Error("Manually cancelling existing WebAuthn API call");r.name="AbortError",this.controller.abort(r),this.controller=void 0}}}const wb=new xb;function bb(s){if(!s)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(s);const{challenge:r,user:o,excludeCredentials:c}=s,m=lc(s,["challenge","user","excludeCredentials"]),g=rl(r).buffer,b=Object.assign(Object.assign({},o),{id:rl(o.id).buffer}),A=Object.assign(Object.assign({},m),{challenge:g,user:b});if(c&&c.length>0){A.excludeCredentials=new Array(c.length);for(let S=0;S<c.length;S++){const v=c[S];A.excludeCredentials[S]=Object.assign(Object.assign({},v),{id:rl(v.id).buffer,type:v.type||"public-key",transports:v.transports})}}return A}function vb(s){if(!s)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(s);const{challenge:r,allowCredentials:o}=s,c=lc(s,["challenge","allowCredentials"]),m=rl(r).buffer,g=Object.assign(Object.assign({},c),{challenge:m});if(o&&o.length>0){g.allowCredentials=new Array(o.length);for(let b=0;b<o.length;b++){const A=o[b];g.allowCredentials[b]=Object.assign(Object.assign({},A),{id:rl(A.id).buffer,type:A.type||"public-key",transports:A.transports})}}return g}function Eb(s){var r;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const o=s;return{id:s.id,rawId:s.id,response:{attestationObject:ls(new Uint8Array(s.response.attestationObject)),clientDataJSON:ls(new Uint8Array(s.response.clientDataJSON))},type:"public-key",clientExtensionResults:s.getClientExtensionResults(),authenticatorAttachment:(r=o.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function Ab(s){var r;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const o=s,c=s.getClientExtensionResults(),m=s.response;return{id:s.id,rawId:s.id,response:{authenticatorData:ls(new Uint8Array(m.authenticatorData)),clientDataJSON:ls(new Uint8Array(m.clientDataJSON)),signature:ls(new Uint8Array(m.signature)),userHandle:m.userHandle?ls(new Uint8Array(m.userHandle)):void 0},type:"public-key",clientExtensionResults:c,authenticatorAttachment:(r=o.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function jm(s){return s==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(s)}function jg(){var s,r;return!!(Un()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((s=navigator?.credentials)===null||s===void 0?void 0:s.create)=="function"&&typeof((r=navigator?.credentials)===null||r===void 0?void 0:r.get)=="function")}async function Sb(s){try{const r=await navigator.credentials.create(s);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new tc("Browser returned unexpected credential type",r)}:{data:null,error:new tc("Empty credential response",r)}}catch(r){return{data:null,error:pb({error:r,options:s})}}}async function Cb(s){try{const r=await navigator.credentials.get(s);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new tc("Browser returned unexpected credential type",r)}:{data:null,error:new tc("Empty credential response",r)}}catch(r){return{data:null,error:yb({error:r,options:s})}}}const _b={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Tb={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function nc(...s){const r=m=>m!==null&&typeof m=="object"&&!Array.isArray(m),o=m=>m instanceof ArrayBuffer||ArrayBuffer.isView(m),c={};for(const m of s)if(m)for(const g in m){const b=m[g];if(b!==void 0)if(Array.isArray(b))c[g]=b;else if(o(b))c[g]=b;else if(r(b)){const A=c[g];r(A)?c[g]=nc(A,b):c[g]=nc(b)}else c[g]=b}return c}function Ob(s,r){return nc(_b,s,r||{})}function Nb(s,r){return nc(Tb,s,r||{})}class Rb{constructor(r){this.client=r,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(r){return this.client.mfa.enroll(Object.assign(Object.assign({},r),{factorType:"webauthn"}))}async _challenge({factorId:r,webauthn:o,friendlyName:c,signal:m},g){var b;try{const{data:A,error:S}=await this.client.mfa.challenge({factorId:r,webauthn:o});if(!A)return{data:null,error:S};const v=m??wb.createNewAbortSignal();if(A.webauthn.type==="create"){const{user:T}=A.webauthn.credential_options.publicKey;if(!T.name){const R=c;if(R)T.name=`${T.id}:${R}`;else{const B=(await this.client.getUser()).data.user,V=((b=B?.user_metadata)===null||b===void 0?void 0:b.name)||B?.email||B?.id||"User";T.name=`${T.id}:${V}`}}T.displayName||(T.displayName=T.name)}switch(A.webauthn.type){case"create":{const T=Ob(A.webauthn.credential_options.publicKey,g?.create),{data:R,error:k}=await Sb({publicKey:T,signal:v});return R?{data:{factorId:r,challengeId:A.id,webauthn:{type:A.webauthn.type,credential_response:R}},error:null}:{data:null,error:k}}case"request":{const T=Nb(A.webauthn.credential_options.publicKey,g?.request),{data:R,error:k}=await Cb(Object.assign(Object.assign({},A.webauthn.credential_options),{publicKey:T,signal:v}));return R?{data:{factorId:r,challengeId:A.id,webauthn:{type:A.webauthn.type,credential_response:R}},error:null}:{data:null,error:k}}}}catch(A){return De(A)?{data:null,error:A}:{data:null,error:new ss("Unexpected error in challenge",A)}}}async _verify({challengeId:r,factorId:o,webauthn:c}){return this.client.mfa.verify({factorId:o,challengeId:r,webauthn:c})}async _authenticate({factorId:r,webauthn:{rpId:o=typeof window<"u"?window.location.hostname:void 0,rpOrigins:c=typeof window<"u"?[window.location.origin]:void 0,signal:m}={}},g){if(!o)return{data:null,error:new yo("rpId is required for WebAuthn authentication")};try{if(!jg())return{data:null,error:new ss("Browser does not support WebAuthn",null)};const{data:b,error:A}=await this.challenge({factorId:r,webauthn:{rpId:o,rpOrigins:c},signal:m},{request:g});if(!b)return{data:null,error:A};const{webauthn:S}=b;return this._verify({factorId:r,challengeId:b.challengeId,webauthn:{type:S.type,rpId:o,rpOrigins:c,credential_response:S.credential_response}})}catch(b){return De(b)?{data:null,error:b}:{data:null,error:new ss("Unexpected error in authenticate",b)}}}async _register({friendlyName:r,webauthn:{rpId:o=typeof window<"u"?window.location.hostname:void 0,rpOrigins:c=typeof window<"u"?[window.location.origin]:void 0,signal:m}={}},g){if(!o)return{data:null,error:new yo("rpId is required for WebAuthn registration")};try{if(!jg())return{data:null,error:new ss("Browser does not support WebAuthn",null)};const{data:b,error:A}=await this._enroll({friendlyName:r});if(!b)return await this.client.mfa.listFactors().then(T=>{var R;return(R=T.data)===null||R===void 0?void 0:R.all.find(k=>k.factor_type==="webauthn"&&k.friendly_name===r&&k.status!=="unverified")}).then(T=>T?this.client.mfa.unenroll({factorId:T?.id}):void 0),{data:null,error:A};const{data:S,error:v}=await this._challenge({factorId:b.id,friendlyName:b.friendly_name,webauthn:{rpId:o,rpOrigins:c},signal:m},{create:g});return S?this._verify({factorId:b.id,challengeId:S.challengeId,webauthn:{rpId:o,rpOrigins:c,type:S.webauthn.type,credential_response:S.webauthn.credential_response}}):{data:null,error:v}}catch(b){return De(b)?{data:null,error:b}:{data:null,error:new ss("Unexpected error in register",b)}}}}fb();const Ib={url:Ow,storageKey:Nw,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Rw,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Pg(s,r,o){return await o()}const Js={};class xo{get jwks(){var r,o;return(o=(r=Js[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&o!==void 0?o:{keys:[]}}set jwks(r){Js[this.storageKey]=Object.assign(Object.assign({},Js[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,o;return(o=(r=Js[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&o!==void 0?o:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){Js[this.storageKey]=Object.assign(Object.assign({},Js[this.storageKey]),{cachedAt:r})}constructor(r){var o,c,m;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const g=Object.assign(Object.assign({},Ib),r);if(this.storageKey=g.storageKey,this.instanceID=(o=xo.nextInstanceID[this.storageKey])!==null&&o!==void 0?o:0,xo.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!g.debug,typeof g.debug=="function"&&(this.logger=g.debug),this.instanceID>0&&Un()){const b=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(b),this.logDebugMessages&&console.trace(b)}if(this.persistSession=g.persistSession,this.autoRefreshToken=g.autoRefreshToken,this.admin=new cb({url:g.url,headers:g.headers,fetch:g.fetch}),this.url=g.url,this.headers=g.headers,this.fetch=Bm(g.fetch),this.lock=g.lock||Pg,this.detectSessionInUrl=g.detectSessionInUrl,this.flowType=g.flowType,this.hasCustomAuthorizationHeader=g.hasCustomAuthorizationHeader,this.throwOnError=g.throwOnError,this.lockAcquireTimeout=g.lockAcquireTimeout,g.lock?this.lock=g.lock:this.persistSession&&Un()&&(!((c=globalThis?.navigator)===null||c===void 0)&&c.locks)?this.lock=hb:this.lock=Pg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Rb(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(g.storage?this.storage=g.storage:Lm()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=kg(this.memoryStorage)),g.userStorage&&(this.userStorage=g.userStorage)):(this.memoryStorage={},this.storage=kg(this.memoryStorage)),Un()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(b){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",b)}(m=this.broadcastChannel)===null||m===void 0||m.addEventListener("message",async b=>{this._debug("received broadcast notification from other tab or client",b);try{await this._notifyAllSubscribers(b.data.event,b.data.session,!1)}catch(A){this._debug("#broadcastChannel","error",A)}})}this.initialize().catch(b=>{this._debug("#initialize()","error",b)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(r){if(this.throwOnError&&r&&r.error)throw r.error;return r}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Im}) ${new Date().toISOString()}`}_debug(...r){return this.logDebugMessages&&this.logger(this._logPrefix(),...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{let o={},c="none";if(Un()&&(o=Gw(window.location.href),this._isImplicitGrantCallback(o)?c="implicit":await this._isPKCECallback(o)&&(c="pkce")),Un()&&this.detectSessionInUrl&&c!=="none"){const{data:m,error:g}=await this._getSessionFromURL(o,c);if(g){if(this._debug("#_initialize()","error detecting session from URL",g),Bw(g)){const S=(r=g.details)===null||r===void 0?void 0:r.code;if(S==="identity_already_exists"||S==="identity_not_found"||S==="single_identity_not_deletable")return{error:g}}return{error:g}}const{session:b,redirectType:A}=m;return this._debug("#_initialize()","detected session in URL",b,"redirect type",A),await this._saveSession(b),setTimeout(async()=>{A==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",b):await this._notifyAllSubscribers("SIGNED_IN",b)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(o){return De(o)?this._returnResult({error:o}):this._returnResult({error:new ss("Unexpected error during initialization",o)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var o,c,m;try{const g=await Fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(c=(o=r?.options)===null||o===void 0?void 0:o.data)!==null&&c!==void 0?c:{},gotrue_meta_security:{captcha_token:(m=r?.options)===null||m===void 0?void 0:m.captchaToken}},xform:Xi}),{data:b,error:A}=g;if(A||!b)return this._returnResult({data:{user:null,session:null},error:A});const S=b.session,v=b.user;return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",S)),this._returnResult({data:{user:v,session:S},error:null})}catch(g){if(De(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async signUp(r){var o,c,m;try{let g;if("email"in r){const{email:T,password:R,options:k}=r;let B=null,V=null;this.flowType==="pkce"&&([B,V]=await Zs(this.storage,this.storageKey)),g=await Fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:k?.emailRedirectTo,body:{email:T,password:R,data:(o=k?.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:k?.captchaToken},code_challenge:B,code_challenge_method:V},xform:Xi})}else if("phone"in r){const{phone:T,password:R,options:k}=r;g=await Fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:T,password:R,data:(c=k?.data)!==null&&c!==void 0?c:{},channel:(m=k?.channel)!==null&&m!==void 0?m:"sms",gotrue_meta_security:{captcha_token:k?.captchaToken}},xform:Xi})}else throw new Wu("You must provide either an email or phone number and a password");const{data:b,error:A}=g;if(A||!b)return await kn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:A});const S=b.session,v=b.user;return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",S)),this._returnResult({data:{user:v,session:S},error:null})}catch(g){if(await kn(this.storage,`${this.storageKey}-code-verifier`),De(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async signInWithPassword(r){try{let o;if("email"in r){const{email:g,password:b,options:A}=r;o=await Fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:g,password:b,gotrue_meta_security:{captcha_token:A?.captchaToken}},xform:Lg})}else if("phone"in r){const{phone:g,password:b,options:A}=r;o=await Fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:g,password:b,gotrue_meta_security:{captcha_token:A?.captchaToken}},xform:Lg})}else throw new Wu("You must provide either an email or phone number and a password");const{data:c,error:m}=o;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!c||!c.session||!c.user){const g=new Ws;return this._returnResult({data:{user:null,session:null},error:g})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:Object.assign({user:c.user,session:c.session},c.weak_password?{weakPassword:c.weak_password}:null),error:m})}catch(o){if(De(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithOAuth(r){var o,c,m,g;return await this._handleProviderSignIn(r.provider,{redirectTo:(o=r.options)===null||o===void 0?void 0:o.redirectTo,scopes:(c=r.options)===null||c===void 0?void 0:c.scopes,queryParams:(m=r.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:(g=r.options)===null||g===void 0?void 0:g.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:o}=r;switch(o){case"ethereum":return await this.signInWithEthereum(r);case"solana":return await this.signInWithSolana(r);default:throw new Error(`@supabase/auth-js: Unsupported chain "${o}"`)}}async signInWithEthereum(r){var o,c,m,g,b,A,S,v,T,R,k;let B,V;if("message"in r)B=r.message,V=r.signature;else{const{chain:H,wallet:Z,statement:le,options:$}=r;let X;if(Un())if(typeof Z=="object")X=Z;else{const de=window;if("ethereum"in de&&typeof de.ethereum=="object"&&"request"in de.ethereum&&typeof de.ethereum.request=="function")X=de.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof Z!="object"||!$?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");X=Z}const pe=new URL((o=$?.url)!==null&&o!==void 0?o:window.location.href),ke=await X.request({method:"eth_requestAccounts"}).then(de=>de).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ke||ke.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Ee=Um(ke[0]);let ne=(c=$?.signInWithEthereum)===null||c===void 0?void 0:c.chainId;if(!ne){const de=await X.request({method:"eth_chainId"});ne=db(de)}const Ie={domain:pe.host,address:Ee,statement:le,uri:pe.href,version:"1",chainId:ne,nonce:(m=$?.signInWithEthereum)===null||m===void 0?void 0:m.nonce,issuedAt:(b=(g=$?.signInWithEthereum)===null||g===void 0?void 0:g.issuedAt)!==null&&b!==void 0?b:new Date,expirationTime:(A=$?.signInWithEthereum)===null||A===void 0?void 0:A.expirationTime,notBefore:(S=$?.signInWithEthereum)===null||S===void 0?void 0:S.notBefore,requestId:(v=$?.signInWithEthereum)===null||v===void 0?void 0:v.requestId,resources:(T=$?.signInWithEthereum)===null||T===void 0?void 0:T.resources};B=mb(Ie),V=await X.request({method:"personal_sign",params:[gb(B),Ee]})}try{const{data:H,error:Z}=await Fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:B,signature:V},!((R=r.options)===null||R===void 0)&&R.captchaToken?{gotrue_meta_security:{captcha_token:(k=r.options)===null||k===void 0?void 0:k.captchaToken}}:null),xform:Xi});if(Z)throw Z;if(!H||!H.session||!H.user){const le=new Ws;return this._returnResult({data:{user:null,session:null},error:le})}return H.session&&(await this._saveSession(H.session),await this._notifyAllSubscribers("SIGNED_IN",H.session)),this._returnResult({data:Object.assign({},H),error:Z})}catch(H){if(De(H))return this._returnResult({data:{user:null,session:null},error:H});throw H}}async signInWithSolana(r){var o,c,m,g,b,A,S,v,T,R,k,B;let V,H;if("message"in r)V=r.message,H=r.signature;else{const{chain:Z,wallet:le,statement:$,options:X}=r;let pe;if(Un())if(typeof le=="object")pe=le;else{const Ee=window;if("solana"in Ee&&typeof Ee.solana=="object"&&("signIn"in Ee.solana&&typeof Ee.solana.signIn=="function"||"signMessage"in Ee.solana&&typeof Ee.solana.signMessage=="function"))pe=Ee.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof le!="object"||!X?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");pe=le}const ke=new URL((o=X?.url)!==null&&o!==void 0?o:window.location.href);if("signIn"in pe&&pe.signIn){const Ee=await pe.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},X?.signInWithSolana),{version:"1",domain:ke.host,uri:ke.href}),$?{statement:$}:null));let ne;if(Array.isArray(Ee)&&Ee[0]&&typeof Ee[0]=="object")ne=Ee[0];else if(Ee&&typeof Ee=="object"&&"signedMessage"in Ee&&"signature"in Ee)ne=Ee;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ne&&"signature"in ne&&(typeof ne.signedMessage=="string"||ne.signedMessage instanceof Uint8Array)&&ne.signature instanceof Uint8Array)V=typeof ne.signedMessage=="string"?ne.signedMessage:new TextDecoder().decode(ne.signedMessage),H=ne.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in pe)||typeof pe.signMessage!="function"||!("publicKey"in pe)||typeof pe!="object"||!pe.publicKey||!("toBase58"in pe.publicKey)||typeof pe.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");V=[`${ke.host} wants you to sign in with your Solana account:`,pe.publicKey.toBase58(),...$?["",$,""]:[""],"Version: 1",`URI: ${ke.href}`,`Issued At: ${(m=(c=X?.signInWithSolana)===null||c===void 0?void 0:c.issuedAt)!==null&&m!==void 0?m:new Date().toISOString()}`,...!((g=X?.signInWithSolana)===null||g===void 0)&&g.notBefore?[`Not Before: ${X.signInWithSolana.notBefore}`]:[],...!((b=X?.signInWithSolana)===null||b===void 0)&&b.expirationTime?[`Expiration Time: ${X.signInWithSolana.expirationTime}`]:[],...!((A=X?.signInWithSolana)===null||A===void 0)&&A.chainId?[`Chain ID: ${X.signInWithSolana.chainId}`]:[],...!((S=X?.signInWithSolana)===null||S===void 0)&&S.nonce?[`Nonce: ${X.signInWithSolana.nonce}`]:[],...!((v=X?.signInWithSolana)===null||v===void 0)&&v.requestId?[`Request ID: ${X.signInWithSolana.requestId}`]:[],...!((R=(T=X?.signInWithSolana)===null||T===void 0?void 0:T.resources)===null||R===void 0)&&R.length?["Resources",...X.signInWithSolana.resources.map(ne=>`- ${ne}`)]:[]].join(`
`);const Ee=await pe.signMessage(new TextEncoder().encode(V),"utf8");if(!Ee||!(Ee instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");H=Ee}}try{const{data:Z,error:le}=await Fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:V,signature:ls(H)},!((k=r.options)===null||k===void 0)&&k.captchaToken?{gotrue_meta_security:{captcha_token:(B=r.options)===null||B===void 0?void 0:B.captchaToken}}:null),xform:Xi});if(le)throw le;if(!Z||!Z.session||!Z.user){const $=new Ws;return this._returnResult({data:{user:null,session:null},error:$})}return Z.session&&(await this._saveSession(Z.session),await this._notifyAllSubscribers("SIGNED_IN",Z.session)),this._returnResult({data:Object.assign({},Z),error:le})}catch(Z){if(De(Z))return this._returnResult({data:{user:null,session:null},error:Z});throw Z}}async _exchangeCodeForSession(r){const o=await is(this.storage,`${this.storageKey}-code-verifier`),[c,m]=(o??"").split("/");try{if(!c&&this.flowType==="pkce")throw new kw;const{data:g,error:b}=await Fe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:c},xform:Xi});if(await kn(this.storage,`${this.storageKey}-code-verifier`),b)throw b;if(!g||!g.session||!g.user){const A=new Ws;return this._returnResult({data:{user:null,session:null,redirectType:null},error:A})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign(Object.assign({},g),{redirectType:m??null}),error:b})}catch(g){if(await kn(this.storage,`${this.storageKey}-code-verifier`),De(g))return this._returnResult({data:{user:null,session:null,redirectType:null},error:g});throw g}}async signInWithIdToken(r){try{const{options:o,provider:c,token:m,access_token:g,nonce:b}=r,A=await Fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:c,id_token:m,access_token:g,nonce:b,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:Xi}),{data:S,error:v}=A;if(v)return this._returnResult({data:{user:null,session:null},error:v});if(!S||!S.session||!S.user){const T=new Ws;return this._returnResult({data:{user:null,session:null},error:T})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:S,error:v})}catch(o){if(De(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithOtp(r){var o,c,m,g,b;try{if("email"in r){const{email:A,options:S}=r;let v=null,T=null;this.flowType==="pkce"&&([v,T]=await Zs(this.storage,this.storageKey));const{error:R}=await Fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:A,data:(o=S?.data)!==null&&o!==void 0?o:{},create_user:(c=S?.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:S?.captchaToken},code_challenge:v,code_challenge_method:T},redirectTo:S?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:R})}if("phone"in r){const{phone:A,options:S}=r,{data:v,error:T}=await Fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:A,data:(m=S?.data)!==null&&m!==void 0?m:{},create_user:(g=S?.shouldCreateUser)!==null&&g!==void 0?g:!0,gotrue_meta_security:{captcha_token:S?.captchaToken},channel:(b=S?.channel)!==null&&b!==void 0?b:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:v?.message_id},error:T})}throw new Wu("You must provide either an email or phone number.")}catch(A){if(await kn(this.storage,`${this.storageKey}-code-verifier`),De(A))return this._returnResult({data:{user:null,session:null},error:A});throw A}}async verifyOtp(r){var o,c;try{let m,g;"options"in r&&(m=(o=r.options)===null||o===void 0?void 0:o.redirectTo,g=(c=r.options)===null||c===void 0?void 0:c.captchaToken);const{data:b,error:A}=await Fe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:g}}),redirectTo:m,xform:Xi});if(A)throw A;if(!b)throw new Error("An error occurred on token verification.");const S=b.session,v=b.user;return S?.access_token&&(await this._saveSession(S),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",S)),this._returnResult({data:{user:v,session:S},error:null})}catch(m){if(De(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async signInWithSSO(r){var o,c,m,g,b;try{let A=null,S=null;this.flowType==="pkce"&&([A,S]=await Zs(this.storage,this.storageKey));const v=await Fe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(c=(o=r.options)===null||o===void 0?void 0:o.redirectTo)!==null&&c!==void 0?c:void 0}),!((m=r?.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:A,code_challenge_method:S}),headers:this.headers,xform:lb});return!((g=v.data)===null||g===void 0)&&g.url&&Un()&&!(!((b=r.options)===null||b===void 0)&&b.skipBrowserRedirect)&&window.location.assign(v.data.url),this._returnResult(v)}catch(A){if(await kn(this.storage,`${this.storageKey}-code-verifier`),De(A))return this._returnResult({data:null,error:A});throw A}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:o},error:c}=r;if(c)throw c;if(!o)throw new xi;const{error:m}=await Fe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:o.access_token});return this._returnResult({data:{user:null,session:null},error:m})})}catch(r){if(De(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async resend(r){try{const o=`${this.url}/resend`;if("email"in r){const{email:c,type:m,options:g}=r,{error:b}=await Fe(this.fetch,"POST",o,{headers:this.headers,body:{email:c,type:m,gotrue_meta_security:{captcha_token:g?.captchaToken}},redirectTo:g?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:b})}else if("phone"in r){const{phone:c,type:m,options:g}=r,{data:b,error:A}=await Fe(this.fetch,"POST",o,{headers:this.headers,body:{phone:c,type:m,gotrue_meta_security:{captcha_token:g?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:b?.message_id},error:A})}throw new Wu("You must provide either an email or phone number and a type")}catch(o){if(De(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async o=>o))}async _acquireLock(r,o){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const c=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),m=(async()=>(await c,await o()))();return this.pendingInLock.push((async()=>{try{await m}catch{}})()),m}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const c=o();for(this.pendingInLock.push((async()=>{try{await c}catch{}})()),await c;this.pendingInLock.length;){const m=[...this.pendingInLock];await Promise.all(m),this.pendingInLock.splice(0,m.length)}return await c}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const o=await this.__loadSession();return await r(o)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const o=await is(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",o),o!==null&&(this._isValidSession(o)?r=o:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const c=r.expires_at?r.expires_at*1e3-Date.now()<xf:!1;if(this._debug("#__loadSession()",`session has${c?"":" not"} expired`,"expires_at",r.expires_at),!c){if(this.userStorage){const b=await is(this.userStorage,this.storageKey+"-user");b?.user?r.user=b.user:r.user=vf()}if(this.storage.isServer&&r.user&&!r.user.__isUserNotAvailableProxy){const b={value:this.suppressGetSessionWarning};r.user=ib(r.user,b),b.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:r},error:null}}const{data:m,error:g}=await this._callRefreshToken(r.refresh_token);return g?this._returnResult({data:{session:null},error:g}):this._returnResult({data:{session:m},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(r){if(r)return await this._getUser(r);await this.initializePromise;const o=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return o.data.user&&(this.suppressGetSessionWarning=!0),o}async _getUser(r){try{return r?await Fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:Oa}):await this._useSession(async o=>{var c,m,g;const{data:b,error:A}=o;if(A)throw A;return!(!((c=b.session)===null||c===void 0)&&c.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new xi}:await Fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(g=(m=b.session)===null||m===void 0?void 0:m.access_token)!==null&&g!==void 0?g:void 0,xform:Oa})})}catch(o){if(De(o))return wf(o)&&(await this._removeSession(),await kn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:o});throw o}}async updateUser(r,o={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(r,o))}async _updateUser(r,o={}){try{return await this._useSession(async c=>{const{data:m,error:g}=c;if(g)throw g;if(!m.session)throw new xi;const b=m.session;let A=null,S=null;this.flowType==="pkce"&&r.email!=null&&([A,S]=await Zs(this.storage,this.storageKey));const{data:v,error:T}=await Fe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:o?.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:A,code_challenge_method:S}),jwt:b.access_token,xform:Oa});if(T)throw T;return b.user=v.user,await this._saveSession(b),await this._notifyAllSubscribers("USER_UPDATED",b),this._returnResult({data:{user:b.user},error:null})})}catch(c){if(await kn(this.storage,`${this.storageKey}-code-verifier`),De(c))return this._returnResult({data:{user:null},error:c});throw c}}async setSession(r){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new xi;const o=Date.now()/1e3;let c=o,m=!0,g=null;const{payload:b}=Ku(r.access_token);if(b.exp&&(c=b.exp,m=c<=o),m){const{data:A,error:S}=await this._callRefreshToken(r.refresh_token);if(S)return this._returnResult({data:{user:null,session:null},error:S});if(!A)return{data:{user:null,session:null},error:null};g=A}else{const{data:A,error:S}=await this._getUser(r.access_token);if(S)return this._returnResult({data:{user:null,session:null},error:S});g={access_token:r.access_token,refresh_token:r.refresh_token,user:A.user,token_type:"bearer",expires_in:c-o,expires_at:c},await this._saveSession(g),await this._notifyAllSubscribers("SIGNED_IN",g)}return this._returnResult({data:{user:g.user,session:g},error:null})}catch(o){if(De(o))return this._returnResult({data:{session:null,user:null},error:o});throw o}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async o=>{var c;if(!r){const{data:b,error:A}=o;if(A)throw A;r=(c=b.session)!==null&&c!==void 0?c:void 0}if(!r?.refresh_token)throw new xi;const{data:m,error:g}=await this._callRefreshToken(r.refresh_token);return g?this._returnResult({data:{user:null,session:null},error:g}):m?this._returnResult({data:{user:m.user,session:m},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(o){if(De(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async _getSessionFromURL(r,o){try{if(!Un())throw new Zu("No browser detected.");if(r.error||r.error_description||r.error_code)throw new Zu(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(o){case"implicit":if(this.flowType==="pkce")throw new Tg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Zu("Not a valid implicit grant flow url.");break;default:}if(o==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new Tg("No code detected.");const{data:$,error:X}=await this._exchangeCodeForSession(r.code);if(X)throw X;const pe=new URL(window.location.href);return pe.searchParams.delete("code"),window.history.replaceState(window.history.state,"",pe.toString()),{data:{session:$.session,redirectType:null},error:null}}const{provider_token:c,provider_refresh_token:m,access_token:g,refresh_token:b,expires_in:A,expires_at:S,token_type:v}=r;if(!g||!A||!b||!v)throw new Zu("No session defined in URL");const T=Math.round(Date.now()/1e3),R=parseInt(A);let k=T+R;S&&(k=parseInt(S));const B=k-T;B*1e3<=el&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${B}s, should have been closer to ${R}s`);const V=k-R;T-V>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",V,k,T):T-V<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",V,k,T);const{data:H,error:Z}=await this._getUser(g);if(Z)throw Z;const le={provider_token:c,provider_refresh_token:m,access_token:g,expires_in:R,expires_at:k,refresh_token:b,token_type:v,user:H.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:le,redirectType:r.type},error:null})}catch(c){if(De(c))return this._returnResult({data:{session:null,redirectType:null},error:c});throw c}}_isImplicitGrantCallback(r){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),r):!!(r.access_token||r.error_description)}async _isPKCECallback(r){const o=await is(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&o)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async o=>{var c;const{data:m,error:g}=o;if(g&&!wf(g))return this._returnResult({error:g});const b=(c=m.session)===null||c===void 0?void 0:c.access_token;if(b){const{error:A}=await this.admin.signOut(b,r);if(A&&!(Lw(A)&&(A.status===404||A.status===401||A.status===403)||wf(A)))return this._returnResult({error:A})}return r!=="others"&&(await this._removeSession(),await kn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(r){const o=Vw(),c={id:o,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",o),this.stateChangeEmitters.delete(o)}};return this._debug("#onAuthStateChange()","registered callback with id",o),this.stateChangeEmitters.set(o,c),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(o)})))(),{data:{subscription:c}}}async _emitInitialSession(r){return await this._useSession(async o=>{var c,m;try{const{data:{session:g},error:b}=o;if(b)throw b;await((c=this.stateChangeEmitters.get(r))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",g)),this._debug("INITIAL_SESSION","callback id",r,"session",g)}catch(g){await((m=this.stateChangeEmitters.get(r))===null||m===void 0?void 0:m.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",g),console.error(g)}})}async resetPasswordForEmail(r,o={}){let c=null,m=null;this.flowType==="pkce"&&([c,m]=await Zs(this.storage,this.storageKey,!0));try{return await Fe(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:c,code_challenge_method:m,gotrue_meta_security:{captcha_token:o.captchaToken}},headers:this.headers,redirectTo:o.redirectTo})}catch(g){if(await kn(this.storage,`${this.storageKey}-code-verifier`),De(g))return this._returnResult({data:null,error:g});throw g}}async getUserIdentities(){var r;try{const{data:o,error:c}=await this.getUser();if(c)throw c;return this._returnResult({data:{identities:(r=o.user.identities)!==null&&r!==void 0?r:[]},error:null})}catch(o){if(De(o))return this._returnResult({data:null,error:o});throw o}}async linkIdentity(r){return"token"in r?this.linkIdentityIdToken(r):this.linkIdentityOAuth(r)}async linkIdentityOAuth(r){var o;try{const{data:c,error:m}=await this._useSession(async g=>{var b,A,S,v,T;const{data:R,error:k}=g;if(k)throw k;const B=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(b=r.options)===null||b===void 0?void 0:b.redirectTo,scopes:(A=r.options)===null||A===void 0?void 0:A.scopes,queryParams:(S=r.options)===null||S===void 0?void 0:S.queryParams,skipBrowserRedirect:!0});return await Fe(this.fetch,"GET",B,{headers:this.headers,jwt:(T=(v=R.session)===null||v===void 0?void 0:v.access_token)!==null&&T!==void 0?T:void 0})});if(m)throw m;return Un()&&!(!((o=r.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(c?.url),this._returnResult({data:{provider:r.provider,url:c?.url},error:null})}catch(c){if(De(c))return this._returnResult({data:{provider:r.provider,url:null},error:c});throw c}}async linkIdentityIdToken(r){return await this._useSession(async o=>{var c;try{const{error:m,data:{session:g}}=o;if(m)throw m;const{options:b,provider:A,token:S,access_token:v,nonce:T}=r,R=await Fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(c=g?.access_token)!==null&&c!==void 0?c:void 0,body:{provider:A,id_token:S,access_token:v,nonce:T,link_identity:!0,gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:Xi}),{data:k,error:B}=R;return B?this._returnResult({data:{user:null,session:null},error:B}):!k||!k.session||!k.user?this._returnResult({data:{user:null,session:null},error:new Ws}):(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("USER_UPDATED",k.session)),this._returnResult({data:k,error:B}))}catch(m){if(await kn(this.storage,`${this.storageKey}-code-verifier`),De(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}})}async unlinkIdentity(r){try{return await this._useSession(async o=>{var c,m;const{data:g,error:b}=o;if(b)throw b;return await Fe(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(m=(c=g.session)===null||c===void 0?void 0:c.access_token)!==null&&m!==void 0?m:void 0})})}catch(o){if(De(o))return this._returnResult({data:null,error:o});throw o}}async _refreshAccessToken(r){const o=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(o,"begin");try{const c=Date.now();return await Xw(async m=>(m>0&&await qw(200*Math.pow(2,m-1)),this._debug(o,"refreshing attempt",m),await Fe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:Xi})),(m,g)=>{const b=200*Math.pow(2,m);return g&&bf(g)&&Date.now()+b-c<el})}catch(c){if(this._debug(o,"error",c),De(c))return this._returnResult({data:{session:null,user:null},error:c});throw c}finally{this._debug(o,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,o){const c=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:o.redirectTo,scopes:o.scopes,queryParams:o.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",o,"url",c),Un()&&!o.skipBrowserRedirect&&window.location.assign(c),{data:{provider:r,url:c},error:null}}async _recoverAndRefresh(){var r,o;const c="#_recoverAndRefresh()";this._debug(c,"begin");try{const m=await is(this.storage,this.storageKey);if(m&&this.userStorage){let b=await is(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!b&&(b={user:m.user},await tl(this.userStorage,this.storageKey+"-user",b)),m.user=(r=b?.user)!==null&&r!==void 0?r:vf()}else if(m&&!m.user&&!m.user){const b=await is(this.storage,this.storageKey+"-user");b&&b?.user?(m.user=b.user,await kn(this.storage,this.storageKey+"-user"),await tl(this.storage,this.storageKey,m)):m.user=vf()}if(this._debug(c,"session from storage",m),!this._isValidSession(m)){this._debug(c,"session is not valid"),m!==null&&await this._removeSession();return}const g=((o=m.expires_at)!==null&&o!==void 0?o:1/0)*1e3-Date.now()<xf;if(this._debug(c,`session has${g?"":" not"} expired with margin of ${xf}s`),g){if(this.autoRefreshToken&&m.refresh_token){const{error:b}=await this._callRefreshToken(m.refresh_token);b&&(console.error(b),bf(b)||(this._debug(c,"refresh failed with a non-retryable error, removing the session",b),await this._removeSession()))}}else if(m.user&&m.user.__isUserNotAvailableProxy===!0)try{const{data:b,error:A}=await this._getUser(m.access_token);!A&&b?.user?(m.user=b.user,await this._saveSession(m),await this._notifyAllSubscribers("SIGNED_IN",m)):this._debug(c,"could not get user data, skipping SIGNED_IN notification")}catch(b){console.error("Error getting user data:",b),this._debug(c,"error getting user data, skipping SIGNED_IN notification",b)}else await this._notifyAllSubscribers("SIGNED_IN",m)}catch(m){this._debug(c,"error",m),console.error(m);return}finally{this._debug(c,"end")}}async _callRefreshToken(r){var o,c;if(!r)throw new xi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const m=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(m,"begin");try{this.refreshingDeferred=new cc;const{data:g,error:b}=await this._refreshAccessToken(r);if(b)throw b;if(!g.session)throw new xi;await this._saveSession(g.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",g.session);const A={data:g.session,error:null};return this.refreshingDeferred.resolve(A),A}catch(g){if(this._debug(m,"error",g),De(g)){const b={data:null,error:g};return bf(g)||await this._removeSession(),(o=this.refreshingDeferred)===null||o===void 0||o.resolve(b),b}throw(c=this.refreshingDeferred)===null||c===void 0||c.reject(g),g}finally{this.refreshingDeferred=null,this._debug(m,"end")}}async _notifyAllSubscribers(r,o,c=!0){const m=`#_notifyAllSubscribers(${r})`;this._debug(m,"begin",o,`broadcast = ${c}`);try{this.broadcastChannel&&c&&this.broadcastChannel.postMessage({event:r,session:o});const g=[],b=Array.from(this.stateChangeEmitters.values()).map(async A=>{try{await A.callback(r,o)}catch(S){g.push(S)}});if(await Promise.all(b),g.length>0){for(let A=0;A<g.length;A+=1)console.error(g[A]);throw g[0]}}finally{this._debug(m,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0,await kn(this.storage,`${this.storageKey}-code-verifier`);const o=Object.assign({},r),c=o.user&&o.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!c&&o.user&&await tl(this.userStorage,this.storageKey+"-user",{user:o.user});const m=Object.assign({},o);delete m.user;const g=Dg(m);await tl(this.storage,this.storageKey,g)}else{const m=Dg(o);await tl(this.storage,this.storageKey,m)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await kn(this.storage,this.storageKey),await kn(this.storage,this.storageKey+"-code-verifier"),await kn(this.storage,this.storageKey+"-user"),this.userStorage&&await kn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&Un()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",r)}catch(o){console.error("removing visibilitychange callback failed",o)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),el);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r);const o=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=o,o&&typeof o=="object"&&typeof o.unref=="function"?o.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(o)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r);const o=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,o&&clearTimeout(o)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async o=>{const{data:{session:c}}=o;if(!c||!c.refresh_token||!c.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const m=Math.floor((c.expires_at*1e3-r)/el);this._debug("#_autoRefreshTokenTick()",`access token expires in ${m} ticks, a tick lasts ${el}ms, refresh threshold is ${Df} ticks`),m<=Df&&await this._callRefreshToken(c.refresh_token)})}catch(o){console.error("Auto refresh tick failed with error. This is likely a transient error.",o)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof km)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Un()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(r){this._debug("#visibilityChangedCallback","error",r)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const o=`#_onVisibilityChanged(${r})`;this._debug(o,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(o,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,o,c){const m=[`provider=${encodeURIComponent(o)}`];if(c?.redirectTo&&m.push(`redirect_to=${encodeURIComponent(c.redirectTo)}`),c?.scopes&&m.push(`scopes=${encodeURIComponent(c.scopes)}`),this.flowType==="pkce"){const[g,b]=await Zs(this.storage,this.storageKey),A=new URLSearchParams({code_challenge:`${encodeURIComponent(g)}`,code_challenge_method:`${encodeURIComponent(b)}`});m.push(A.toString())}if(c?.queryParams){const g=new URLSearchParams(c.queryParams);m.push(g.toString())}return c?.skipBrowserRedirect&&m.push(`skip_http_redirect=${c.skipBrowserRedirect}`),`${r}?${m.join("&")}`}async _unenroll(r){try{return await this._useSession(async o=>{var c;const{data:m,error:g}=o;return g?this._returnResult({data:null,error:g}):await Fe(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(c=m?.session)===null||c===void 0?void 0:c.access_token})})}catch(o){if(De(o))return this._returnResult({data:null,error:o});throw o}}async _enroll(r){try{return await this._useSession(async o=>{var c,m;const{data:g,error:b}=o;if(b)return this._returnResult({data:null,error:b});const A=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:r.factorType==="totp"?{issuer:r.issuer}:{}),{data:S,error:v}=await Fe(this.fetch,"POST",`${this.url}/factors`,{body:A,headers:this.headers,jwt:(c=g?.session)===null||c===void 0?void 0:c.access_token});return v?this._returnResult({data:null,error:v}):(r.factorType==="totp"&&S.type==="totp"&&(!((m=S?.totp)===null||m===void 0)&&m.qr_code)&&(S.totp.qr_code=`data:image/svg+xml;utf-8,${S.totp.qr_code}`),this._returnResult({data:S,error:null}))})}catch(o){if(De(o))return this._returnResult({data:null,error:o});throw o}}async _verify(r){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async o=>{var c;const{data:m,error:g}=o;if(g)return this._returnResult({data:null,error:g});const b=Object.assign({challenge_id:r.challengeId},"webauthn"in r?{webauthn:Object.assign(Object.assign({},r.webauthn),{credential_response:r.webauthn.type==="create"?Eb(r.webauthn.credential_response):Ab(r.webauthn.credential_response)})}:{code:r.code}),{data:A,error:S}=await Fe(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:b,headers:this.headers,jwt:(c=m?.session)===null||c===void 0?void 0:c.access_token});return S?this._returnResult({data:null,error:S}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+A.expires_in},A)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",A),this._returnResult({data:A,error:S}))})}catch(o){if(De(o))return this._returnResult({data:null,error:o});throw o}})}async _challenge(r){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async o=>{var c;const{data:m,error:g}=o;if(g)return this._returnResult({data:null,error:g});const b=await Fe(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:r,headers:this.headers,jwt:(c=m?.session)===null||c===void 0?void 0:c.access_token});if(b.error)return b;const{data:A}=b;if(A.type!=="webauthn")return{data:A,error:null};switch(A.webauthn.type){case"create":return{data:Object.assign(Object.assign({},A),{webauthn:Object.assign(Object.assign({},A.webauthn),{credential_options:Object.assign(Object.assign({},A.webauthn.credential_options),{publicKey:bb(A.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},A),{webauthn:Object.assign(Object.assign({},A.webauthn),{credential_options:Object.assign(Object.assign({},A.webauthn.credential_options),{publicKey:vb(A.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(o){if(De(o))return this._returnResult({data:null,error:o});throw o}})}async _challengeAndVerify(r){const{data:o,error:c}=await this._challenge({factorId:r.factorId});return c?this._returnResult({data:null,error:c}):await this._verify({factorId:r.factorId,challengeId:o.id,code:r.code})}async _listFactors(){var r;const{data:{user:o},error:c}=await this.getUser();if(c)return{data:null,error:c};const m={all:[],phone:[],totp:[],webauthn:[]};for(const g of(r=o?.factors)!==null&&r!==void 0?r:[])m.all.push(g),g.status==="verified"&&m[g.factor_type].push(g);return{data:m,error:null}}async _getAuthenticatorAssuranceLevel(r){var o,c,m,g;if(r)try{const{payload:B}=Ku(r);let V=null;B.aal&&(V=B.aal);let H=V;const{data:{user:Z},error:le}=await this.getUser(r);if(le)return this._returnResult({data:null,error:le});((c=(o=Z?.factors)===null||o===void 0?void 0:o.filter(pe=>pe.status==="verified"))!==null&&c!==void 0?c:[]).length>0&&(H="aal2");const X=B.amr||[];return{data:{currentLevel:V,nextLevel:H,currentAuthenticationMethods:X},error:null}}catch(B){if(De(B))return this._returnResult({data:null,error:B});throw B}const{data:{session:b},error:A}=await this.getSession();if(A)return this._returnResult({data:null,error:A});if(!b)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:S}=Ku(b.access_token);let v=null;S.aal&&(v=S.aal);let T=v;((g=(m=b.user.factors)===null||m===void 0?void 0:m.filter(B=>B.status==="verified"))!==null&&g!==void 0?g:[]).length>0&&(T="aal2");const k=S.amr||[];return{data:{currentLevel:v,nextLevel:T,currentAuthenticationMethods:k},error:null}}async _getAuthorizationDetails(r){try{return await this._useSession(async o=>{const{data:{session:c},error:m}=o;return m?this._returnResult({data:null,error:m}):c?await Fe(this.fetch,"GET",`${this.url}/oauth/authorizations/${r}`,{headers:this.headers,jwt:c.access_token,xform:g=>({data:g,error:null})}):this._returnResult({data:null,error:new xi})})}catch(o){if(De(o))return this._returnResult({data:null,error:o});throw o}}async _approveAuthorization(r,o){try{return await this._useSession(async c=>{const{data:{session:m},error:g}=c;if(g)return this._returnResult({data:null,error:g});if(!m)return this._returnResult({data:null,error:new xi});const b=await Fe(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:m.access_token,body:{action:"approve"},xform:A=>({data:A,error:null})});return b.data&&b.data.redirect_url&&Un()&&!o?.skipBrowserRedirect&&window.location.assign(b.data.redirect_url),b})}catch(c){if(De(c))return this._returnResult({data:null,error:c});throw c}}async _denyAuthorization(r,o){try{return await this._useSession(async c=>{const{data:{session:m},error:g}=c;if(g)return this._returnResult({data:null,error:g});if(!m)return this._returnResult({data:null,error:new xi});const b=await Fe(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:m.access_token,body:{action:"deny"},xform:A=>({data:A,error:null})});return b.data&&b.data.redirect_url&&Un()&&!o?.skipBrowserRedirect&&window.location.assign(b.data.redirect_url),b})}catch(c){if(De(c))return this._returnResult({data:null,error:c});throw c}}async _listOAuthGrants(){try{return await this._useSession(async r=>{const{data:{session:o},error:c}=r;return c?this._returnResult({data:null,error:c}):o?await Fe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:o.access_token,xform:m=>({data:m,error:null})}):this._returnResult({data:null,error:new xi})})}catch(r){if(De(r))return this._returnResult({data:null,error:r});throw r}}async _revokeOAuthGrant(r){try{return await this._useSession(async o=>{const{data:{session:c},error:m}=o;return m?this._returnResult({data:null,error:m}):c?(await Fe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:c.access_token,query:{client_id:r.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new xi})})}catch(o){if(De(o))return this._returnResult({data:null,error:o});throw o}}async fetchJwk(r,o={keys:[]}){let c=o.keys.find(A=>A.kid===r);if(c)return c;const m=Date.now();if(c=this.jwks.keys.find(A=>A.kid===r),c&&this.jwks_cached_at+Dw>m)return c;const{data:g,error:b}=await Fe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(b)throw b;return!g.keys||g.keys.length===0||(this.jwks=g,this.jwks_cached_at=m,c=g.keys.find(A=>A.kid===r),!c)?null:c}async getClaims(r,o={}){try{let c=r;if(!c){const{data:B,error:V}=await this.getSession();if(V||!B.session)return this._returnResult({data:null,error:V});c=B.session.access_token}const{header:m,payload:g,signature:b,raw:{header:A,payload:S}}=Ku(c);o?.allowExpired||eb(g.exp);const v=!m.alg||m.alg.startsWith("HS")||!m.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(m.kid,o?.keys?{keys:o.keys}:o?.jwks);if(!v){const{error:B}=await this.getUser(c);if(B)throw B;return{data:{claims:g,header:m,signature:b},error:null}}const T=tb(m.alg),R=await crypto.subtle.importKey("jwk",v,T,!0,["verify"]);if(!await crypto.subtle.verify(T,R,b,Fw(`${A}.${S}`)))throw new Bf("Invalid JWT signature");return{data:{claims:g,header:m,signature:b},error:null}}catch(c){if(De(c))return this._returnResult({data:null,error:c});throw c}}}xo.nextInstanceID={};const Db=xo,Mb="2.96.0";let so="";typeof Deno<"u"?so="deno":typeof document<"u"?so="web":typeof navigator<"u"&&navigator.product==="ReactNative"?so="react-native":so="node";const Lb={"X-Client-Info":`supabase-js-${so}/${Mb}`},Bb={headers:Lb},kb={schema:"public"},Ub={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},jb={};function wo(s){"@babel/helpers - typeof";return wo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},wo(s)}function Pb(s,r){if(wo(s)!="object"||!s)return s;var o=s[Symbol.toPrimitive];if(o!==void 0){var c=o.call(s,r);if(wo(c)!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(s)}function zb(s){var r=Pb(s,"string");return wo(r)=="symbol"?r:r+""}function Fb(s,r,o){return(r=zb(r))in s?Object.defineProperty(s,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):s[r]=o,s}function zg(s,r){var o=Object.keys(s);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(s);r&&(c=c.filter(function(m){return Object.getOwnPropertyDescriptor(s,m).enumerable})),o.push.apply(o,c)}return o}function an(s){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{};r%2?zg(Object(o),!0).forEach(function(c){Fb(s,c,o[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(o)):zg(Object(o)).forEach(function(c){Object.defineProperty(s,c,Object.getOwnPropertyDescriptor(o,c))})}return s}const Hb=s=>s?(...r)=>s(...r):(...r)=>fetch(...r),Vb=()=>Headers,Gb=(s,r,o)=>{const c=Hb(o),m=Vb();return async(g,b)=>{var A;const S=(A=await r())!==null&&A!==void 0?A:s;let v=new m(b?.headers);return v.has("apikey")||v.set("apikey",s),v.has("Authorization")||v.set("Authorization",`Bearer ${S}`),c(g,an(an({},b),{},{headers:v}))}};function Yb(s){return s.endsWith("/")?s:s+"/"}function qb(s,r){var o,c;const{db:m,auth:g,realtime:b,global:A}=s,{db:S,auth:v,realtime:T,global:R}=r,k={db:an(an({},S),m),auth:an(an({},v),g),realtime:an(an({},T),b),storage:{},global:an(an(an({},R),A),{},{headers:an(an({},(o=R?.headers)!==null&&o!==void 0?o:{}),(c=A?.headers)!==null&&c!==void 0?c:{})}),accessToken:async()=>""};return s.accessToken?k.accessToken=s.accessToken:delete k.accessToken,k}function Xb(s){const r=s?.trim();if(!r)throw new Error("supabaseUrl is required.");if(!r.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Yb(r))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Wb=class extends Db{constructor(s){super(s)}},Zb=class{constructor(s,r,o){var c,m;this.supabaseUrl=s,this.supabaseKey=r;const g=Xb(s);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",g),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",g),this.storageUrl=new URL("storage/v1",g),this.functionsUrl=new URL("functions/v1",g);const b=`sb-${g.hostname.split(".")[0]}-auth-token`,A={db:kb,realtime:jb,auth:an(an({},Ub),{},{storageKey:b}),global:Bb},S=qb(o??{},A);if(this.storageKey=(c=S.auth.storageKey)!==null&&c!==void 0?c:"",this.headers=(m=S.global.headers)!==null&&m!==void 0?m:{},S.accessToken)this.accessToken=S.accessToken,this.auth=new Proxy({},{get:(T,R)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(R)} is not possible`)}});else{var v;this.auth=this._initSupabaseAuthClient((v=S.auth)!==null&&v!==void 0?v:{},this.headers,S.global.fetch)}this.fetch=Gb(r,this._getAccessToken.bind(this),S.global.fetch),this.realtime=this._initRealtimeClient(an({headers:this.headers,accessToken:this._getAccessToken.bind(this)},S.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(T=>this.realtime.setAuth(T)).catch(T=>console.warn("Failed to set initial Realtime auth token:",T)),this.rest=new Lx(new URL("rest/v1",g).href,{headers:this.headers,schema:S.db.schema,fetch:this.fetch,timeout:S.db.timeout,urlLengthLimit:S.db.urlLengthLimit}),this.storage=new Tw(this.storageUrl.href,this.headers,this.fetch,o?.storage),S.accessToken||this._listenForAuthEvents()}get functions(){return new _x(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(s){return this.rest.from(s)}schema(s){return this.rest.schema(s)}rpc(s,r={},o={head:!1,get:!1,count:void 0}){return this.rest.rpc(s,r,o)}channel(s,r={config:{}}){return this.realtime.channel(s,r)}getChannels(){return this.realtime.getChannels()}removeChannel(s){return this.realtime.removeChannel(s)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var s=this,r,o;if(s.accessToken)return await s.accessToken();const{data:c}=await s.auth.getSession();return(r=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&r!==void 0?r:s.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:s,persistSession:r,detectSessionInUrl:o,storage:c,userStorage:m,storageKey:g,flowType:b,lock:A,debug:S,throwOnError:v},T,R){const k={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Wb({url:this.authUrl.href,headers:an(an({},k),T),storageKey:g,autoRefreshToken:s,persistSession:r,detectSessionInUrl:o,storage:c,userStorage:m,flowType:b,lock:A,debug:S,throwOnError:v,fetch:R,hasCustomAuthorizationHeader:Object.keys(this.headers).some(B=>B.toLowerCase()==="authorization")})}_initRealtimeClient(s){return new Qx(this.realtimeUrl.href,an(an({},s),{},{params:an(an({},{apikey:this.supabaseKey}),s?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r?.access_token)})}_handleTokenChanged(s,r,o){(s==="TOKEN_REFRESHED"||s==="SIGNED_IN")&&this.changedAccessToken!==o?(this.changedAccessToken=o,this.realtime.setAuth(o)):s==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Kb=(s,r,o)=>new Zb(s,r,o);function Qb(){if(typeof window<"u")return!1;const s=globalThis.process;if(!s)return!1;const r=s.version;if(r==null)return!1;const o=r.match(/^v(\d+)\./);return o?parseInt(o[1],10)<=18:!1}Qb()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Jb="https://hckfizhzvslhyxsaftnx.supabase.co",$b="sb_publishable_mWORlipYfNbwlhdgq6WM5g_lEiFxWMW",jn=Kb(Jb,$b),ev=()=>{const[s,r]=gp.useState(!1);return G.jsxs("div",{className:"flex h-screen bg-gray-100",children:[s&&G.jsx("div",{className:"fixed inset-0 z-20 bg-black bg-opacity-50 lg:hidden",onClick:()=>r(!1)}),G.jsxs("aside",{className:`fixed z-30 inset-y-0 left-0 w-64 bg-white shadow-lg transform transition-transform duration-300 lg:translate-x-0 lg:static lg:inset-0 ${s?"translate-x-0":"-translate-x-full"}`,children:[G.jsx("div",{className:"flex items-center justify-center h-16 bg-blue-600 text-white font-bold text-xl",children:"Hpital Inventaire"}),G.jsxs("nav",{className:"mt-5 px-4 space-y-2",children:[G.jsxs(oo,{to:"/",className:"flex items-center px-4 py-2 text-gray-700 hover:bg-gray-200 rounded-md",onClick:()=>r(!1),children:[G.jsx(fx,{className:"w-5 h-5 mr-3"}),"Tableau de bord"]}),G.jsxs(oo,{to:"/materiels",className:"flex items-center px-4 py-2 text-gray-700 hover:bg-gray-200 rounded-md",onClick:()=>r(!1),children:[G.jsx(px,{className:"w-5 h-5 mr-3"}),"Matriels"]}),G.jsxs(oo,{to:"/inventaire",className:"flex items-center px-4 py-2 text-gray-700 hover:bg-gray-200 rounded-md",onClick:()=>r(!1),children:[G.jsx(cx,{className:"w-5 h-5 mr-3"}),"Campagne Inventaire"]}),G.jsxs("button",{onClick:()=>{jn.auth.signOut(),r(!1)},className:"flex w-full items-center px-4 py-2 text-red-600 hover:bg-red-50 rounded-md mt-4",children:[G.jsx("span",{className:"w-5 h-5 mr-3",children:""}),"Dconnexion"]})]})]}),G.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[G.jsxs("header",{className:"flex items-center justify-between h-16 bg-white shadow px-4 lg:hidden",children:[G.jsx("button",{onClick:()=>r(!0),className:"text-gray-500 focus:outline-none",children:G.jsx(gx,{className:"w-6 h-6"})}),G.jsx("span",{className:"font-semibold text-gray-700",children:"Inventaire"})]}),G.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-gray-100 p-4",children:G.jsx(ym,{})})]})]})},bo={getAll:async()=>{const{data:s,error:r}=await jn.from("materiels").select("*, categories(code, libelle)").order("created_at",{ascending:!1});if(r)throw r;return s},create:async s=>{const r={...s};r.date_acquisition||delete r.date_acquisition,r.categorie_id&&(r.categorie_id=parseInt(r.categorie_id,10));const{data:o}=await jn.from("categories").select("code").eq("id",r.categorie_id).single(),c=o?.code||"INC",g=`PSY-${new Date().getFullYear()}-${c}`,{data:b}=await jn.from("materiels").select("numero_inventaire").ilike("numero_inventaire",`${g}-%`).order("numero_inventaire",{ascending:!1}).limit(1).single();let A=1;if(b){const R=b.numero_inventaire.split("-"),k=parseInt(R[3]);isNaN(k)||(A=k+1)}const S=`${g}-${A.toString().padStart(4,"0")}`,{data:v,error:T}=await jn.from("materiels").insert([{...r,numero_inventaire:S}]).select().single();if(T)throw console.error("Supabase Create Error:",T),T;return v},uploadPhoto:async s=>{const r=s.name.split(".").pop(),c=`${`${Math.random()}.${r}`}`,{error:m}=await jn.storage.from("materiel-photos").upload(c,s);if(m)throw m;const{data:g}=jn.storage.from("materiel-photos").getPublicUrl(c);return g.publicUrl},getBarcodeUrl:s=>`https://bwipjs-api.metafloor.com/?bcid=code128&text=${s}&scale=3&includetext`},tv={getAll:async()=>{const{data:s,error:r}=await jn.from("categories").select("*");if(r)throw r;return s}},Fg={create:async s=>{const{data:r,error:o}=await jn.from("inventaires").insert([s]).select().single();if(o)throw o;return r},scan:async s=>{const{data:r,error:o}=await jn.from("materiels").select("*").eq("numero_inventaire",s.code_barres).single();if(o||!r)throw new Error("Matriel non trouv");const{data:c,error:m}=await jn.from("inventaire_lignes").insert([{inventaire_id:s.inventaire_id,materiel_id:r.id,scanne_par:s.user_id,presence:!0}]).select().single();if(m)throw m;return{materiel:r,ligne:c}}},nv=()=>{const[s,r]=J.useState({totalMateriels:0,byCategory:{},byStatus:{}});J.useEffect(()=>{o()},[]);const o=async()=>{try{const c=await bo.getAll(),m={},g={};c.forEach(b=>{const A=b.categories?.libelle||"Inconnu";m[A]=(m[A]||0)+1;const S=b.statut||"Inconnu";g[S]=(g[S]||0)+1}),r({totalMateriels:c.length,byCategory:m,byStatus:g})}catch(c){console.error("Erreur chargement stats",c)}};return G.jsxs("div",{children:[G.jsx("h1",{className:"text-3xl font-semibold mb-6",children:"Tableau de bord"}),G.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:G.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[G.jsx("h2",{className:"text-xl text-gray-700 font-semibold mb-2",children:"Total Matriels"}),G.jsx("p",{className:"text-4xl font-bold text-blue-600",children:s.totalMateriels})]})}),G.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[G.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[G.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Par Catgorie"}),G.jsx("ul",{children:Object.entries(s.byCategory).map(([c,m])=>G.jsxs("li",{className:"flex justify-between py-2 border-b",children:[G.jsx("span",{children:c}),G.jsx("span",{className:"font-bold",children:m})]},c))})]}),G.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[G.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Par Statut"}),G.jsx("ul",{children:Object.entries(s.byStatus).map(([c,m])=>G.jsxs("li",{className:"flex justify-between py-2 border-b",children:[G.jsx("span",{children:c}),G.jsx("span",{className:"font-bold",children:m})]},c))})]})]})]})},iv=({onSuccess:s})=>{const[r,o]=J.useState([]),[c,m]=J.useState({categorie_id:"",nom:"",marque:"",modele:"",numero_serie:"",date_acquisition:"",service:"",statut:"En service",commentaires:"",photo_url:""}),[g,b]=J.useState(!1);J.useEffect(()=>{tv.getAll().then(v=>o(v))},[]);const A=async v=>{if(!(!v.target.files||v.target.files.length===0)){b(!0);try{const T=v.target.files[0],R=await bo.uploadPhoto(T);m({...c,photo_url:R})}catch(T){console.error(T),alert("Erreur upload photo")}finally{b(!1)}}},S=async v=>{v.preventDefault();try{await bo.create(c),s(),m({...c,nom:"",numero_serie:"",photo_url:""})}catch(T){alert("Erreur lors de la cration"),console.error(T)}};return G.jsxs("form",{onSubmit:S,className:"space-y-4",children:[G.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[G.jsxs("div",{children:[G.jsx("label",{className:"block text-sm font-medium",children:"Catgorie"}),G.jsxs("select",{className:"w-full border p-2 rounded",value:c.categorie_id,onChange:v=>m({...c,categorie_id:v.target.value}),required:!0,children:[G.jsx("option",{value:"",children:"Slectionner..."}),r.map(v=>G.jsxs("option",{value:v.id,children:[v.libelle," (",v.code,")"]},v.id))]})]}),G.jsxs("div",{children:[G.jsx("label",{className:"block text-sm font-medium",children:"Nom matriel"}),G.jsx("input",{type:"text",className:"w-full border p-2 rounded",value:c.nom,onChange:v=>m({...c,nom:v.target.value}),required:!0})]}),G.jsxs("div",{children:[G.jsx("label",{className:"block text-sm font-medium",children:"Marque"}),G.jsx("input",{type:"text",className:"w-full border p-2 rounded",value:c.marque,onChange:v=>m({...c,marque:v.target.value})})]}),G.jsxs("div",{children:[G.jsx("label",{className:"block text-sm font-medium",children:"Modle"}),G.jsx("input",{type:"text",className:"w-full border p-2 rounded",value:c.modele,onChange:v=>m({...c,modele:v.target.value})})]}),G.jsxs("div",{children:[G.jsx("label",{className:"block text-sm font-medium",children:"Numro Srie"}),G.jsx("input",{type:"text",className:"w-full border p-2 rounded",value:c.numero_serie,onChange:v=>m({...c,numero_serie:v.target.value})})]}),G.jsxs("div",{children:[G.jsx("label",{className:"block text-sm font-medium",children:"Service / Emplacement"}),G.jsx("input",{type:"text",className:"w-full border p-2 rounded",value:c.service,onChange:v=>m({...c,service:v.target.value})})]}),G.jsxs("div",{children:[G.jsx("label",{className:"block text-sm font-medium",children:"Date d'acquisition"}),G.jsx("input",{type:"date",className:"w-full border p-2 rounded",value:c.date_acquisition,onChange:v=>m({...c,date_acquisition:v.target.value})})]}),G.jsxs("div",{className:"md:col-span-2",children:[G.jsx("label",{className:"block text-sm font-medium",children:"Photo"}),G.jsxs("div",{className:"flex items-center space-x-4",children:[G.jsx("input",{type:"file",accept:"image/*",capture:"environment",onChange:A,className:`block w-full text-sm text-gray-500\r
                            file:mr-4 file:py-2 file:px-4\r
                            file:rounded-full file:border-0\r
                            file:text-sm file:font-semibold\r
                            file:bg-blue-50 file:text-blue-700\r
                            hover:file:bg-blue-100`,disabled:g}),g&&G.jsx("span",{className:"text-gray-500 text-sm",children:"Upload en cours..."}),c.photo_url&&G.jsx("img",{src:c.photo_url,alt:"Aperu",className:"h-16 w-16 object-cover rounded"})]})]})]}),G.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded",disabled:g,children:g?"Patientez...":"Enregistrer"})]})},Pm=J.createContext({session:null,user:null,role:null,loading:!0,signOut:async()=>{}}),rv=({children:s})=>{const[r,o]=J.useState(null),[c,m]=J.useState(null),[g,b]=J.useState(null),[A,S]=J.useState(!1);console.log("AuthProvider initializing. Supabase client present?",!!jn),J.useEffect(()=>{let R=!0;console.log("AuthProvider mounted");const k=setTimeout(()=>{R&&A&&(console.warn("Force stop loading (timeout)"),S(!1))},3e3);jn.auth.getSession().then(({data:{session:V}})=>{console.log("Supabase session checked",V),R&&(o(V),m(V?.user??null),V?.user?v(V.user.id):S(!1))}).catch(()=>{console.error("Session check failed"),R&&S(!1)});const{data:{subscription:B}}=jn.auth.onAuthStateChange((V,H)=>{R&&(o(H),m(H?.user??null),H?.user?v(H.user.id):(b(null),S(!1)))});return()=>{R=!1,B.unsubscribe(),clearTimeout(k)}},[]);const v=async R=>{try{const{data:k}=await jn.from("profiles").select("role").eq("id",R).single();k?b(k.role):console.warn("No profile found for user")}catch{}finally{S(!1)}},T=async()=>{await jn.auth.signOut(),b(null),m(null),o(null)};return G.jsx(Pm.Provider,{value:{session:r,user:c,role:g,loading:A,signOut:T},children:s})},Wf=()=>J.useContext(Pm),av=()=>{const[s,r]=J.useState([]),[o,c]=J.useState(!1),{role:m}=Wf(),g=async()=>{try{const A=await bo.getAll();r(A)}catch(A){console.error(A)}};J.useEffect(()=>{g()},[]);const b=A=>{const S=bo.getBarcodeUrl(A),v=window.open("","_blank");v&&(v.document.write(`<img src="${S}" onload="window.print();" />`),v.document.close())};return G.jsxs("div",{children:[G.jsxs("div",{className:"flex justify-between items-center mb-6",children:[G.jsx("h1",{className:"text-2xl font-bold",children:"Gestion des Matriels"}),m==="admin"&&G.jsx("button",{onClick:()=>c(!o),className:"bg-green-600 text-white px-4 py-2 rounded shadow hover:bg-green-700",children:o?"Fermer":"Ajouter un matriel"})]}),o&&m==="admin"&&G.jsxs("div",{className:"bg-white p-6 rounded shadow mb-6 animate-fade-in",children:[G.jsx("h2",{className:"text-xl mb-4",children:"Nouveau Matriel"}),G.jsx(iv,{onSuccess:()=>{c(!1),g()}})]}),G.jsx("div",{className:"bg-white rounded shadow overflow-x-auto",children:G.jsxs("table",{className:"min-w-full",children:[G.jsx("thead",{children:G.jsxs("tr",{className:"bg-gray-50 border-b",children:[G.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Photo"}),G.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"N Inventaire"}),G.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Catgorie"}),G.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nom"}),G.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Service"}),G.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),G.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"tiquette"})]})}),G.jsx("tbody",{className:"divide-y divide-gray-200",children:s.map(A=>G.jsxs("tr",{children:[G.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:A.photo_url?G.jsx("img",{src:A.photo_url,alt:"Matriel",className:"h-10 w-10 rounded-full object-cover"}):G.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center text-gray-500 text-xs",children:"No"})}),G.jsx("td",{className:"px-6 py-4 whitespace-nowrap font-mono text-sm",children:A.numero_inventaire}),G.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:A.categories?.code}),G.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:A.nom}),G.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:A.service}),G.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:G.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${A.statut==="En service"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:A.statut})}),G.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:G.jsxs("button",{onClick:()=>b(A.numero_inventaire),className:"text-blue-600 hover:text-blue-900 flex items-center",children:[G.jsx(bx,{className:"w-4 h-4 mr-1"})," Barcode"]})})]},A.id))})]})})]})};var Ce;(function(s){s[s.QR_CODE=0]="QR_CODE",s[s.AZTEC=1]="AZTEC",s[s.CODABAR=2]="CODABAR",s[s.CODE_39=3]="CODE_39",s[s.CODE_93=4]="CODE_93",s[s.CODE_128=5]="CODE_128",s[s.DATA_MATRIX=6]="DATA_MATRIX",s[s.MAXICODE=7]="MAXICODE",s[s.ITF=8]="ITF",s[s.EAN_13=9]="EAN_13",s[s.EAN_8=10]="EAN_8",s[s.PDF_417=11]="PDF_417",s[s.RSS_14=12]="RSS_14",s[s.RSS_EXPANDED=13]="RSS_EXPANDED",s[s.UPC_A=14]="UPC_A",s[s.UPC_E=15]="UPC_E",s[s.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ce||(Ce={}));var Hg=new Map([[Ce.QR_CODE,"QR_CODE"],[Ce.AZTEC,"AZTEC"],[Ce.CODABAR,"CODABAR"],[Ce.CODE_39,"CODE_39"],[Ce.CODE_93,"CODE_93"],[Ce.CODE_128,"CODE_128"],[Ce.DATA_MATRIX,"DATA_MATRIX"],[Ce.MAXICODE,"MAXICODE"],[Ce.ITF,"ITF"],[Ce.EAN_13,"EAN_13"],[Ce.EAN_8,"EAN_8"],[Ce.PDF_417,"PDF_417"],[Ce.RSS_14,"RSS_14"],[Ce.RSS_EXPANDED,"RSS_EXPANDED"],[Ce.UPC_A,"UPC_A"],[Ce.UPC_E,"UPC_E"],[Ce.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Vg;(function(s){s[s.UNKNOWN=0]="UNKNOWN",s[s.URL=1]="URL"})(Vg||(Vg={}));function sv(s){return Object.values(Ce).includes(s)}var Na;(function(s){s[s.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",s[s.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Na||(Na={}));var Ki=(function(){function s(){}return s.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",s.SCAN_DEFAULT_FPS=2,s.DEFAULT_DISABLE_FLIP=!1,s.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,s.DEFAULT_SUPPORTED_SCAN_TYPE=[Na.SCAN_TYPE_CAMERA,Na.SCAN_TYPE_FILE],s})(),zm=(function(){function s(r,o){this.format=r,this.formatName=o}return s.prototype.toString=function(){return this.formatName},s.create=function(r){if(!Hg.has(r))throw"".concat(r," not in html5QrcodeSupportedFormatsTextMap");return new s(r,Hg.get(r))},s})(),Gg=(function(){function s(){}return s.createFromText=function(r){var o={text:r};return{decodedText:r,result:o}},s.createFromQrcodeResult=function(r){return{decodedText:r.text,result:r}},s})(),kf;(function(s){s[s.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",s[s.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",s[s.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(kf||(kf={}));var Fm=(function(){function s(){}return s.createFrom=function(r){return{errorMessage:r,type:kf.UNKWOWN_ERROR}},s})(),Hm=(function(){function s(r){this.verbose=r}return s.prototype.log=function(r){this.verbose&&console.log(r)},s.prototype.warn=function(r){this.verbose&&console.warn(r)},s.prototype.logError=function(r,o){(this.verbose||o===!0)&&console.error(r)},s.prototype.logErrors=function(r){if(r.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(r)},s})();function hr(s){return typeof s>"u"||s===null}function lv(s,r,o){return s>o?o:s<r?r:s}var il=(function(){function s(){}return s.codeParseError=function(r){return"QR code parse error, error = ".concat(r)},s.errorGettingUserMedia=function(r){return"Error getting userMedia, error = ".concat(r)},s.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},s.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},s.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},s.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},s.scannerPaused=function(){return"Scanner paused"},s})(),Ot=(function(){function s(){}return s.scanningStatus=function(){return"Scanning"},s.idleStatus=function(){return"Idle"},s.errorStatus=function(){return"Error"},s.permissionStatus=function(){return"Permission"},s.noCameraFoundErrorStatus=function(){return"No Cameras"},s.lastMatch=function(r){return"Last Match: ".concat(r)},s.codeScannerTitle=function(){return"Code Scanner"},s.cameraPermissionTitle=function(){return"Request Camera Permissions"},s.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},s.noCameraFound=function(){return"No camera found"},s.scanButtonStopScanningText=function(){return"Stop Scanning"},s.scanButtonStartScanningText=function(){return"Start Scanning"},s.torchOnButton=function(){return"Switch On Torch"},s.torchOffButton=function(){return"Switch Off Torch"},s.torchOnFailedMessage=function(){return"Failed to turn on torch"},s.torchOffFailedMessage=function(){return"Failed to turn off torch"},s.scanButtonScanningStarting=function(){return"Launching Camera..."},s.textIfCameraScanSelected=function(){return"Scan an Image File"},s.textIfFileScanSelected=function(){return"Scan using camera directly"},s.selectCamera=function(){return"Select Camera"},s.fileSelectionChooseImage=function(){return"Choose Image"},s.fileSelectionChooseAnother=function(){return"Choose Another"},s.fileSelectionNoImageSelected=function(){return"No image choosen"},s.anonymousCameraPrefix=function(){return"Anonymous Camera"},s.dragAndDropMessage=function(){return"Or drop an image to scan"},s.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},s.zoom=function(){return"zoom"},s.loadingImage=function(){return"Loading image..."},s.cameraScanAltText=function(){return"Camera based scan"},s.fileScanAltText=function(){return"Fule based scan"},s})(),Yg=(function(){function s(){}return s.poweredBy=function(){return"Powered by "},s.reportIssues=function(){return"Report issues"},s})(),Vm=(function(){function s(){}return s.isMediaStreamConstraintsValid=function(r,o){if(typeof r!="object"){var c=typeof r;return o.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(c,"."),!0),!1}for(var m=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],g=new Set(m),b=Object.keys(r),A=0,S=b;A<S.length;A++){var v=S[A];if(g.has(v))return o.logError("".concat(v," is not supported videoConstaints."),!0),!1}return!0},s})(),lo={exports:{}},ov=lo.exports,qg;function uv(){return qg||(qg=1,(function(s,r){(function(o,c){c(r)})(ov,(function(o){function c(O){return O==null}var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,t){O.__proto__=t}||function(O,t){for(var i in t)t.hasOwnProperty(i)&&(O[i]=t[i])};function g(O,t){m(O,t);function i(){this.constructor=O}O.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}function b(O,t){var i=Object.setPrototypeOf;i?i(O,t):O.__proto__=t}function A(O,t){t===void 0&&(t=O.constructor);var i=Error.captureStackTrace;i&&i(O,t)}var S=(function(O){g(t,O);function t(i){var a=this.constructor,u=O.call(this,i)||this;return Object.defineProperty(u,"name",{value:a.name,enumerable:!1}),b(u,a.prototype),A(u),u}return t})(Error);class v extends S{constructor(t=void 0){super(t),this.message=t}getKind(){return this.constructor.kind}}v.kind="Exception";class T extends v{}T.kind="ArgumentException";class R extends v{}R.kind="IllegalArgumentException";class k{constructor(t){if(this.binarizer=t,t===null)throw new R("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(t,i){return this.binarizer.getBlackRow(t,i)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(t,i,a,u){const h=this.binarizer.getLuminanceSource().crop(t,i,a,u);return new k(this.binarizer.createBinarizer(h))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new k(this.binarizer.createBinarizer(t))}rotateCounterClockwise45(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new k(this.binarizer.createBinarizer(t))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class B extends v{static getChecksumInstance(){return new B}}B.kind="ChecksumException";class V{constructor(t){this.source=t}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class H{static arraycopy(t,i,a,u,h){for(;h--;)a[u++]=t[i++]}static currentTimeMillis(){return Date.now()}}class Z extends v{}Z.kind="IndexOutOfBoundsException";class le extends Z{constructor(t=void 0,i=void 0){super(i),this.index=t,this.message=i}}le.kind="ArrayIndexOutOfBoundsException";class ${static fill(t,i){for(let a=0,u=t.length;a<u;a++)t[a]=i}static fillWithin(t,i,a,u){$.rangeCheck(t.length,i,a);for(let h=i;h<a;h++)t[h]=u}static rangeCheck(t,i,a){if(i>a)throw new R("fromIndex("+i+") > toIndex("+a+")");if(i<0)throw new le(i);if(a>t)throw new le(a)}static asList(...t){return t}static create(t,i,a){return Array.from({length:t}).map(h=>Array.from({length:i}).fill(a))}static createInt32Array(t,i,a){return Array.from({length:t}).map(h=>Int32Array.from({length:i}).fill(a))}static equals(t,i){if(!t||!i||!t.length||!i.length||t.length!==i.length)return!1;for(let a=0,u=t.length;a<u;a++)if(t[a]!==i[a])return!1;return!0}static hashCode(t){if(t===null)return 0;let i=1;for(const a of t)i=31*i+a;return i}static fillUint8Array(t,i){for(let a=0;a!==t.length;a++)t[a]=i}static copyOf(t,i){return t.slice(0,i)}static copyOfUint8Array(t,i){if(t.length<=i){const a=new Uint8Array(i);return a.set(t),a}return t.slice(0,i)}static copyOfRange(t,i,a){const u=a-i,h=new Int32Array(u);return H.arraycopy(t,i,h,0,u),h}static binarySearch(t,i,a){a===void 0&&(a=$.numberComparator);let u=0,h=t.length-1;for(;u<=h;){const d=h+u>>1,p=a(i,t[d]);if(p>0)u=d+1;else if(p<0)h=d-1;else return d}return-u-1}static numberComparator(t,i){return t-i}}class X{static numberOfTrailingZeros(t){let i;if(t===0)return 32;let a=31;return i=t<<16,i!==0&&(a-=16,t=i),i=t<<8,i!==0&&(a-=8,t=i),i=t<<4,i!==0&&(a-=4,t=i),i=t<<2,i!==0&&(a-=2,t=i),a-(t<<1>>>31)}static numberOfLeadingZeros(t){if(t===0)return 32;let i=1;return t>>>16||(i+=16,t<<=16),t>>>24||(i+=8,t<<=8),t>>>28||(i+=4,t<<=4),t>>>30||(i+=2,t<<=2),i-=t>>>31,i}static toHexString(t){return t.toString(16)}static toBinaryString(t){return String(parseInt(String(t),2))}static bitCount(t){return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),t=t+(t>>>4)&252645135,t=t+(t>>>8),t=t+(t>>>16),t&63}static truncDivision(t,i){return Math.trunc(t/i)}static parseInt(t,i=void 0){return parseInt(t,i)}}X.MIN_VALUE_32_BITS=-2147483648,X.MAX_VALUE=Number.MAX_SAFE_INTEGER;class pe{constructor(t,i){t===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,i==null?this.bits=pe.makeArray(t):this.bits=i)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(t){if(t>this.bits.length*32){const i=pe.makeArray(t);H.arraycopy(this.bits,0,i,0,this.bits.length),this.bits=i}}get(t){return(this.bits[Math.floor(t/32)]&1<<(t&31))!==0}set(t){this.bits[Math.floor(t/32)]|=1<<(t&31)}flip(t){this.bits[Math.floor(t/32)]^=1<<(t&31)}getNextSet(t){const i=this.size;if(t>=i)return i;const a=this.bits;let u=Math.floor(t/32),h=a[u];h&=~((1<<(t&31))-1);const d=a.length;for(;h===0;){if(++u===d)return i;h=a[u]}const p=u*32+X.numberOfTrailingZeros(h);return p>i?i:p}getNextUnset(t){const i=this.size;if(t>=i)return i;const a=this.bits;let u=Math.floor(t/32),h=~a[u];h&=~((1<<(t&31))-1);const d=a.length;for(;h===0;){if(++u===d)return i;h=~a[u]}const p=u*32+X.numberOfTrailingZeros(h);return p>i?i:p}setBulk(t,i){this.bits[Math.floor(t/32)]=i}setRange(t,i){if(i<t||t<0||i>this.size)throw new R;if(i===t)return;i--;const a=Math.floor(t/32),u=Math.floor(i/32),h=this.bits;for(let d=a;d<=u;d++){const p=d>a?0:t&31,E=(2<<(d<u?31:i&31))-(1<<p);h[d]|=E}}clear(){const t=this.bits.length,i=this.bits;for(let a=0;a<t;a++)i[a]=0}isRange(t,i,a){if(i<t||t<0||i>this.size)throw new R;if(i===t)return!0;i--;const u=Math.floor(t/32),h=Math.floor(i/32),d=this.bits;for(let p=u;p<=h;p++){const x=p>u?0:t&31,C=(2<<(p<h?31:i&31))-(1<<x)&4294967295;if((d[p]&C)!==(a?C:0))return!1}return!0}appendBit(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(t,i){if(i<0||i>32)throw new R("Num bits must be between 0 and 32");this.ensureCapacity(this.size+i);for(let a=i;a>0;a--)this.appendBit((t>>a-1&1)===1)}appendBitArray(t){const i=t.size;this.ensureCapacity(this.size+i);for(let a=0;a<i;a++)this.appendBit(t.get(a))}xor(t){if(this.size!==t.size)throw new R("Sizes don't match");const i=this.bits;for(let a=0,u=i.length;a<u;a++)i[a]^=t.bits[a]}toBytes(t,i,a,u){for(let h=0;h<u;h++){let d=0;for(let p=0;p<8;p++)this.get(t)&&(d|=1<<7-p),t++;i[a+h]=d}}getBitArray(){return this.bits}reverse(){const t=new Int32Array(this.bits.length),i=Math.floor((this.size-1)/32),a=i+1,u=this.bits;for(let h=0;h<a;h++){let d=u[h];d=d>>1&1431655765|(d&1431655765)<<1,d=d>>2&858993459|(d&858993459)<<2,d=d>>4&252645135|(d&252645135)<<4,d=d>>8&16711935|(d&16711935)<<8,d=d>>16&65535|(d&65535)<<16,t[i-h]=d}if(this.size!==a*32){const h=a*32-this.size;let d=t[0]>>>h;for(let p=1;p<a;p++){const x=t[p];d|=x<<32-h,t[p-1]=d,d=x>>>h}t[a-1]=d}this.bits=t}static makeArray(t){return new Int32Array(Math.floor((t+31)/32))}equals(t){if(!(t instanceof pe))return!1;const i=t;return this.size===i.size&&$.equals(this.bits,i.bits)}hashCode(){return 31*this.size+$.hashCode(this.bits)}toString(){let t="";for(let i=0,a=this.size;i<a;i++)(i&7)===0&&(t+=" "),t+=this.get(i)?"X":".";return t}clone(){return new pe(this.size,this.bits.slice())}}var ke;(function(O){O[O.OTHER=0]="OTHER",O[O.PURE_BARCODE=1]="PURE_BARCODE",O[O.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",O[O.TRY_HARDER=3]="TRY_HARDER",O[O.CHARACTER_SET=4]="CHARACTER_SET",O[O.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",O[O.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",O[O.ASSUME_GS1=7]="ASSUME_GS1",O[O.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",O[O.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",O[O.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(ke||(ke={}));var Ee=ke;class ne extends v{static getFormatInstance(){return new ne}}ne.kind="FormatException";var Ie;(function(O){O[O.Cp437=0]="Cp437",O[O.ISO8859_1=1]="ISO8859_1",O[O.ISO8859_2=2]="ISO8859_2",O[O.ISO8859_3=3]="ISO8859_3",O[O.ISO8859_4=4]="ISO8859_4",O[O.ISO8859_5=5]="ISO8859_5",O[O.ISO8859_6=6]="ISO8859_6",O[O.ISO8859_7=7]="ISO8859_7",O[O.ISO8859_8=8]="ISO8859_8",O[O.ISO8859_9=9]="ISO8859_9",O[O.ISO8859_10=10]="ISO8859_10",O[O.ISO8859_11=11]="ISO8859_11",O[O.ISO8859_13=12]="ISO8859_13",O[O.ISO8859_14=13]="ISO8859_14",O[O.ISO8859_15=14]="ISO8859_15",O[O.ISO8859_16=15]="ISO8859_16",O[O.SJIS=16]="SJIS",O[O.Cp1250=17]="Cp1250",O[O.Cp1251=18]="Cp1251",O[O.Cp1252=19]="Cp1252",O[O.Cp1256=20]="Cp1256",O[O.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",O[O.UTF8=22]="UTF8",O[O.ASCII=23]="ASCII",O[O.Big5=24]="Big5",O[O.GB18030=25]="GB18030",O[O.EUC_KR=26]="EUC_KR"})(Ie||(Ie={}));class de{constructor(t,i,a,...u){this.valueIdentifier=t,this.name=a,typeof i=="number"?this.values=Int32Array.from([i]):this.values=i,this.otherEncodingNames=u,de.VALUE_IDENTIFIER_TO_ECI.set(t,this),de.NAME_TO_ECI.set(a,this);const h=this.values;for(let d=0,p=h.length;d!==p;d++){const x=h[d];de.VALUES_TO_ECI.set(x,this)}for(const d of u)de.NAME_TO_ECI.set(d,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(t){if(t<0||t>=900)throw new ne("incorect value");const i=de.VALUES_TO_ECI.get(t);if(i===void 0)throw new ne("incorect value");return i}static getCharacterSetECIByName(t){const i=de.NAME_TO_ECI.get(t);if(i===void 0)throw new ne("incorect value");return i}equals(t){if(!(t instanceof de))return!1;const i=t;return this.getName()===i.getName()}}de.VALUE_IDENTIFIER_TO_ECI=new Map,de.VALUES_TO_ECI=new Map,de.NAME_TO_ECI=new Map,de.Cp437=new de(Ie.Cp437,Int32Array.from([0,2]),"Cp437"),de.ISO8859_1=new de(Ie.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),de.ISO8859_2=new de(Ie.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),de.ISO8859_3=new de(Ie.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),de.ISO8859_4=new de(Ie.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),de.ISO8859_5=new de(Ie.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),de.ISO8859_6=new de(Ie.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),de.ISO8859_7=new de(Ie.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),de.ISO8859_8=new de(Ie.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),de.ISO8859_9=new de(Ie.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),de.ISO8859_10=new de(Ie.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),de.ISO8859_11=new de(Ie.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),de.ISO8859_13=new de(Ie.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),de.ISO8859_14=new de(Ie.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),de.ISO8859_15=new de(Ie.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),de.ISO8859_16=new de(Ie.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),de.SJIS=new de(Ie.SJIS,20,"SJIS","Shift_JIS"),de.Cp1250=new de(Ie.Cp1250,21,"Cp1250","windows-1250"),de.Cp1251=new de(Ie.Cp1251,22,"Cp1251","windows-1251"),de.Cp1252=new de(Ie.Cp1252,23,"Cp1252","windows-1252"),de.Cp1256=new de(Ie.Cp1256,24,"Cp1256","windows-1256"),de.UnicodeBigUnmarked=new de(Ie.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),de.UTF8=new de(Ie.UTF8,26,"UTF8","UTF-8"),de.ASCII=new de(Ie.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),de.Big5=new de(Ie.Big5,28,"Big5"),de.GB18030=new de(Ie.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),de.EUC_KR=new de(Ie.EUC_KR,30,"EUC_KR","EUC-KR");class xn extends v{}xn.kind="UnsupportedOperationException";class Ft{static decode(t,i){const a=this.encodingName(i);return this.customDecoder?this.customDecoder(t,a):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(a)?this.decodeFallback(t,a):new TextDecoder(a).decode(t)}static shouldDecodeOnFallback(t){return!Ft.isBrowser()&&t==="ISO-8859-1"}static encode(t,i){const a=this.encodingName(i);return this.customEncoder?this.customEncoder(t,a):typeof TextEncoder>"u"?this.encodeFallback(t):new TextEncoder().encode(t)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(t){return typeof t=="string"?t:t.getName()}static encodingCharacterSet(t){return t instanceof de?t:de.getCharacterSetECIByName(t)}static decodeFallback(t,i){const a=this.encodingCharacterSet(i);if(Ft.isDecodeFallbackSupported(a)){let u="";for(let h=0,d=t.length;h<d;h++){let p=t[h].toString(16);p.length<2&&(p="0"+p),u+="%"+p}return decodeURIComponent(u)}if(a.equals(de.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new xn(`Encoding ${this.encodingName(i)} not supported by fallback.`)}static isDecodeFallbackSupported(t){return t.equals(de.UTF8)||t.equals(de.ISO8859_1)||t.equals(de.ASCII)}static encodeFallback(t){const a=btoa(unescape(encodeURIComponent(t))).split(""),u=[];for(let h=0;h<a.length;h++)u.push(a[h].charCodeAt(0));return new Uint8Array(u)}}class Ne{static castAsNonUtf8Char(t,i=null){const a=i?i.getName():this.ISO88591;return Ft.decode(new Uint8Array([t]),a)}static guessEncoding(t,i){if(i!=null&&i.get(Ee.CHARACTER_SET)!==void 0)return i.get(Ee.CHARACTER_SET).toString();const a=t.length;let u=!0,h=!0,d=!0,p=0,x=0,E=0,C=0,N=0,I=0,L=0,j=0,P=0,q=0,te=0;const xe=t.length>3&&t[0]===239&&t[1]===187&&t[2]===191;for(let ye=0;ye<a&&(u||h||d);ye++){const me=t[ye]&255;d&&(p>0?(me&128)===0?d=!1:p--:(me&128)!==0&&((me&64)===0?d=!1:(p++,(me&32)===0?x++:(p++,(me&16)===0?E++:(p++,(me&8)===0?C++:d=!1))))),u&&(me>127&&me<160?u=!1:me>159&&(me<192||me===215||me===247)&&te++),h&&(N>0?me<64||me===127||me>252?h=!1:N--:me===128||me===160||me>239?h=!1:me>160&&me<224?(I++,j=0,L++,L>P&&(P=L)):me>127?(N++,L=0,j++,j>q&&(q=j)):(L=0,j=0))}return d&&p>0&&(d=!1),h&&N>0&&(h=!1),d&&(xe||x+E+C>0)?Ne.UTF8:h&&(Ne.ASSUME_SHIFT_JIS||P>=3||q>=3)?Ne.SHIFT_JIS:u&&h?P===2&&I===2||te*10>=a?Ne.SHIFT_JIS:Ne.ISO88591:u?Ne.ISO88591:h?Ne.SHIFT_JIS:d?Ne.UTF8:Ne.PLATFORM_DEFAULT_ENCODING}static format(t,...i){let a=-1;function u(d,p,x,E,C,N){if(d==="%%")return"%";if(i[++a]===void 0)return;d=E?parseInt(E.substr(1)):void 0;let I=C?parseInt(C.substr(1)):void 0,L;switch(N){case"s":L=i[a];break;case"c":L=i[a][0];break;case"f":L=parseFloat(i[a]).toFixed(d);break;case"p":L=parseFloat(i[a]).toPrecision(d);break;case"e":L=parseFloat(i[a]).toExponential(d);break;case"x":L=parseInt(i[a]).toString(I||16);break;case"d":L=parseFloat(parseInt(i[a],I||10).toPrecision(d)).toFixed(0);break}L=typeof L=="object"?JSON.stringify(L):(+L).toString(I);let j=parseInt(x),P=x&&x[0]+""=="0"?"0":" ";for(;L.length<j;)L=p!==void 0?L+P:P+L;return L}let h=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(h,u)}static getBytes(t,i){return Ft.encode(t,i)}static getCharCode(t,i=0){return t.charCodeAt(i)}static getCharAt(t){return String.fromCharCode(t)}}Ne.SHIFT_JIS=de.SJIS.getName(),Ne.GB2312="GB2312",Ne.ISO88591=de.ISO8859_1.getName(),Ne.EUC_JP="EUC_JP",Ne.UTF8=de.UTF8.getName(),Ne.PLATFORM_DEFAULT_ENCODING=Ne.UTF8,Ne.ASSUME_SHIFT_JIS=!1;class it{constructor(t=""){this.value=t}enableDecoding(t){return this.encoding=t,this}append(t){return typeof t=="string"?this.value+=t.toString():this.encoding?this.value+=Ne.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this}appendChars(t,i,a){for(let u=i;i<i+a;u++)this.append(t[u]);return this}length(){return this.value.length}charAt(t){return this.value.charAt(t)}deleteCharAt(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)}setCharAt(t,i){this.value=this.value.substr(0,t)+i+this.value.substr(t+1)}substring(t,i){return this.value.substring(t,i)}setLengthToZero(){this.value=""}toString(){return this.value}insert(t,i){this.value=this.value.substr(0,t)+i+this.value.substr(t+i.length)}}class Nt{constructor(t,i,a,u){if(this.width=t,this.height=i,this.rowSize=a,this.bits=u,i==null&&(i=t),this.height=i,t<1||i<1)throw new R("Both dimensions must be greater than 0");a==null&&(a=Math.floor((t+31)/32)),this.rowSize=a,u==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(t){const i=t.length,a=t[0].length,u=new Nt(a,i);for(let h=0;h<i;h++){const d=t[h];for(let p=0;p<a;p++)d[p]&&u.set(p,h)}return u}static parseFromString(t,i,a){if(t===null)throw new R("stringRepresentation cannot be null");const u=new Array(t.length);let h=0,d=0,p=-1,x=0,E=0;for(;E<t.length;)if(t.charAt(E)===`
`||t.charAt(E)==="\r"){if(h>d){if(p===-1)p=h-d;else if(h-d!==p)throw new R("row lengths do not match");d=h,x++}E++}else if(t.substring(E,E+i.length)===i)E+=i.length,u[h]=!0,h++;else if(t.substring(E,E+a.length)===a)E+=a.length,u[h]=!1,h++;else throw new R("illegal character encountered: "+t.substring(E));if(h>d){if(p===-1)p=h-d;else if(h-d!==p)throw new R("row lengths do not match");x++}const C=new Nt(p,x);for(let N=0;N<h;N++)u[N]&&C.set(Math.floor(N%p),Math.floor(N/p));return C}get(t,i){const a=i*this.rowSize+Math.floor(t/32);return(this.bits[a]>>>(t&31)&1)!==0}set(t,i){const a=i*this.rowSize+Math.floor(t/32);this.bits[a]|=1<<(t&31)&4294967295}unset(t,i){const a=i*this.rowSize+Math.floor(t/32);this.bits[a]&=~(1<<(t&31)&4294967295)}flip(t,i){const a=i*this.rowSize+Math.floor(t/32);this.bits[a]^=1<<(t&31)&4294967295}xor(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new R("input matrix dimensions do not match");const i=new pe(Math.floor(this.width/32)+1),a=this.rowSize,u=this.bits;for(let h=0,d=this.height;h<d;h++){const p=h*a,x=t.getRow(h,i).getBitArray();for(let E=0;E<a;E++)u[p+E]^=x[E]}}clear(){const t=this.bits,i=t.length;for(let a=0;a<i;a++)t[a]=0}setRegion(t,i,a,u){if(i<0||t<0)throw new R("Left and top must be nonnegative");if(u<1||a<1)throw new R("Height and width must be at least 1");const h=t+a,d=i+u;if(d>this.height||h>this.width)throw new R("The region must fit inside the matrix");const p=this.rowSize,x=this.bits;for(let E=i;E<d;E++){const C=E*p;for(let N=t;N<h;N++)x[C+Math.floor(N/32)]|=1<<(N&31)&4294967295}}getRow(t,i){i==null||i.getSize()<this.width?i=new pe(this.width):i.clear();const a=this.rowSize,u=this.bits,h=t*a;for(let d=0;d<a;d++)i.setBulk(d*32,u[h+d]);return i}setRow(t,i){H.arraycopy(i.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)}rotate180(){const t=this.getWidth(),i=this.getHeight();let a=new pe(t),u=new pe(t);for(let h=0,d=Math.floor((i+1)/2);h<d;h++)a=this.getRow(h,a),u=this.getRow(i-1-h,u),a.reverse(),u.reverse(),this.setRow(h,u),this.setRow(i-1-h,a)}getEnclosingRectangle(){const t=this.width,i=this.height,a=this.rowSize,u=this.bits;let h=t,d=i,p=-1,x=-1;for(let E=0;E<i;E++)for(let C=0;C<a;C++){const N=u[E*a+C];if(N!==0){if(E<d&&(d=E),E>x&&(x=E),C*32<h){let I=0;for(;(N<<31-I&4294967295)===0;)I++;C*32+I<h&&(h=C*32+I)}if(C*32+31>p){let I=31;for(;!(N>>>I);)I--;C*32+I>p&&(p=C*32+I)}}}return p<h||x<d?null:Int32Array.from([h,d,p-h+1,x-d+1])}getTopLeftOnBit(){const t=this.rowSize,i=this.bits;let a=0;for(;a<i.length&&i[a]===0;)a++;if(a===i.length)return null;const u=a/t;let h=a%t*32;const d=i[a];let p=0;for(;(d<<31-p&4294967295)===0;)p++;return h+=p,Int32Array.from([h,u])}getBottomRightOnBit(){const t=this.rowSize,i=this.bits;let a=i.length-1;for(;a>=0&&i[a]===0;)a--;if(a<0)return null;const u=Math.floor(a/t);let h=Math.floor(a%t)*32;const d=i[a];let p=31;for(;!(d>>>p);)p--;return h+=p,Int32Array.from([h,u])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(t){if(!(t instanceof Nt))return!1;const i=t;return this.width===i.width&&this.height===i.height&&this.rowSize===i.rowSize&&$.equals(this.bits,i.bits)}hashCode(){let t=this.width;return t=31*t+this.width,t=31*t+this.height,t=31*t+this.rowSize,t=31*t+$.hashCode(this.bits),t}toString(t="X ",i="  ",a=`
`){return this.buildToString(t,i,a)}buildToString(t,i,a){let u=new it;for(let h=0,d=this.height;h<d;h++){for(let p=0,x=this.width;p<x;p++)u.append(this.get(p,h)?t:i);u.append(a)}return u.toString()}clone(){return new Nt(this.width,this.height,this.rowSize,this.bits.slice())}}class se extends v{static getNotFoundInstance(){return new se}}se.kind="NotFoundException";class re extends V{constructor(t){super(t),this.luminances=re.EMPTY,this.buckets=new Int32Array(re.LUMINANCE_BUCKETS)}getBlackRow(t,i){const a=this.getLuminanceSource(),u=a.getWidth();i==null||i.getSize()<u?i=new pe(u):i.clear(),this.initArrays(u);const h=a.getRow(t,this.luminances),d=this.buckets;for(let x=0;x<u;x++)d[(h[x]&255)>>re.LUMINANCE_SHIFT]++;const p=re.estimateBlackPoint(d);if(u<3)for(let x=0;x<u;x++)(h[x]&255)<p&&i.set(x);else{let x=h[0]&255,E=h[1]&255;for(let C=1;C<u-1;C++){const N=h[C+1]&255;(E*4-x-N)/2<p&&i.set(C),x=E,E=N}}return i}getBlackMatrix(){const t=this.getLuminanceSource(),i=t.getWidth(),a=t.getHeight(),u=new Nt(i,a);this.initArrays(i);const h=this.buckets;for(let x=1;x<5;x++){const E=Math.floor(a*x/5),C=t.getRow(E,this.luminances),N=Math.floor(i*4/5);for(let I=Math.floor(i/5);I<N;I++){const L=C[I]&255;h[L>>re.LUMINANCE_SHIFT]++}}const d=re.estimateBlackPoint(h),p=t.getMatrix();for(let x=0;x<a;x++){const E=x*i;for(let C=0;C<i;C++)(p[E+C]&255)<d&&u.set(C,x)}return u}createBinarizer(t){return new re(t)}initArrays(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));const i=this.buckets;for(let a=0;a<re.LUMINANCE_BUCKETS;a++)i[a]=0}static estimateBlackPoint(t){const i=t.length;let a=0,u=0,h=0;for(let C=0;C<i;C++)t[C]>h&&(u=C,h=t[C]),t[C]>a&&(a=t[C]);let d=0,p=0;for(let C=0;C<i;C++){const N=C-u,I=t[C]*N*N;I>p&&(d=C,p=I)}if(u>d){const C=u;u=d,d=C}if(d-u<=i/16)throw new se;let x=d-1,E=-1;for(let C=d-1;C>u;C--){const N=C-u,I=N*N*(d-C)*(a-t[C]);I>E&&(x=C,E=I)}return x<<re.LUMINANCE_SHIFT}}re.LUMINANCE_BITS=5,re.LUMINANCE_SHIFT=8-re.LUMINANCE_BITS,re.LUMINANCE_BUCKETS=1<<re.LUMINANCE_BITS,re.EMPTY=Uint8ClampedArray.from([0]);class he extends re{constructor(t){super(t),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const t=this.getLuminanceSource(),i=t.getWidth(),a=t.getHeight();if(i>=he.MINIMUM_DIMENSION&&a>=he.MINIMUM_DIMENSION){const u=t.getMatrix();let h=i>>he.BLOCK_SIZE_POWER;(i&he.BLOCK_SIZE_MASK)!==0&&h++;let d=a>>he.BLOCK_SIZE_POWER;(a&he.BLOCK_SIZE_MASK)!==0&&d++;const p=he.calculateBlackPoints(u,h,d,i,a),x=new Nt(i,a);he.calculateThresholdForBlock(u,h,d,i,a,p,x),this.matrix=x}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(t){return new he(t)}static calculateThresholdForBlock(t,i,a,u,h,d,p){const x=h-he.BLOCK_SIZE,E=u-he.BLOCK_SIZE;for(let C=0;C<a;C++){let N=C<<he.BLOCK_SIZE_POWER;N>x&&(N=x);const I=he.cap(C,2,a-3);for(let L=0;L<i;L++){let j=L<<he.BLOCK_SIZE_POWER;j>E&&(j=E);const P=he.cap(L,2,i-3);let q=0;for(let xe=-2;xe<=2;xe++){const ye=d[I+xe];q+=ye[P-2]+ye[P-1]+ye[P]+ye[P+1]+ye[P+2]}const te=q/25;he.thresholdBlock(t,j,N,te,u,p)}}}static cap(t,i,a){return t<i?i:t>a?a:t}static thresholdBlock(t,i,a,u,h,d){for(let p=0,x=a*h+i;p<he.BLOCK_SIZE;p++,x+=h)for(let E=0;E<he.BLOCK_SIZE;E++)(t[x+E]&255)<=u&&d.set(i+E,a+p)}static calculateBlackPoints(t,i,a,u,h){const d=h-he.BLOCK_SIZE,p=u-he.BLOCK_SIZE,x=new Array(a);for(let E=0;E<a;E++){x[E]=new Int32Array(i);let C=E<<he.BLOCK_SIZE_POWER;C>d&&(C=d);for(let N=0;N<i;N++){let I=N<<he.BLOCK_SIZE_POWER;I>p&&(I=p);let L=0,j=255,P=0;for(let te=0,xe=C*u+I;te<he.BLOCK_SIZE;te++,xe+=u){for(let ye=0;ye<he.BLOCK_SIZE;ye++){const me=t[xe+ye]&255;L+=me,me<j&&(j=me),me>P&&(P=me)}if(P-j>he.MIN_DYNAMIC_RANGE)for(te++,xe+=u;te<he.BLOCK_SIZE;te++,xe+=u)for(let ye=0;ye<he.BLOCK_SIZE;ye++)L+=t[xe+ye]&255}let q=L>>he.BLOCK_SIZE_POWER*2;if(P-j<=he.MIN_DYNAMIC_RANGE&&(q=j/2,E>0&&N>0)){const te=(x[E-1][N]+2*x[E][N-1]+x[E-1][N-1])/4;j<te&&(q=te)}x[E][N]=q}}return x}}he.BLOCK_SIZE_POWER=3,he.BLOCK_SIZE=1<<he.BLOCK_SIZE_POWER,he.BLOCK_SIZE_MASK=he.BLOCK_SIZE-1,he.MINIMUM_DIMENSION=he.BLOCK_SIZE*5,he.MIN_DYNAMIC_RANGE=24;class Be{constructor(t,i){this.width=t,this.height=i}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(t,i,a,u){throw new xn("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new xn("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new xn("This luminance source does not support rotation by 45 degrees.")}toString(){const t=new Uint8ClampedArray(this.width);let i=new it;for(let a=0;a<this.height;a++){const u=this.getRow(a,t);for(let h=0;h<this.width;h++){const d=u[h]&255;let p;d<64?p="#":d<128?p="+":d<192?p=".":p=" ",i.append(p)}i.append(`
`)}return i.toString()}}class Je extends Be{constructor(t){super(t.getWidth(),t.getHeight()),this.delegate=t}getRow(t,i){const a=this.delegate.getRow(t,i),u=this.getWidth();for(let h=0;h<u;h++)a[h]=255-(a[h]&255);return a}getMatrix(){const t=this.delegate.getMatrix(),i=this.getWidth()*this.getHeight(),a=new Uint8ClampedArray(i);for(let u=0;u<i;u++)a[u]=255-(t[u]&255);return a}isCropSupported(){return this.delegate.isCropSupported()}crop(t,i,a,u){return new Je(this.delegate.crop(t,i,a,u))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Je(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Je(this.delegate.rotateCounterClockwise45())}}class rt extends Be{constructor(t){super(t.width,t.height),this.canvas=t,this.tempCanvasElement=null,this.buffer=rt.makeBufferFromCanvasImageData(t)}static makeBufferFromCanvasImageData(t){const i=t.getContext("2d").getImageData(0,0,t.width,t.height);return rt.toGrayscaleBuffer(i.data,t.width,t.height)}static toGrayscaleBuffer(t,i,a){const u=new Uint8ClampedArray(i*a);for(let h=0,d=0,p=t.length;h<p;h+=4,d++){let x;if(t[h+3]===0)x=255;else{const C=t[h],N=t[h+1],I=t[h+2];x=306*C+601*N+117*I+512>>10}u[d]=x}return u}getRow(t,i){if(t<0||t>=this.getHeight())throw new R("Requested row is outside the image: "+t);const a=this.getWidth(),u=t*a;return i===null?i=this.buffer.slice(u,u+a):(i.length<a&&(i=new Uint8ClampedArray(a)),i.set(this.buffer.slice(u,u+a))),i}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(t,i,a,u){return super.crop(t,i,a,u),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement}rotate(t){const i=this.getTempCanvasElement(),a=i.getContext("2d"),u=t*rt.DEGREE_TO_RADIANS,h=this.canvas.width,d=this.canvas.height,p=Math.ceil(Math.abs(Math.cos(u))*h+Math.abs(Math.sin(u))*d),x=Math.ceil(Math.abs(Math.sin(u))*h+Math.abs(Math.cos(u))*d);return i.width=p,i.height=x,a.translate(p/2,x/2),a.rotate(u),a.drawImage(this.canvas,h/-2,d/-2),this.buffer=rt.makeBufferFromCanvasImageData(i),this}invert(){return new Je(this)}}rt.DEGREE_TO_RADIANS=Math.PI/180;class F{constructor(t,i,a){this.deviceId=t,this.label=i,this.kind="videoinput",this.groupId=a||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var oe=(globalThis||Hu||self||window||void 0)&&(globalThis||Hu||self||window||void 0).__awaiter||function(O,t,i,a){function u(h){return h instanceof i?h:new i(function(d){d(h)})}return new(i||(i=Promise))(function(h,d){function p(C){try{E(a.next(C))}catch(N){d(N)}}function x(C){try{E(a.throw(C))}catch(N){d(N)}}function E(C){C.done?h(C.value):u(C.value).then(p,x)}E((a=a.apply(O,t||[])).next())})};class ve{constructor(t,i=500,a){this.reader=t,this.timeBetweenScansMillis=i,this._hints=a,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(t){this._timeBetweenDecodingAttempts=t<0?0:t}set hints(t){this._hints=t||null}get hints(){return this._hints}listVideoInputDevices(){return oe(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const t=yield navigator.mediaDevices.enumerateDevices(),i=[];for(const a of t){const u=a.kind==="video"?"videoinput":a.kind;if(u!=="videoinput")continue;const h=a.deviceId||a.id,d=a.label||`Video device ${i.length+1}`,p=a.groupId,x={deviceId:h,label:d,kind:u,groupId:p};i.push(x)}return i})}getVideoInputDevices(){return oe(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(i=>new F(i.deviceId,i.label))})}findDeviceById(t){return oe(this,void 0,void 0,function*(){const i=yield this.listVideoInputDevices();return i?i.find(a=>a.deviceId===t):null})}decodeFromInputVideoDevice(t,i){return oe(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(t,i)})}decodeOnceFromVideoDevice(t,i){return oe(this,void 0,void 0,function*(){this.reset();let a;t?a={deviceId:{exact:t}}:a={facingMode:"environment"};const u={video:a};return yield this.decodeOnceFromConstraints(u,i)})}decodeOnceFromConstraints(t,i){return oe(this,void 0,void 0,function*(){const a=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeOnceFromStream(a,i)})}decodeOnceFromStream(t,i){return oe(this,void 0,void 0,function*(){this.reset();const a=yield this.attachStreamToVideo(t,i);return yield this.decodeOnce(a)})}decodeFromInputVideoDeviceContinuously(t,i,a){return oe(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(t,i,a)})}decodeFromVideoDevice(t,i,a){return oe(this,void 0,void 0,function*(){let u;t?u={deviceId:{exact:t}}:u={facingMode:"environment"};const h={video:u};return yield this.decodeFromConstraints(h,i,a)})}decodeFromConstraints(t,i,a){return oe(this,void 0,void 0,function*(){const u=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeFromStream(u,i,a)})}decodeFromStream(t,i,a){return oe(this,void 0,void 0,function*(){this.reset();const u=yield this.attachStreamToVideo(t,i);return yield this.decodeContinuously(u,a)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(t,i){return oe(this,void 0,void 0,function*(){const a=this.prepareVideoElement(i);return this.addVideoSource(a,t),this.videoElement=a,this.stream=t,yield this.playVideoOnLoadAsync(a),a})}playVideoOnLoadAsync(t){return new Promise((i,a)=>this.playVideoOnLoad(t,()=>i()))}playVideoOnLoad(t,i){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(t),t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",i),this.tryPlayVideo(t)}isVideoPlaying(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2}tryPlayVideo(t){return oe(this,void 0,void 0,function*(){if(this.isVideoPlaying(t)){console.warn("Trying to play video that is already playing.");return}try{yield t.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(t,i){const a=document.getElementById(t);if(!a)throw new T(`element with id '${t}' not found`);if(a.nodeName.toLowerCase()!==i.toLowerCase())throw new T(`element with id '${t}' must be an ${i} element`);return a}decodeFromImage(t,i){if(!t&&!i)throw new T("either imageElement with a src set or an url must be provided");return i&&!t?this.decodeFromImageUrl(i):this.decodeFromImageElement(t)}decodeFromVideo(t,i){if(!t&&!i)throw new T("Either an element with a src set or an URL must be provided");return i&&!t?this.decodeFromVideoUrl(i):this.decodeFromVideoElement(t)}decodeFromVideoContinuously(t,i,a){if(t===void 0&&i===void 0)throw new T("Either an element with a src set or an URL must be provided");return i&&!t?this.decodeFromVideoUrlContinuously(i,a):this.decodeFromVideoElementContinuously(t,a)}decodeFromImageElement(t){if(!t)throw new T("An image element must be provided.");this.reset();const i=this.prepareImageElement(t);this.imageElement=i;let a;return this.isImageLoaded(i)?a=this.decodeOnce(i,!1,!0):a=this._decodeOnLoadImage(i),a}decodeFromVideoElement(t){const i=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(i)}decodeFromVideoElementContinuously(t,i){const a=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(a,i)}_decodeFromVideoElementSetup(t){if(!t)throw new T("A video element must be provided.");this.reset();const i=this.prepareVideoElement(t);return this.videoElement=i,i}decodeFromImageUrl(t){if(!t)throw new T("An URL must be provided.");this.reset();const i=this.prepareImageElement();this.imageElement=i;const a=this._decodeOnLoadImage(i);return i.src=t,a}decodeFromVideoUrl(t){if(!t)throw new T("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),a=this.decodeFromVideoElement(i);return i.src=t,a}decodeFromVideoUrlContinuously(t,i){if(!t)throw new T("An URL must be provided.");this.reset();const a=this.prepareVideoElement(),u=this.decodeFromVideoElementContinuously(a,i);return a.src=t,u}_decodeOnLoadImage(t){return new Promise((i,a)=>{this.imageLoadedListener=()=>this.decodeOnce(t,!1,!0).then(i,a),t.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(t){return oe(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(t),yield this.decodeOnce(t)})}_decodeOnLoadVideoContinuously(t,i){return oe(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(t),this.decodeContinuously(t,i)})}isImageLoaded(t){return!(!t.complete||t.naturalWidth===0)}prepareImageElement(t){let i;return typeof t>"u"&&(i=document.createElement("img"),i.width=200,i.height=200),typeof t=="string"&&(i=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(i=t),i}prepareVideoElement(t){let i;return!t&&typeof document<"u"&&(i=document.createElement("video"),i.width=200,i.height=200),typeof t=="string"&&(i=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(i=t),i.setAttribute("autoplay","true"),i.setAttribute("muted","true"),i.setAttribute("playsinline","true"),i}decodeOnce(t,i=!0,a=!0){this._stopAsyncDecode=!1;const u=(h,d)=>{if(this._stopAsyncDecode){d(new se("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const p=this.decode(t);h(p)}catch(p){const x=i&&p instanceof se,C=(p instanceof B||p instanceof ne)&&a;if(x||C)return setTimeout(u,this._timeBetweenDecodingAttempts,h,d);d(p)}};return new Promise((h,d)=>u(h,d))}decodeContinuously(t,i){this._stopContinuousDecode=!1;const a=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const u=this.decode(t);i(u,null),setTimeout(a,this.timeBetweenScansMillis)}catch(u){i(null,u);const h=u instanceof B||u instanceof ne,d=u instanceof se;(h||d)&&setTimeout(a,this._timeBetweenDecodingAttempts)}};a()}decode(t){const i=this.createBinaryBitmap(t);return this.decodeBitmap(i)}_isHTMLVideoElement(t){return t.videoWidth!==0}drawFrameOnCanvas(t,i,a){i||(i={sx:0,sy:0,sWidth:t.videoWidth,sHeight:t.videoHeight,dx:0,dy:0,dWidth:t.videoWidth,dHeight:t.videoHeight}),a||(a=this.captureCanvasContext),a.drawImage(t,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}drawImageOnCanvas(t,i,a=this.captureCanvasContext){i||(i={sx:0,sy:0,sWidth:t.naturalWidth,sHeight:t.naturalHeight,dx:0,dy:0,dWidth:t.naturalWidth,dHeight:t.naturalHeight}),a||(a=this.captureCanvasContext),a.drawImage(t,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}createBinaryBitmap(t){this.getCaptureCanvasContext(t),this._isHTMLVideoElement(t)?this.drawFrameOnCanvas(t):this.drawImageOnCanvas(t);const i=this.getCaptureCanvas(t),a=new rt(i),u=new he(a);return new k(u)}getCaptureCanvasContext(t){if(!this.captureCanvasContext){const a=this.getCaptureCanvas(t).getContext("2d");this.captureCanvasContext=a}return this.captureCanvasContext}getCaptureCanvas(t){if(!this.captureCanvas){const i=this.createCaptureCanvas(t);this.captureCanvas=i}return this.captureCanvas}decodeBitmap(t){return this.reader.decode(t,this._hints)}createCaptureCanvas(t){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const i=document.createElement("canvas");let a,u;return typeof t<"u"&&(t instanceof HTMLVideoElement?(a=t.videoWidth,u=t.videoHeight):t instanceof HTMLImageElement&&(a=t.naturalWidth||t.width,u=t.naturalHeight||t.height)),i.style.width=a+"px",i.style.height=u+"px",i.width=a,i.height=u,i}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(t=>t.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(t,i){try{t.srcObject=i}catch{t.src=URL.createObjectURL(i)}}cleanVideoSource(t){try{t.srcObject=null}catch{t.src=""}this.videoElement.removeAttribute("src")}}class Ae{constructor(t,i,a=i==null?0:8*i.length,u,h,d=H.currentTimeMillis()){this.text=t,this.rawBytes=i,this.numBits=a,this.resultPoints=u,this.format=h,this.timestamp=d,this.text=t,this.rawBytes=i,a==null?this.numBits=i==null?0:8*i.length:this.numBits=a,this.resultPoints=u,this.format=h,this.resultMetadata=null,d==null?this.timestamp=H.currentTimeMillis():this.timestamp=d}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(t,i){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(t,i)}putAllMetadata(t){t!==null&&(this.resultMetadata===null?this.resultMetadata=t:this.resultMetadata=new Map(t))}addResultPoints(t){const i=this.resultPoints;if(i===null)this.resultPoints=t;else if(t!==null&&t.length>0){const a=new Array(i.length+t.length);H.arraycopy(i,0,a,0,i.length),H.arraycopy(t,0,a,i.length,t.length),this.resultPoints=a}}getTimestamp(){return this.timestamp}toString(){return this.text}}var He;(function(O){O[O.AZTEC=0]="AZTEC",O[O.CODABAR=1]="CODABAR",O[O.CODE_39=2]="CODE_39",O[O.CODE_93=3]="CODE_93",O[O.CODE_128=4]="CODE_128",O[O.DATA_MATRIX=5]="DATA_MATRIX",O[O.EAN_8=6]="EAN_8",O[O.EAN_13=7]="EAN_13",O[O.ITF=8]="ITF",O[O.MAXICODE=9]="MAXICODE",O[O.PDF_417=10]="PDF_417",O[O.QR_CODE=11]="QR_CODE",O[O.RSS_14=12]="RSS_14",O[O.RSS_EXPANDED=13]="RSS_EXPANDED",O[O.UPC_A=14]="UPC_A",O[O.UPC_E=15]="UPC_E",O[O.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(He||(He={}));var be=He,ct;(function(O){O[O.OTHER=0]="OTHER",O[O.ORIENTATION=1]="ORIENTATION",O[O.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",O[O.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",O[O.ISSUE_NUMBER=4]="ISSUE_NUMBER",O[O.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",O[O.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",O[O.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",O[O.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",O[O.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",O[O.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(ct||(ct={}));var ht=ct;class Lt{constructor(t,i,a,u,h=-1,d=-1){this.rawBytes=t,this.text=i,this.byteSegments=a,this.ecLevel=u,this.structuredAppendSequenceNumber=h,this.structuredAppendParity=d,this.numBits=t==null?0:8*t.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(t){this.numBits=t}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(t){this.errorsCorrected=t}getErasures(){return this.erasures}setErasures(t){this.erasures=t}getOther(){return this.other}setOther(t){this.other=t}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Ui{exp(t){return this.expTable[t]}log(t){if(t===0)throw new R;return this.logTable[t]}static addOrSubtract(t,i){return t^i}}class wn{constructor(t,i){if(i.length===0)throw new R;this.field=t;const a=i.length;if(a>1&&i[0]===0){let u=1;for(;u<a&&i[u]===0;)u++;u===a?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(a-u),H.arraycopy(i,u,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);const i=this.coefficients;let a;if(t===1){a=0;for(let d=0,p=i.length;d!==p;d++){const x=i[d];a=Ui.addOrSubtract(a,x)}return a}a=i[0];const u=i.length,h=this.field;for(let d=1;d<u;d++)a=Ui.addOrSubtract(h.multiply(t,a),i[d]);return a}addOrSubtract(t){if(!this.field.equals(t.field))throw new R("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;let i=this.coefficients,a=t.coefficients;if(i.length>a.length){const d=i;i=a,a=d}let u=new Int32Array(a.length);const h=a.length-i.length;H.arraycopy(a,0,u,0,h);for(let d=h;d<a.length;d++)u[d]=Ui.addOrSubtract(i[d-h],a[d]);return new wn(this.field,u)}multiply(t){if(!this.field.equals(t.field))throw new R("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();const i=this.coefficients,a=i.length,u=t.coefficients,h=u.length,d=new Int32Array(a+h-1),p=this.field;for(let x=0;x<a;x++){const E=i[x];for(let C=0;C<h;C++)d[x+C]=Ui.addOrSubtract(d[x+C],p.multiply(E,u[C]))}return new wn(p,d)}multiplyScalar(t){if(t===0)return this.field.getZero();if(t===1)return this;const i=this.coefficients.length,a=this.field,u=new Int32Array(i),h=this.coefficients;for(let d=0;d<i;d++)u[d]=a.multiply(h[d],t);return new wn(a,u)}multiplyByMonomial(t,i){if(t<0)throw new R;if(i===0)return this.field.getZero();const a=this.coefficients,u=a.length,h=new Int32Array(u+t),d=this.field;for(let p=0;p<u;p++)h[p]=d.multiply(a[p],i);return new wn(d,h)}divide(t){if(!this.field.equals(t.field))throw new R("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new R("Divide by 0");const i=this.field;let a=i.getZero(),u=this;const h=t.getCoefficient(t.getDegree()),d=i.inverse(h);for(;u.getDegree()>=t.getDegree()&&!u.isZero();){const p=u.getDegree()-t.getDegree(),x=i.multiply(u.getCoefficient(u.getDegree()),d),E=t.multiplyByMonomial(p,x),C=i.buildMonomial(p,x);a=a.addOrSubtract(C),u=u.addOrSubtract(E)}return[a,u]}toString(){let t="";for(let i=this.getDegree();i>=0;i--){let a=this.getCoefficient(i);if(a!==0){if(a<0?(t+=" - ",a=-a):t.length>0&&(t+=" + "),i===0||a!==1){const u=this.field.log(a);u===0?t+="1":u===1?t+="a":(t+="a^",t+=u)}i!==0&&(i===1?t+="x":(t+="x^",t+=i))}}return t}}class Fr extends v{}Fr.kind="ArithmeticException";class ft extends Ui{constructor(t,i,a){super(),this.primitive=t,this.size=i,this.generatorBase=a;const u=new Int32Array(i);let h=1;for(let p=0;p<i;p++)u[p]=h,h*=2,h>=i&&(h^=t,h&=i-1);this.expTable=u;const d=new Int32Array(i);for(let p=0;p<i-1;p++)d[u[p]]=p;this.logTable=d,this.zero=new wn(this,Int32Array.from([0])),this.one=new wn(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,i){if(t<0)throw new R;if(i===0)return this.zero;const a=new Int32Array(t+1);return a[0]=i,new wn(this,a)}inverse(t){if(t===0)throw new Fr;return this.expTable[this.size-this.logTable[t]-1]}multiply(t,i){return t===0||i===0?0:this.expTable[(this.logTable[t]+this.logTable[i])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+X.toHexString(this.primitive)+","+this.size+")"}equals(t){return t===this}}ft.AZTEC_DATA_12=new ft(4201,4096,1),ft.AZTEC_DATA_10=new ft(1033,1024,1),ft.AZTEC_DATA_6=new ft(67,64,1),ft.AZTEC_PARAM=new ft(19,16,1),ft.QR_CODE_FIELD_256=new ft(285,256,0),ft.DATA_MATRIX_FIELD_256=new ft(301,256,1),ft.AZTEC_DATA_8=ft.DATA_MATRIX_FIELD_256,ft.MAXICODE_FIELD_64=ft.AZTEC_DATA_6;class Xn extends v{}Xn.kind="ReedSolomonException";class Wn extends v{}Wn.kind="IllegalStateException";class fr{constructor(t){this.field=t}decode(t,i){const a=this.field,u=new wn(a,t),h=new Int32Array(i);let d=!0;for(let L=0;L<i;L++){const j=u.evaluateAt(a.exp(L+a.getGeneratorBase()));h[h.length-1-L]=j,j!==0&&(d=!1)}if(d)return;const p=new wn(a,h),x=this.runEuclideanAlgorithm(a.buildMonomial(i,1),p,i),E=x[0],C=x[1],N=this.findErrorLocations(E),I=this.findErrorMagnitudes(C,N);for(let L=0;L<N.length;L++){const j=t.length-1-a.log(N[L]);if(j<0)throw new Xn("Bad error location");t[j]=ft.addOrSubtract(t[j],I[L])}}runEuclideanAlgorithm(t,i,a){if(t.getDegree()<i.getDegree()){const L=t;t=i,i=L}const u=this.field;let h=t,d=i,p=u.getZero(),x=u.getOne();for(;d.getDegree()>=(a/2|0);){let L=h,j=p;if(h=d,p=x,h.isZero())throw new Xn("r_{i-1} was zero");d=L;let P=u.getZero();const q=h.getCoefficient(h.getDegree()),te=u.inverse(q);for(;d.getDegree()>=h.getDegree()&&!d.isZero();){const xe=d.getDegree()-h.getDegree(),ye=u.multiply(d.getCoefficient(d.getDegree()),te);P=P.addOrSubtract(u.buildMonomial(xe,ye)),d=d.addOrSubtract(h.multiplyByMonomial(xe,ye))}if(x=P.multiply(p).addOrSubtract(j),d.getDegree()>=h.getDegree())throw new Wn("Division algorithm failed to reduce polynomial?")}const E=x.getCoefficient(0);if(E===0)throw new Xn("sigmaTilde(0) was zero");const C=u.inverse(E),N=x.multiplyScalar(C),I=d.multiplyScalar(C);return[N,I]}findErrorLocations(t){const i=t.getDegree();if(i===1)return Int32Array.from([t.getCoefficient(1)]);const a=new Int32Array(i);let u=0;const h=this.field;for(let d=1;d<h.getSize()&&u<i;d++)t.evaluateAt(d)===0&&(a[u]=h.inverse(d),u++);if(u!==i)throw new Xn("Error locator degree does not match number of roots");return a}findErrorMagnitudes(t,i){const a=i.length,u=new Int32Array(a),h=this.field;for(let d=0;d<a;d++){const p=h.inverse(i[d]);let x=1;for(let E=0;E<a;E++)if(d!==E){const C=h.multiply(i[E],p),N=(C&1)===0?C|1:C&-2;x=h.multiply(x,N)}u[d]=h.multiply(t.evaluateAt(p),h.inverse(x)),h.getGeneratorBase()!==0&&(u[d]=h.multiply(u[d],p))}return u}}var bn;(function(O){O[O.UPPER=0]="UPPER",O[O.LOWER=1]="LOWER",O[O.MIXED=2]="MIXED",O[O.DIGIT=3]="DIGIT",O[O.PUNCT=4]="PUNCT",O[O.BINARY=5]="BINARY"})(bn||(bn={}));class St{decode(t){this.ddata=t;let i=t.getBits(),a=this.extractBits(i),u=this.correctBits(a),h=St.convertBoolArrayToByteArray(u),d=St.getEncodedData(u),p=new Lt(h,d,null,null);return p.setNumBits(u.length),p}static highLevelDecode(t){return this.getEncodedData(t)}static getEncodedData(t){let i=t.length,a=bn.UPPER,u=bn.UPPER,h="",d=0;for(;d<i;)if(u===bn.BINARY){if(i-d<5)break;let p=St.readCode(t,d,5);if(d+=5,p===0){if(i-d<11)break;p=St.readCode(t,d,11)+31,d+=11}for(let x=0;x<p;x++){if(i-d<8){d=i;break}const E=St.readCode(t,d,8);h+=Ne.castAsNonUtf8Char(E),d+=8}u=a}else{let p=u===bn.DIGIT?4:5;if(i-d<p)break;let x=St.readCode(t,d,p);d+=p;let E=St.getCharacter(u,x);E.startsWith("CTRL_")?(a=u,u=St.getTable(E.charAt(5)),E.charAt(6)==="L"&&(a=u)):(h+=E,u=a)}return h}static getTable(t){switch(t){case"L":return bn.LOWER;case"P":return bn.PUNCT;case"M":return bn.MIXED;case"D":return bn.DIGIT;case"B":return bn.BINARY;default:return bn.UPPER}}static getCharacter(t,i){switch(t){case bn.UPPER:return St.UPPER_TABLE[i];case bn.LOWER:return St.LOWER_TABLE[i];case bn.MIXED:return St.MIXED_TABLE[i];case bn.PUNCT:return St.PUNCT_TABLE[i];case bn.DIGIT:return St.DIGIT_TABLE[i];default:throw new Wn("Bad table")}}correctBits(t){let i,a;this.ddata.getNbLayers()<=2?(a=6,i=ft.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(a=8,i=ft.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(a=10,i=ft.AZTEC_DATA_10):(a=12,i=ft.AZTEC_DATA_12);let u=this.ddata.getNbDatablocks(),h=t.length/a;if(h<u)throw new ne;let d=t.length%a,p=new Int32Array(h);for(let I=0;I<h;I++,d+=a)p[I]=St.readCode(t,d,a);try{new fr(i).decode(p,h-u)}catch(I){throw new ne(I)}let x=(1<<a)-1,E=0;for(let I=0;I<u;I++){let L=p[I];if(L===0||L===x)throw new ne;(L===1||L===x-1)&&E++}let C=new Array(u*a-E),N=0;for(let I=0;I<u;I++){let L=p[I];if(L===1||L===x-1)C.fill(L>1,N,N+a-1),N+=a-1;else for(let j=a-1;j>=0;--j)C[N++]=(L&1<<j)!==0}return C}extractBits(t){let i=this.ddata.isCompact(),a=this.ddata.getNbLayers(),u=(i?11:14)+a*4,h=new Int32Array(u),d=new Array(this.totalBitsInLayer(a,i));if(i)for(let p=0;p<h.length;p++)h[p]=p;else{let p=u+1+2*X.truncDivision(X.truncDivision(u,2)-1,15),x=u/2,E=X.truncDivision(p,2);for(let C=0;C<x;C++){let N=C+X.truncDivision(C,15);h[x-C-1]=E-N-1,h[x+C]=E+N+1}}for(let p=0,x=0;p<a;p++){let E=(a-p)*4+(i?9:12),C=p*2,N=u-1-C;for(let I=0;I<E;I++){let L=I*2;for(let j=0;j<2;j++)d[x+L+j]=t.get(h[C+j],h[C+I]),d[x+2*E+L+j]=t.get(h[C+I],h[N-j]),d[x+4*E+L+j]=t.get(h[N-j],h[N-I]),d[x+6*E+L+j]=t.get(h[N-I],h[C+j])}x+=E*8}return d}static readCode(t,i,a){let u=0;for(let h=i;h<i+a;h++)u<<=1,t[h]&&(u|=1);return u}static readByte(t,i){let a=t.length-i;return a>=8?St.readCode(t,i,8):St.readCode(t,i,a)<<8-a}static convertBoolArrayToByteArray(t){let i=new Uint8Array((t.length+7)/8);for(let a=0;a<i.length;a++)i[a]=St.readByte(t,8*a);return i}totalBitsInLayer(t,i){return((i?88:112)+16*t)*t}}St.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],St.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],St.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],St.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],St.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class $e{constructor(){}static round(t){return t===NaN?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0}static distance(t,i,a,u){const h=t-a,d=i-u;return Math.sqrt(h*h+d*d)}static sum(t){let i=0;for(let a=0,u=t.length;a!==u;a++){const h=t[a];i+=h}return i}}class Hr{static floatToIntBits(t){return t}}Hr.MAX_VALUE=Number.MAX_SAFE_INTEGER;class _e{constructor(t,i){this.x=t,this.y=i}getX(){return this.x}getY(){return this.y}equals(t){if(t instanceof _e){const i=t;return this.x===i.x&&this.y===i.y}return!1}hashCode(){return 31*Hr.floatToIntBits(this.x)+Hr.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(t){const i=this.distance(t[0],t[1]),a=this.distance(t[1],t[2]),u=this.distance(t[0],t[2]);let h,d,p;if(a>=i&&a>=u?(d=t[0],h=t[1],p=t[2]):u>=a&&u>=i?(d=t[1],h=t[0],p=t[2]):(d=t[2],h=t[0],p=t[1]),this.crossProductZ(h,d,p)<0){const x=h;h=p,p=x}t[0]=h,t[1]=d,t[2]=p}static distance(t,i){return $e.distance(t.x,t.y,i.x,i.y)}static crossProductZ(t,i,a){const u=i.x,h=i.y;return(a.x-u)*(t.y-h)-(a.y-h)*(t.x-u)}}class os{constructor(t,i){this.bits=t,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class So extends os{constructor(t,i,a,u,h){super(t,i),this.compact=a,this.nbDatablocks=u,this.nbLayers=h}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Kt{constructor(t,i,a,u){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),i==null&&(i=Kt.INIT_SIZE),a==null&&(a=t.getWidth()/2|0),u==null&&(u=t.getHeight()/2|0);const h=i/2|0;if(this.leftInit=a-h,this.rightInit=a+h,this.upInit=u-h,this.downInit=u+h,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new se}detect(){let t=this.leftInit,i=this.rightInit,a=this.upInit,u=this.downInit,h=!1,d=!0,p=!1,x=!1,E=!1,C=!1,N=!1;const I=this.width,L=this.height;for(;d;){d=!1;let j=!0;for(;(j||!x)&&i<I;)j=this.containsBlackPoint(a,u,i,!1),j?(i++,d=!0,x=!0):x||i++;if(i>=I){h=!0;break}let P=!0;for(;(P||!E)&&u<L;)P=this.containsBlackPoint(t,i,u,!0),P?(u++,d=!0,E=!0):E||u++;if(u>=L){h=!0;break}let q=!0;for(;(q||!C)&&t>=0;)q=this.containsBlackPoint(a,u,t,!1),q?(t--,d=!0,C=!0):C||t--;if(t<0){h=!0;break}let te=!0;for(;(te||!N)&&a>=0;)te=this.containsBlackPoint(t,i,a,!0),te?(a--,d=!0,N=!0):N||a--;if(a<0){h=!0;break}d&&(p=!0)}if(!h&&p){const j=i-t;let P=null;for(let ye=1;P===null&&ye<j;ye++)P=this.getBlackPointOnSegment(t,u-ye,t+ye,u);if(P==null)throw new se;let q=null;for(let ye=1;q===null&&ye<j;ye++)q=this.getBlackPointOnSegment(t,a+ye,t+ye,a);if(q==null)throw new se;let te=null;for(let ye=1;te===null&&ye<j;ye++)te=this.getBlackPointOnSegment(i,a+ye,i-ye,a);if(te==null)throw new se;let xe=null;for(let ye=1;xe===null&&ye<j;ye++)xe=this.getBlackPointOnSegment(i,u-ye,i-ye,u);if(xe==null)throw new se;return this.centerEdges(xe,P,te,q)}else throw new se}getBlackPointOnSegment(t,i,a,u){const h=$e.round($e.distance(t,i,a,u)),d=(a-t)/h,p=(u-i)/h,x=this.image;for(let E=0;E<h;E++){const C=$e.round(t+E*d),N=$e.round(i+E*p);if(x.get(C,N))return new _e(C,N)}return null}centerEdges(t,i,a,u){const h=t.getX(),d=t.getY(),p=i.getX(),x=i.getY(),E=a.getX(),C=a.getY(),N=u.getX(),I=u.getY(),L=Kt.CORR;return h<this.width/2?[new _e(N-L,I+L),new _e(p+L,x+L),new _e(E-L,C-L),new _e(h+L,d-L)]:[new _e(N+L,I+L),new _e(p+L,x-L),new _e(E-L,C+L),new _e(h-L,d-L)]}containsBlackPoint(t,i,a,u){const h=this.image;if(u){for(let d=t;d<=i;d++)if(h.get(d,a))return!0}else for(let d=t;d<=i;d++)if(h.get(a,d))return!0;return!1}}Kt.INIT_SIZE=10,Kt.CORR=1;class ul{static checkAndNudgePoints(t,i){const a=t.getWidth(),u=t.getHeight();let h=!0;for(let d=0;d<i.length&&h;d+=2){const p=Math.floor(i[d]),x=Math.floor(i[d+1]);if(p<-1||p>a||x<-1||x>u)throw new se;h=!1,p===-1?(i[d]=0,h=!0):p===a&&(i[d]=a-1,h=!0),x===-1?(i[d+1]=0,h=!0):x===u&&(i[d+1]=u-1,h=!0)}h=!0;for(let d=i.length-2;d>=0&&h;d-=2){const p=Math.floor(i[d]),x=Math.floor(i[d+1]);if(p<-1||p>a||x<-1||x>u)throw new se;h=!1,p===-1?(i[d]=0,h=!0):p===a&&(i[d]=a-1,h=!0),x===-1?(i[d+1]=0,h=!0):x===u&&(i[d+1]=u-1,h=!0)}}}class Zn{constructor(t,i,a,u,h,d,p,x,E){this.a11=t,this.a21=i,this.a31=a,this.a12=u,this.a22=h,this.a32=d,this.a13=p,this.a23=x,this.a33=E}static quadrilateralToQuadrilateral(t,i,a,u,h,d,p,x,E,C,N,I,L,j,P,q){const te=Zn.quadrilateralToSquare(t,i,a,u,h,d,p,x);return Zn.squareToQuadrilateral(E,C,N,I,L,j,P,q).times(te)}transformPoints(t){const i=t.length,a=this.a11,u=this.a12,h=this.a13,d=this.a21,p=this.a22,x=this.a23,E=this.a31,C=this.a32,N=this.a33;for(let I=0;I<i;I+=2){const L=t[I],j=t[I+1],P=h*L+x*j+N;t[I]=(a*L+d*j+E)/P,t[I+1]=(u*L+p*j+C)/P}}transformPointsWithValues(t,i){const a=this.a11,u=this.a12,h=this.a13,d=this.a21,p=this.a22,x=this.a23,E=this.a31,C=this.a32,N=this.a33,I=t.length;for(let L=0;L<I;L++){const j=t[L],P=i[L],q=h*j+x*P+N;t[L]=(a*j+d*P+E)/q,i[L]=(u*j+p*P+C)/q}}static squareToQuadrilateral(t,i,a,u,h,d,p,x){const E=t-a+h-p,C=i-u+d-x;if(E===0&&C===0)return new Zn(a-t,h-a,t,u-i,d-u,i,0,0,1);{const N=a-h,I=p-h,L=u-d,j=x-d,P=N*j-I*L,q=(E*j-I*C)/P,te=(N*C-E*L)/P;return new Zn(a-t+q*a,p-t+te*p,t,u-i+q*u,x-i+te*x,i,q,te,1)}}static quadrilateralToSquare(t,i,a,u,h,d,p,x){return Zn.squareToQuadrilateral(t,i,a,u,h,d,p,x).buildAdjoint()}buildAdjoint(){return new Zn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(t){return new Zn(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)}}class cl extends ul{sampleGrid(t,i,a,u,h,d,p,x,E,C,N,I,L,j,P,q,te,xe,ye){const me=Zn.quadrilateralToQuadrilateral(u,h,d,p,x,E,C,N,I,L,j,P,q,te,xe,ye);return this.sampleGridWithTransform(t,i,a,me)}sampleGridWithTransform(t,i,a,u){if(i<=0||a<=0)throw new se;const h=new Nt(i,a),d=new Float32Array(2*i);for(let p=0;p<a;p++){const x=d.length,E=p+.5;for(let C=0;C<x;C+=2)d[C]=C/2+.5,d[C+1]=E;u.transformPoints(d),ul.checkAndNudgePoints(t,d);try{for(let C=0;C<x;C+=2)t.get(Math.floor(d[C]),Math.floor(d[C+1]))&&h.set(C/2,p)}catch{throw new se}}return h}}class ai{static setGridSampler(t){ai.gridSampler=t}static getInstance(){return ai.gridSampler}}ai.gridSampler=new cl;class Nn{constructor(t,i){this.x=t,this.y=i}toResultPoint(){return new _e(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class hl{constructor(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}detect(){return this.detectMirror(!1)}detectMirror(t){let i=this.getMatrixCenter(),a=this.getBullsEyeCorners(i);if(t){let d=a[0];a[0]=a[2],a[2]=d}this.extractParameters(a);let u=this.sampleGrid(this.image,a[this.shift%4],a[(this.shift+1)%4],a[(this.shift+2)%4],a[(this.shift+3)%4]),h=this.getMatrixCornerPoints(a);return new So(u,h,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(t){if(!this.isValidPoint(t[0])||!this.isValidPoint(t[1])||!this.isValidPoint(t[2])||!this.isValidPoint(t[3]))throw new se;let i=2*this.nbCenterLayers,a=new Int32Array([this.sampleLine(t[0],t[1],i),this.sampleLine(t[1],t[2],i),this.sampleLine(t[2],t[3],i),this.sampleLine(t[3],t[0],i)]);this.shift=this.getRotation(a,i);let u=0;for(let d=0;d<4;d++){let p=a[(this.shift+d)%4];this.compact?(u<<=7,u+=p>>1&127):(u<<=10,u+=(p>>2&992)+(p>>1&31))}let h=this.getCorrectedParameterData(u,this.compact);this.compact?(this.nbLayers=(h>>6)+1,this.nbDataBlocks=(h&63)+1):(this.nbLayers=(h>>11)+1,this.nbDataBlocks=(h&2047)+1)}getRotation(t,i){let a=0;t.forEach((u,h,d)=>{let p=(u>>i-2<<1)+(u&1);a=(a<<3)+p}),a=((a&1)<<11)+(a>>1);for(let u=0;u<4;u++)if(X.bitCount(a^this.EXPECTED_CORNER_BITS[u])<=2)return u;throw new se}getCorrectedParameterData(t,i){let a,u;i?(a=7,u=2):(a=10,u=4);let h=a-u,d=new Int32Array(a);for(let x=a-1;x>=0;--x)d[x]=t&15,t>>=4;try{new fr(ft.AZTEC_PARAM).decode(d,h)}catch{throw new se}let p=0;for(let x=0;x<u;x++)p=(p<<4)+d[x];return p}getBullsEyeCorners(t){let i=t,a=t,u=t,h=t,d=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let N=this.getFirstDifferent(i,d,1,-1),I=this.getFirstDifferent(a,d,1,1),L=this.getFirstDifferent(u,d,-1,1),j=this.getFirstDifferent(h,d,-1,-1);if(this.nbCenterLayers>2){let P=this.distancePoint(j,N)*this.nbCenterLayers/(this.distancePoint(h,i)*(this.nbCenterLayers+2));if(P<.75||P>1.25||!this.isWhiteOrBlackRectangle(N,I,L,j))break}i=N,a=I,u=L,h=j,d=!d}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new se;this.compact=this.nbCenterLayers===5;let p=new _e(i.getX()+.5,i.getY()-.5),x=new _e(a.getX()+.5,a.getY()+.5),E=new _e(u.getX()-.5,u.getY()+.5),C=new _e(h.getX()-.5,h.getY()-.5);return this.expandSquare([p,x,E,C],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let t,i,a,u;try{let p=new Kt(this.image).detect();t=p[0],i=p[1],a=p[2],u=p[3]}catch{let x=this.image.getWidth()/2,E=this.image.getHeight()/2;t=this.getFirstDifferent(new Nn(x+7,E-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new Nn(x+7,E+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new Nn(x-7,E+7),!1,-1,1).toResultPoint(),u=this.getFirstDifferent(new Nn(x-7,E-7),!1,-1,-1).toResultPoint()}let h=$e.round((t.getX()+u.getX()+i.getX()+a.getX())/4),d=$e.round((t.getY()+u.getY()+i.getY()+a.getY())/4);try{let p=new Kt(this.image,15,h,d).detect();t=p[0],i=p[1],a=p[2],u=p[3]}catch{t=this.getFirstDifferent(new Nn(h+7,d-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new Nn(h+7,d+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new Nn(h-7,d+7),!1,-1,1).toResultPoint(),u=this.getFirstDifferent(new Nn(h-7,d-7),!1,-1,-1).toResultPoint()}return h=$e.round((t.getX()+u.getX()+i.getX()+a.getX())/4),d=$e.round((t.getY()+u.getY()+i.getY()+a.getY())/4),new Nn(h,d)}getMatrixCornerPoints(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())}sampleGrid(t,i,a,u,h){let d=ai.getInstance(),p=this.getDimension(),x=p/2-this.nbCenterLayers,E=p/2+this.nbCenterLayers;return d.sampleGrid(t,p,p,x,x,E,x,E,E,x,E,i.getX(),i.getY(),a.getX(),a.getY(),u.getX(),u.getY(),h.getX(),h.getY())}sampleLine(t,i,a){let u=0,h=this.distanceResultPoint(t,i),d=h/a,p=t.getX(),x=t.getY(),E=d*(i.getX()-t.getX())/h,C=d*(i.getY()-t.getY())/h;for(let N=0;N<a;N++)this.image.get($e.round(p+N*E),$e.round(x+N*C))&&(u|=1<<a-N-1);return u}isWhiteOrBlackRectangle(t,i,a,u){let h=3;t=new Nn(t.getX()-h,t.getY()+h),i=new Nn(i.getX()-h,i.getY()-h),a=new Nn(a.getX()+h,a.getY()-h),u=new Nn(u.getX()+h,u.getY()+h);let d=this.getColor(u,t);if(d===0)return!1;let p=this.getColor(t,i);return p!==d||(p=this.getColor(i,a),p!==d)?!1:(p=this.getColor(a,u),p===d)}getColor(t,i){let a=this.distancePoint(t,i),u=(i.getX()-t.getX())/a,h=(i.getY()-t.getY())/a,d=0,p=t.getX(),x=t.getY(),E=this.image.get(t.getX(),t.getY()),C=Math.ceil(a);for(let I=0;I<C;I++)p+=u,x+=h,this.image.get($e.round(p),$e.round(x))!==E&&d++;let N=d/a;return N>.1&&N<.9?0:N<=.1===E?1:-1}getFirstDifferent(t,i,a,u){let h=t.getX()+a,d=t.getY()+u;for(;this.isValid(h,d)&&this.image.get(h,d)===i;)h+=a,d+=u;for(h-=a,d-=u;this.isValid(h,d)&&this.image.get(h,d)===i;)h+=a;for(h-=a;this.isValid(h,d)&&this.image.get(h,d)===i;)d+=u;return d-=u,new Nn(h,d)}expandSquare(t,i,a){let u=a/(2*i),h=t[0].getX()-t[2].getX(),d=t[0].getY()-t[2].getY(),p=(t[0].getX()+t[2].getX())/2,x=(t[0].getY()+t[2].getY())/2,E=new _e(p+u*h,x+u*d),C=new _e(p-u*h,x-u*d);h=t[1].getX()-t[3].getX(),d=t[1].getY()-t[3].getY(),p=(t[1].getX()+t[3].getX())/2,x=(t[1].getY()+t[3].getY())/2;let N=new _e(p+u*h,x+u*d),I=new _e(p-u*h,x-u*d);return[E,N,C,I]}isValid(t,i){return t>=0&&t<this.image.getWidth()&&i>0&&i<this.image.getHeight()}isValidPoint(t){let i=$e.round(t.getX()),a=$e.round(t.getY());return this.isValid(i,a)}distancePoint(t,i){return $e.distance(t.getX(),t.getY(),i.getX(),i.getY())}distanceResultPoint(t,i){return $e.distance(t.getX(),t.getY(),i.getX(),i.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(X.truncDivision(this.nbLayers-4,8)+1)+15}}class us{decode(t,i=null){let a=null,u=new hl(t.getBlackMatrix()),h=null,d=null;try{let C=u.detectMirror(!1);h=C.getPoints(),this.reportFoundResultPoints(i,h),d=new St().decode(C)}catch(C){a=C}if(d==null)try{let C=u.detectMirror(!0);h=C.getPoints(),this.reportFoundResultPoints(i,h),d=new St().decode(C)}catch(C){throw a??C}let p=new Ae(d.getText(),d.getRawBytes(),d.getNumBits(),h,be.AZTEC,H.currentTimeMillis()),x=d.getByteSegments();x!=null&&p.putMetadata(ht.BYTE_SEGMENTS,x);let E=d.getECLevel();return E!=null&&p.putMetadata(ht.ERROR_CORRECTION_LEVEL,E),p}reportFoundResultPoints(t,i){if(t!=null){let a=t.get(Ee.NEED_RESULT_POINT_CALLBACK);a!=null&&i.forEach((u,h,d)=>{a.foundPossibleResultPoint(u)})}}reset(){}}class hc extends ve{constructor(t=500){super(new us,t)}}class Pt{decode(t,i){try{return this.doDecode(t,i)}catch{if(i&&i.get(Ee.TRY_HARDER)===!0&&t.isRotateSupported()){const h=t.rotateCounterClockwise(),d=this.doDecode(h,i),p=d.getResultMetadata();let x=270;p!==null&&p.get(ht.ORIENTATION)===!0&&(x=x+p.get(ht.ORIENTATION)%360),d.putMetadata(ht.ORIENTATION,x);const E=d.getResultPoints();if(E!==null){const C=h.getHeight();for(let N=0;N<E.length;N++)E[N]=new _e(C-E[N].getY()-1,E[N].getX())}return d}else throw new se}}reset(){}doDecode(t,i){const a=t.getWidth(),u=t.getHeight();let h=new pe(a);const d=i&&i.get(Ee.TRY_HARDER)===!0,p=Math.max(1,u>>(d?8:5));let x;d?x=u:x=15;const E=Math.trunc(u/2);for(let C=0;C<x;C++){const N=Math.trunc((C+1)/2),I=(C&1)===0,L=E+p*(I?N:-N);if(L<0||L>=u)break;try{h=t.getBlackRow(L,h)}catch{continue}for(let j=0;j<2;j++){if(j===1&&(h.reverse(),i&&i.get(Ee.NEED_RESULT_POINT_CALLBACK)===!0)){const P=new Map;i.forEach((q,te)=>P.set(te,q)),P.delete(Ee.NEED_RESULT_POINT_CALLBACK),i=P}try{const P=this.decodeRow(L,h,i);if(j===1){P.putMetadata(ht.ORIENTATION,180);const q=P.getResultPoints();q!==null&&(q[0]=new _e(a-q[0].getX()-1,q[0].getY()),q[1]=new _e(a-q[1].getX()-1,q[1].getY()))}return P}catch{}}}throw new se}static recordPattern(t,i,a){const u=a.length;for(let E=0;E<u;E++)a[E]=0;const h=t.getSize();if(i>=h)throw new se;let d=!t.get(i),p=0,x=i;for(;x<h;){if(t.get(x)!==d)a[p]++;else{if(++p===u)break;a[p]=1,d=!d}x++}if(!(p===u||p===u-1&&x===h))throw new se}static recordPatternInReverse(t,i,a){let u=a.length,h=t.get(i);for(;i>0&&u>=0;)t.get(--i)!==h&&(u--,h=!h);if(u>=0)throw new se;Pt.recordPattern(t,i+1,a)}static patternMatchVariance(t,i,a){const u=t.length;let h=0,d=0;for(let E=0;E<u;E++)h+=t[E],d+=i[E];if(h<d)return Number.POSITIVE_INFINITY;const p=h/d;a*=p;let x=0;for(let E=0;E<u;E++){const C=t[E],N=i[E]*p,I=C>N?C-N:N-C;if(I>a)return Number.POSITIVE_INFINITY;x+=I}return x/h}}class we extends Pt{static findStartPattern(t){const i=t.getSize(),a=t.getNextSet(0);let u=0,h=Int32Array.from([0,0,0,0,0,0]),d=a,p=!1;const x=6;for(let E=a;E<i;E++)if(t.get(E)!==p)h[u]++;else{if(u===x-1){let C=we.MAX_AVG_VARIANCE,N=-1;for(let I=we.CODE_START_A;I<=we.CODE_START_C;I++){const L=Pt.patternMatchVariance(h,we.CODE_PATTERNS[I],we.MAX_INDIVIDUAL_VARIANCE);L<C&&(C=L,N=I)}if(N>=0&&t.isRange(Math.max(0,d-(E-d)/2),d,!1))return Int32Array.from([d,E,N]);d+=h[0]+h[1],h=h.slice(2,h.length-1),h[u-1]=0,h[u]=0,u--}else u++;h[u]=1,p=!p}throw new se}static decodeCode(t,i,a){Pt.recordPattern(t,a,i);let u=we.MAX_AVG_VARIANCE,h=-1;for(let d=0;d<we.CODE_PATTERNS.length;d++){const p=we.CODE_PATTERNS[d],x=this.patternMatchVariance(i,p,we.MAX_INDIVIDUAL_VARIANCE);x<u&&(u=x,h=d)}if(h>=0)return h;throw new se}decodeRow(t,i,a){const u=a&&a.get(Ee.ASSUME_GS1)===!0,h=we.findStartPattern(i),d=h[2];let p=0;const x=new Uint8Array(20);x[p++]=d;let E;switch(d){case we.CODE_START_A:E=we.CODE_CODE_A;break;case we.CODE_START_B:E=we.CODE_CODE_B;break;case we.CODE_START_C:E=we.CODE_CODE_C;break;default:throw new ne}let C=!1,N=!1,I="",L=h[0],j=h[1];const P=Int32Array.from([0,0,0,0,0,0]);let q=0,te=0,xe=d,ye=0,me=!0,Ke=!1,Ge=!1;for(;!C;){const wr=N;switch(N=!1,q=te,te=we.decodeCode(i,P,j),x[p++]=te,te!==we.CODE_STOP&&(me=!0),te!==we.CODE_STOP&&(ye++,xe+=ye*te),L=j,j+=P.reduce((Po,Al)=>Po+Al,0),te){case we.CODE_START_A:case we.CODE_START_B:case we.CODE_START_C:throw new ne}switch(E){case we.CODE_CODE_A:if(te<64)Ge===Ke?I+=String.fromCharCode(32+te):I+=String.fromCharCode(32+te+128),Ge=!1;else if(te<96)Ge===Ke?I+=String.fromCharCode(te-64):I+=String.fromCharCode(te+64),Ge=!1;else switch(te!==we.CODE_STOP&&(me=!1),te){case we.CODE_FNC_1:u&&(I.length===0?I+="]C1":I+="");break;case we.CODE_FNC_2:case we.CODE_FNC_3:break;case we.CODE_FNC_4_A:!Ke&&Ge?(Ke=!0,Ge=!1):Ke&&Ge?(Ke=!1,Ge=!1):Ge=!0;break;case we.CODE_SHIFT:N=!0,E=we.CODE_CODE_B;break;case we.CODE_CODE_B:E=we.CODE_CODE_B;break;case we.CODE_CODE_C:E=we.CODE_CODE_C;break;case we.CODE_STOP:C=!0;break}break;case we.CODE_CODE_B:if(te<96)Ge===Ke?I+=String.fromCharCode(32+te):I+=String.fromCharCode(32+te+128),Ge=!1;else switch(te!==we.CODE_STOP&&(me=!1),te){case we.CODE_FNC_1:u&&(I.length===0?I+="]C1":I+="");break;case we.CODE_FNC_2:case we.CODE_FNC_3:break;case we.CODE_FNC_4_B:!Ke&&Ge?(Ke=!0,Ge=!1):Ke&&Ge?(Ke=!1,Ge=!1):Ge=!0;break;case we.CODE_SHIFT:N=!0,E=we.CODE_CODE_A;break;case we.CODE_CODE_A:E=we.CODE_CODE_A;break;case we.CODE_CODE_C:E=we.CODE_CODE_C;break;case we.CODE_STOP:C=!0;break}break;case we.CODE_CODE_C:if(te<100)te<10&&(I+="0"),I+=te;else switch(te!==we.CODE_STOP&&(me=!1),te){case we.CODE_FNC_1:u&&(I.length===0?I+="]C1":I+="");break;case we.CODE_CODE_A:E=we.CODE_CODE_A;break;case we.CODE_CODE_B:E=we.CODE_CODE_B;break;case we.CODE_STOP:C=!0;break}break}wr&&(E=E===we.CODE_CODE_A?we.CODE_CODE_B:we.CODE_CODE_A)}const en=j-L;if(j=i.getNextUnset(j),!i.isRange(j,Math.min(i.getSize(),j+(j-L)/2),!1))throw new se;if(xe-=ye*q,xe%103!==q)throw new B;const $n=I.length;if($n===0)throw new se;$n>0&&me&&(E===we.CODE_CODE_C?I=I.substring(0,$n-2):I=I.substring(0,$n-1));const In=(h[1]+h[0])/2,At=L+en/2,Sn=x.length,Yn=new Uint8Array(Sn);for(let wr=0;wr<Sn;wr++)Yn[wr]=x[wr];const na=[new _e(In,t),new _e(At,t)];return new Ae(I,Yn,0,na,be.CODE_128,new Date().getTime())}}we.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],we.MAX_AVG_VARIANCE=.25,we.MAX_INDIVIDUAL_VARIANCE=.7,we.CODE_SHIFT=98,we.CODE_CODE_C=99,we.CODE_CODE_B=100,we.CODE_CODE_A=101,we.CODE_FNC_1=102,we.CODE_FNC_2=97,we.CODE_FNC_3=96,we.CODE_FNC_4_A=101,we.CODE_FNC_4_B=100,we.CODE_START_A=103,we.CODE_START_B=104,we.CODE_START_C=105,we.CODE_STOP=106;class Rt extends Pt{constructor(t=!1,i=!1){super(),this.usingCheckDigit=t,this.extendedMode=i,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(t,i,a){let u=this.counters;u.fill(0),this.decodeRowResult="";let h=Rt.findAsteriskPattern(i,u),d=i.getNextSet(h[1]),p=i.getSize(),x,E;do{Rt.recordPattern(i,d,u);let P=Rt.toNarrowWidePattern(u);if(P<0)throw new se;x=Rt.patternToChar(P),this.decodeRowResult+=x,E=d;for(let q of u)d+=q;d=i.getNextSet(d)}while(x!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let C=0;for(let P of u)C+=P;let N=d-E-C;if(d!==p&&N*2<C)throw new se;if(this.usingCheckDigit){let P=this.decodeRowResult.length-1,q=0;for(let te=0;te<P;te++)q+=Rt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(te));if(this.decodeRowResult.charAt(P)!==Rt.ALPHABET_STRING.charAt(q%43))throw new B;this.decodeRowResult=this.decodeRowResult.substring(0,P)}if(this.decodeRowResult.length===0)throw new se;let I;this.extendedMode?I=Rt.decodeExtended(this.decodeRowResult):I=this.decodeRowResult;let L=(h[1]+h[0])/2,j=E+C/2;return new Ae(I,null,0,[new _e(L,t),new _e(j,t)],be.CODE_39,new Date().getTime())}static findAsteriskPattern(t,i){let a=t.getSize(),u=t.getNextSet(0),h=0,d=u,p=!1,x=i.length;for(let E=u;E<a;E++)if(t.get(E)!==p)i[h]++;else{if(h===x-1){if(this.toNarrowWidePattern(i)===Rt.ASTERISK_ENCODING&&t.isRange(Math.max(0,d-Math.floor((E-d)/2)),d,!1))return[d,E];d+=i[0]+i[1],i.copyWithin(0,2,2+h-1),i[h-1]=0,i[h]=0,h--}else h++;i[h]=1,p=!p}throw new se}static toNarrowWidePattern(t){let i=t.length,a=0,u;do{let h=2147483647;for(let x of t)x<h&&x>a&&(h=x);a=h,u=0;let d=0,p=0;for(let x=0;x<i;x++){let E=t[x];E>a&&(p|=1<<i-1-x,u++,d+=E)}if(u===3){for(let x=0;x<i&&u>0;x++){let E=t[x];if(E>a&&(u--,E*2>=d))return-1}return p}}while(u>3);return-1}static patternToChar(t){for(let i=0;i<Rt.CHARACTER_ENCODINGS.length;i++)if(Rt.CHARACTER_ENCODINGS[i]===t)return Rt.ALPHABET_STRING.charAt(i);if(t===Rt.ASTERISK_ENCODING)return"*";throw new se}static decodeExtended(t){let i=t.length,a="";for(let u=0;u<i;u++){let h=t.charAt(u);if(h==="+"||h==="$"||h==="%"||h==="/"){let d=t.charAt(u+1),p="\0";switch(h){case"+":if(d>="A"&&d<="Z")p=String.fromCharCode(d.charCodeAt(0)+32);else throw new ne;break;case"$":if(d>="A"&&d<="Z")p=String.fromCharCode(d.charCodeAt(0)-64);else throw new ne;break;case"%":if(d>="A"&&d<="E")p=String.fromCharCode(d.charCodeAt(0)-38);else if(d>="F"&&d<="J")p=String.fromCharCode(d.charCodeAt(0)-11);else if(d>="K"&&d<="O")p=String.fromCharCode(d.charCodeAt(0)+16);else if(d>="P"&&d<="T")p=String.fromCharCode(d.charCodeAt(0)+43);else if(d==="U")p="\0";else if(d==="V")p="@";else if(d==="W")p="`";else if(d==="X"||d==="Y"||d==="Z")p="";else throw new ne;break;case"/":if(d>="A"&&d<="O")p=String.fromCharCode(d.charCodeAt(0)-32);else if(d==="Z")p=":";else throw new ne;break}a+=p,u++}else a+=h}return a}}Rt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Rt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Rt.ASTERISK_ENCODING=148;class Xe extends Pt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(t,i,a){let u=this.decodeStart(i),h=this.decodeEnd(i),d=new it;Xe.decodeMiddle(i,u[1],h[0],d);let p=d.toString(),x=null;a!=null&&(x=a.get(Ee.ALLOWED_LENGTHS)),x==null&&(x=Xe.DEFAULT_ALLOWED_LENGTHS);let E=p.length,C=!1,N=0;for(let j of x){if(E===j){C=!0;break}j>N&&(N=j)}if(!C&&E>N&&(C=!0),!C)throw new ne;const I=[new _e(u[1],t),new _e(h[0],t)];return new Ae(p,null,0,I,be.ITF,new Date().getTime())}static decodeMiddle(t,i,a,u){let h=new Int32Array(10),d=new Int32Array(5),p=new Int32Array(5);for(h.fill(0),d.fill(0),p.fill(0);i<a;){Pt.recordPattern(t,i,h);for(let E=0;E<5;E++){let C=2*E;d[E]=h[C],p[E]=h[C+1]}let x=Xe.decodeDigit(d);u.append(x.toString()),x=this.decodeDigit(p),u.append(x.toString()),h.forEach(function(E){i+=E})}}decodeStart(t){let i=Xe.skipWhiteSpace(t),a=Xe.findGuardPattern(t,i,Xe.START_PATTERN);return this.narrowLineWidth=(a[1]-a[0])/4,this.validateQuietZone(t,a[0]),a}validateQuietZone(t,i){let a=this.narrowLineWidth*10;a=a<i?a:i;for(let u=i-1;a>0&&u>=0&&!t.get(u);u--)a--;if(a!==0)throw new se}static skipWhiteSpace(t){const i=t.getSize(),a=t.getNextSet(0);if(a===i)throw new se;return a}decodeEnd(t){t.reverse();try{let i=Xe.skipWhiteSpace(t),a;try{a=Xe.findGuardPattern(t,i,Xe.END_PATTERN_REVERSED[0])}catch(h){h instanceof se&&(a=Xe.findGuardPattern(t,i,Xe.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,a[0]);let u=a[0];return a[0]=t.getSize()-a[1],a[1]=t.getSize()-u,a}finally{t.reverse()}}static findGuardPattern(t,i,a){let u=a.length,h=new Int32Array(u),d=t.getSize(),p=!1,x=0,E=i;h.fill(0);for(let C=i;C<d;C++)if(t.get(C)!==p)h[x]++;else{if(x===u-1){if(Pt.patternMatchVariance(h,a,Xe.MAX_INDIVIDUAL_VARIANCE)<Xe.MAX_AVG_VARIANCE)return[E,C];E+=h[0]+h[1],H.arraycopy(h,2,h,0,x-1),h[x-1]=0,h[x]=0,x--}else x++;h[x]=1,p=!p}throw new se}static decodeDigit(t){let i=Xe.MAX_AVG_VARIANCE,a=-1,u=Xe.PATTERNS.length;for(let h=0;h<u;h++){let d=Xe.PATTERNS[h],p=Pt.patternMatchVariance(t,d,Xe.MAX_INDIVIDUAL_VARIANCE);p<i?(i=p,a=h):p===i&&(a=-1)}if(a>=0)return a%10;throw new se}}Xe.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Xe.MAX_AVG_VARIANCE=.38,Xe.MAX_INDIVIDUAL_VARIANCE=.5,Xe.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Xe.START_PATTERN=Int32Array.from([1,1,1,1]),Xe.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class qt extends Pt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(t){let i=!1,a,u=0,h=Int32Array.from([0,0,0]);for(;!i;){h=Int32Array.from([0,0,0]),a=qt.findGuardPattern(t,u,!1,this.START_END_PATTERN,h);let d=a[0];u=a[1];let p=d-(u-d);p>=0&&(i=t.isRange(p,d,!1))}return a}static checkChecksum(t){return qt.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let i=t.length;if(i===0)return!1;let a=parseInt(t.charAt(i-1),10);return qt.getStandardUPCEANChecksum(t.substring(0,i-1))===a}static getStandardUPCEANChecksum(t){let i=t.length,a=0;for(let u=i-1;u>=0;u-=2){let h=t.charAt(u).charCodeAt(0)-48;if(h<0||h>9)throw new ne;a+=h}a*=3;for(let u=i-2;u>=0;u-=2){let h=t.charAt(u).charCodeAt(0)-48;if(h<0||h>9)throw new ne;a+=h}return(1e3-a)%10}static decodeEnd(t,i){return qt.findGuardPattern(t,i,!1,qt.START_END_PATTERN,new Int32Array(qt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(t,i,a,u){return this.findGuardPattern(t,i,a,u,new Int32Array(u.length))}static findGuardPattern(t,i,a,u,h){let d=t.getSize();i=a?t.getNextUnset(i):t.getNextSet(i);let p=0,x=i,E=u.length,C=a;for(let N=i;N<d;N++)if(t.get(N)!==C)h[p]++;else{if(p===E-1){if(Pt.patternMatchVariance(h,u,qt.MAX_INDIVIDUAL_VARIANCE)<qt.MAX_AVG_VARIANCE)return Int32Array.from([x,N]);x+=h[0]+h[1];let I=h.slice(2,h.length-1);for(let L=0;L<p-1;L++)h[L]=I[L];h[p-1]=0,h[p]=0,p--}else p++;h[p]=1,C=!C}throw new se}static decodeDigit(t,i,a,u){this.recordPattern(t,a,i);let h=this.MAX_AVG_VARIANCE,d=-1,p=u.length;for(let x=0;x<p;x++){let E=u[x],C=Pt.patternMatchVariance(i,E,qt.MAX_INDIVIDUAL_VARIANCE);C<h&&(h=C,d=x)}if(d>=0)return d;throw new se}}qt.MAX_AVG_VARIANCE=.48,qt.MAX_INDIVIDUAL_VARIANCE=.7,qt.START_END_PATTERN=Int32Array.from([1,1,1]),qt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),qt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),qt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Ia{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,i,a){let u=this.decodeRowStringBuffer,h=this.decodeMiddle(i,a,u),d=u.toString(),p=Ia.parseExtensionString(d),x=[new _e((a[0]+a[1])/2,t),new _e(h,t)],E=new Ae(d,null,0,x,be.UPC_EAN_EXTENSION,new Date().getTime());return p!=null&&E.putAllMetadata(p),E}decodeMiddle(t,i,a){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let h=t.getSize(),d=i[1],p=0;for(let E=0;E<5&&d<h;E++){let C=qt.decodeDigit(t,u,d,qt.L_AND_G_PATTERNS);a+=String.fromCharCode(48+C%10);for(let N of u)d+=N;C>=10&&(p|=1<<4-E),E!==4&&(d=t.getNextSet(d),d=t.getNextUnset(d))}if(a.length!==5)throw new se;let x=this.determineCheckDigit(p);if(Ia.extensionChecksum(a.toString())!==x)throw new se;return d}static extensionChecksum(t){let i=t.length,a=0;for(let u=i-2;u>=0;u-=2)a+=t.charAt(u).charCodeAt(0)-48;a*=3;for(let u=i-1;u>=0;u-=2)a+=t.charAt(u).charCodeAt(0)-48;return a*=3,a%10}determineCheckDigit(t){for(let i=0;i<10;i++)if(t===this.CHECK_DIGIT_ENCODINGS[i])return i;throw new se}static parseExtensionString(t){if(t.length!==5)return null;let i=Ia.parseExtension5String(t);return i==null?null:new Map([[ht.SUGGESTED_PRICE,i]])}static parseExtension5String(t){let i;switch(t.charAt(0)){case"0":i="";break;case"5":i="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}i="";break;default:i="";break}let a=parseInt(t.substring(1)),u=(a/100).toString(),h=a%100,d=h<10?"0"+h:h.toString();return i+u+"."+d}}class fl{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,i,a){let u=this.decodeRowStringBuffer,h=this.decodeMiddle(i,a,u),d=u.toString(),p=fl.parseExtensionString(d),x=[new _e((a[0]+a[1])/2,t),new _e(h,t)],E=new Ae(d,null,0,x,be.UPC_EAN_EXTENSION,new Date().getTime());return p!=null&&E.putAllMetadata(p),E}decodeMiddle(t,i,a){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let h=t.getSize(),d=i[1],p=0;for(let x=0;x<2&&d<h;x++){let E=qt.decodeDigit(t,u,d,qt.L_AND_G_PATTERNS);a+=String.fromCharCode(48+E%10);for(let C of u)d+=C;E>=10&&(p|=1<<1-x),x!==1&&(d=t.getNextSet(d),d=t.getNextUnset(d))}if(a.length!==2)throw new se;if(parseInt(a.toString())%4!==p)throw new se;return d}static parseExtensionString(t){return t.length!==2?null:new Map([[ht.ISSUE_NUMBER,parseInt(t)]])}}class Da{static decodeRow(t,i,a){let u=qt.findGuardPattern(i,a,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Ia().decodeRow(t,i,u)}catch{return new fl().decodeRow(t,i,u)}}}Da.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class at extends qt{constructor(){super(),this.decodeRowStringBuffer="",at.L_AND_G_PATTERNS=at.L_PATTERNS.map(t=>Int32Array.from(t));for(let t=10;t<20;t++){let i=at.L_PATTERNS[t-10],a=new Int32Array(i.length);for(let u=0;u<i.length;u++)a[u]=i[i.length-u-1];at.L_AND_G_PATTERNS[t]=a}}decodeRow(t,i,a){let u=at.findStartGuardPattern(i),h=a==null?null:a.get(Ee.NEED_RESULT_POINT_CALLBACK);if(h!=null){const me=new _e((u[0]+u[1])/2,t);h.foundPossibleResultPoint(me)}let d=this.decodeMiddle(i,u,this.decodeRowStringBuffer),p=d.rowOffset,x=d.resultString;if(h!=null){const me=new _e(p,t);h.foundPossibleResultPoint(me)}let E=this.decodeEnd(i,p);if(h!=null){const me=new _e((E[0]+E[1])/2,t);h.foundPossibleResultPoint(me)}let C=E[1],N=C+(C-E[0]);if(N>=i.getSize()||!i.isRange(C,N,!1))throw new se;let I=x.toString();if(I.length<8)throw new ne;if(!at.checkChecksum(I))throw new B;let L=(u[1]+u[0])/2,j=(E[1]+E[0])/2,P=this.getBarcodeFormat(),q=[new _e(L,t),new _e(j,t)],te=new Ae(I,null,0,q,P,new Date().getTime()),xe=0;try{let me=Da.decodeRow(t,i,E[1]);te.putMetadata(ht.UPC_EAN_EXTENSION,me.getText()),te.putAllMetadata(me.getResultMetadata()),te.addResultPoints(me.getResultPoints()),xe=me.getText().length}catch{}let ye=a==null?null:a.get(Ee.ALLOWED_EAN_EXTENSIONS);if(ye!=null){let me=!1;for(let Ke in ye)if(xe.toString()===Ke){me=!0;break}if(!me)throw new se}return te}decodeEnd(t,i){return at.findGuardPattern(t,i,!1,at.START_END_PATTERN,new Int32Array(at.START_END_PATTERN.length).fill(0))}static checkChecksum(t){return at.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let i=t.length;if(i===0)return!1;let a=parseInt(t.charAt(i-1),10);return at.getStandardUPCEANChecksum(t.substring(0,i-1))===a}static getStandardUPCEANChecksum(t){let i=t.length,a=0;for(let u=i-1;u>=0;u-=2){let h=t.charAt(u).charCodeAt(0)-48;if(h<0||h>9)throw new ne;a+=h}a*=3;for(let u=i-2;u>=0;u-=2){let h=t.charAt(u).charCodeAt(0)-48;if(h<0||h>9)throw new ne;a+=h}return(1e3-a)%10}}class Si extends at{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,i,a){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let h=t.getSize(),d=i[1],p=0;for(let E=0;E<6&&d<h;E++){let C=at.decodeDigit(t,u,d,at.L_AND_G_PATTERNS);a+=String.fromCharCode(48+C%10);for(let N of u)d+=N;C>=10&&(p|=1<<5-E)}a=Si.determineFirstDigit(a,p),d=at.findGuardPattern(t,d,!0,at.MIDDLE_PATTERN,new Int32Array(at.MIDDLE_PATTERN.length).fill(0))[1];for(let E=0;E<6&&d<h;E++){let C=at.decodeDigit(t,u,d,at.L_PATTERNS);a+=String.fromCharCode(48+C);for(let N of u)d+=N}return{rowOffset:d,resultString:a}}getBarcodeFormat(){return be.EAN_13}static determineFirstDigit(t,i){for(let a=0;a<10;a++)if(i===this.FIRST_DIGIT_ENCODINGS[a])return t=String.fromCharCode(48+a)+t,t;throw new se}}Si.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class $i extends at{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,i,a){const u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let h=t.getSize(),d=i[1];for(let x=0;x<4&&d<h;x++){let E=at.decodeDigit(t,u,d,at.L_PATTERNS);a+=String.fromCharCode(48+E);for(let C of u)d+=C}d=at.findGuardPattern(t,d,!0,at.MIDDLE_PATTERN,new Int32Array(at.MIDDLE_PATTERN.length).fill(0))[1];for(let x=0;x<4&&d<h;x++){let E=at.decodeDigit(t,u,d,at.L_PATTERNS);a+=String.fromCharCode(48+E);for(let C of u)d+=C}return{rowOffset:d,resultString:a}}getBarcodeFormat(){return be.EAN_8}}class Ma extends at{constructor(){super(...arguments),this.ean13Reader=new Si}getBarcodeFormat(){return be.UPC_A}decode(t,i){return this.maybeReturnResult(this.ean13Reader.decode(t))}decodeRow(t,i,a){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,i,a))}decodeMiddle(t,i,a){return this.ean13Reader.decodeMiddle(t,i,a)}maybeReturnResult(t){let i=t.getText();if(i.charAt(0)==="0"){let a=new Ae(i.substring(1),null,null,t.getResultPoints(),be.UPC_A);return t.getResultMetadata()!=null&&a.putAllMetadata(t.getResultMetadata()),a}else throw new se}reset(){this.ean13Reader.reset()}}class Rn extends at{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(t,i,a){const u=this.decodeMiddleCounters.map(E=>E);u[0]=0,u[1]=0,u[2]=0,u[3]=0;const h=t.getSize();let d=i[1],p=0;for(let E=0;E<6&&d<h;E++){const C=Rn.decodeDigit(t,u,d,Rn.L_AND_G_PATTERNS);a+=String.fromCharCode(48+C%10);for(let N of u)d+=N;C>=10&&(p|=1<<5-E)}let x=Rn.determineNumSysAndCheckDigit(a,p);return{rowOffset:d,resultString:x}}decodeEnd(t,i){return Rn.findGuardPatternWithoutCounters(t,i,!0,Rn.MIDDLE_END_PATTERN)}checkChecksum(t){return at.checkChecksum(Rn.convertUPCEtoUPCA(t))}static determineNumSysAndCheckDigit(t,i){for(let a=0;a<=1;a++)for(let u=0;u<10;u++)if(i===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[a][u]){let h=String.fromCharCode(48+a),d=String.fromCharCode(48+u);return h+t+d}throw se.getNotFoundInstance()}getBarcodeFormat(){return be.UPC_E}static convertUPCEtoUPCA(t){const i=t.slice(1,7).split("").map(h=>h.charCodeAt(0)),a=new it;a.append(t.charAt(0));let u=i[5];switch(u){case 0:case 1:case 2:a.appendChars(i,0,2),a.append(u),a.append("0000"),a.appendChars(i,2,3);break;case 3:a.appendChars(i,0,3),a.append("00000"),a.appendChars(i,3,2);break;case 4:a.appendChars(i,0,4),a.append("00000"),a.append(i[4]);break;default:a.appendChars(i,0,5),a.append("0000"),a.append(u);break}return t.length>=8&&a.append(t.charAt(7)),a.toString()}}Rn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Rn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class dl extends Pt{constructor(t){super();let i=t==null?null:t.get(Ee.POSSIBLE_FORMATS),a=[];c(i)?(a.push(new Si),a.push(new Ma),a.push(new $i),a.push(new Rn)):(i.indexOf(be.EAN_13)>-1&&a.push(new Si),i.indexOf(be.UPC_A)>-1&&a.push(new Ma),i.indexOf(be.EAN_8)>-1&&a.push(new $i),i.indexOf(be.UPC_E)>-1&&a.push(new Rn)),this.readers=a}decodeRow(t,i,a){for(let u of this.readers)try{const h=u.decodeRow(t,i,a),d=h.getBarcodeFormat()===be.EAN_13&&h.getText().charAt(0)==="0",p=a==null?null:a.get(Ee.POSSIBLE_FORMATS),x=p==null||p.includes(be.UPC_A);if(d&&x){const E=h.getRawBytes(),C=new Ae(h.getText().substring(1),E,E?E.length:null,h.getResultPoints(),be.UPC_A);return C.putAllMetadata(h.getResultMetadata()),C}return h}catch{}throw new se}reset(){for(let t of this.readers)t.reset()}}class vn extends Pt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(t,i){for(let a=0;a<i.length;a++)if(Pt.patternMatchVariance(t,i[a],vn.MAX_INDIVIDUAL_VARIANCE)<vn.MAX_AVG_VARIANCE)return a;throw new se}static count(t){return $e.sum(new Int32Array(t))}static increment(t,i){let a=0,u=i[0];for(let h=1;h<t.length;h++)i[h]>u&&(u=i[h],a=h);t[a]++}static decrement(t,i){let a=0,u=i[0];for(let h=1;h<t.length;h++)i[h]<u&&(u=i[h],a=h);t[a]--}static isFinderPattern(t){let i=t[0]+t[1],a=i+t[2]+t[3],u=i/a;if(u>=vn.MIN_FINDER_PATTERN_RATIO&&u<=vn.MAX_FINDER_PATTERN_RATIO){let h=Number.MAX_SAFE_INTEGER,d=Number.MIN_SAFE_INTEGER;for(let p of t)p>d&&(d=p),p<h&&(h=p);return d<10*h}return!1}}vn.MAX_AVG_VARIANCE=.2,vn.MAX_INDIVIDUAL_VARIANCE=.45,vn.MIN_FINDER_PATTERN_RATIO=9.5/12,vn.MAX_FINDER_PATTERN_RATIO=12.5/14;class er{constructor(t,i){this.value=t,this.checksumPortion=i}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(t){if(!(t instanceof er))return!1;const i=t;return this.value===i.value&&this.checksumPortion===i.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class tr{constructor(t,i,a,u,h){this.value=t,this.startEnd=i,this.value=t,this.startEnd=i,this.resultPoints=new Array,this.resultPoints.push(new _e(a,h)),this.resultPoints.push(new _e(u,h))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(t){if(!(t instanceof tr))return!1;const i=t;return this.value===i.value}hashCode(){return this.value}}class Ci{constructor(){}static getRSSvalue(t,i,a){let u=0;for(let x of t)u+=x;let h=0,d=0,p=t.length;for(let x=0;x<p-1;x++){let E;for(E=1,d|=1<<x;E<t[x];E++,d&=~(1<<x)){let C=Ci.combins(u-E-1,p-x-2);if(a&&d===0&&u-E-(p-x-1)>=p-x-1&&(C-=Ci.combins(u-E-(p-x),p-x-2)),p-x-1>1){let N=0;for(let I=u-E-(p-x-2);I>i;I--)N+=Ci.combins(u-E-I-1,p-x-3);C-=N*(p-1-x)}else u-E>i&&C--;h+=C}u-=E}return h}static combins(t,i){let a,u;t-i>i?(u=i,a=t-i):(u=t-i,a=i);let h=1,d=1;for(let p=t;p>a;p--)h*=p,d<=u&&(h/=d,d++);for(;d<=u;)h/=d,d++;return h}}class Co{static buildBitArray(t){let i=t.length*2-1;t[t.length-1].getRightChar()==null&&(i-=1);let a=12*i,u=new pe(a),h=0,p=t[0].getRightChar().getValue();for(let x=11;x>=0;--x)(p&1<<x)!=0&&u.set(h),h++;for(let x=1;x<t.length;++x){let E=t[x],C=E.getLeftChar().getValue();for(let N=11;N>=0;--N)(C&1<<N)!=0&&u.set(h),h++;if(E.getRightChar()!=null){let N=E.getRightChar().getValue();for(let I=11;I>=0;--I)(N&1<<I)!=0&&u.set(h),h++}}return u}}class nr{constructor(t,i){i?this.decodedInformation=null:(this.finished=t,this.decodedInformation=i)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class cs{constructor(t){this.newPosition=t}getNewPosition(){return this.newPosition}}class Tn extends cs{constructor(t,i){super(t),this.value=i}getValue(){return this.value}isFNC1(){return this.value===Tn.FNC1}}Tn.FNC1="$";class ji extends cs{constructor(t,i,a){super(t),a?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=i}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class zn extends cs{constructor(t,i,a){if(super(t),i<0||i>10||a<0||a>10)throw new ne;this.firstDigit=i,this.secondDigit=a}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===zn.FNC1}isSecondDigitFNC1(){return this.secondDigit===zn.FNC1}isAnyFNC1(){return this.firstDigit===zn.FNC1||this.secondDigit===zn.FNC1}}zn.FNC1=10;class Se{constructor(){}static parseFieldsInGeneralPurpose(t){if(!t)return null;if(t.length<2)throw new se;let i=t.substring(0,2);for(let h of Se.TWO_DIGIT_DATA_LENGTH)if(h[0]===i)return h[1]===Se.VARIABLE_LENGTH?Se.processVariableAI(2,h[2],t):Se.processFixedAI(2,h[1],t);if(t.length<3)throw new se;let a=t.substring(0,3);for(let h of Se.THREE_DIGIT_DATA_LENGTH)if(h[0]===a)return h[1]===Se.VARIABLE_LENGTH?Se.processVariableAI(3,h[2],t):Se.processFixedAI(3,h[1],t);for(let h of Se.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(h[0]===a)return h[1]===Se.VARIABLE_LENGTH?Se.processVariableAI(4,h[2],t):Se.processFixedAI(4,h[1],t);if(t.length<4)throw new se;let u=t.substring(0,4);for(let h of Se.FOUR_DIGIT_DATA_LENGTH)if(h[0]===u)return h[1]===Se.VARIABLE_LENGTH?Se.processVariableAI(4,h[2],t):Se.processFixedAI(4,h[1],t);throw new se}static processFixedAI(t,i,a){if(a.length<t)throw new se;let u=a.substring(0,t);if(a.length<t+i)throw new se;let h=a.substring(t,t+i),d=a.substring(t+i),p="("+u+")"+h,x=Se.parseFieldsInGeneralPurpose(d);return x==null?p:p+x}static processVariableAI(t,i,a){let u=a.substring(0,t),h;a.length<t+i?h=a.length:h=t+i;let d=a.substring(t,h),p=a.substring(h),x="("+u+")"+d,E=Se.parseFieldsInGeneralPurpose(p);return E==null?x:x+E}}Se.VARIABLE_LENGTH=[],Se.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Se.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Se.VARIABLE_LENGTH,20],["22",Se.VARIABLE_LENGTH,29],["30",Se.VARIABLE_LENGTH,8],["37",Se.VARIABLE_LENGTH,8],["90",Se.VARIABLE_LENGTH,30],["91",Se.VARIABLE_LENGTH,30],["92",Se.VARIABLE_LENGTH,30],["93",Se.VARIABLE_LENGTH,30],["94",Se.VARIABLE_LENGTH,30],["95",Se.VARIABLE_LENGTH,30],["96",Se.VARIABLE_LENGTH,30],["97",Se.VARIABLE_LENGTH,3],["98",Se.VARIABLE_LENGTH,30],["99",Se.VARIABLE_LENGTH,30]],Se.THREE_DIGIT_DATA_LENGTH=[["240",Se.VARIABLE_LENGTH,30],["241",Se.VARIABLE_LENGTH,30],["242",Se.VARIABLE_LENGTH,6],["250",Se.VARIABLE_LENGTH,30],["251",Se.VARIABLE_LENGTH,30],["253",Se.VARIABLE_LENGTH,17],["254",Se.VARIABLE_LENGTH,20],["400",Se.VARIABLE_LENGTH,30],["401",Se.VARIABLE_LENGTH,30],["402",17],["403",Se.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Se.VARIABLE_LENGTH,20],["421",Se.VARIABLE_LENGTH,15],["422",3],["423",Se.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Se.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Se.VARIABLE_LENGTH,15],["391",Se.VARIABLE_LENGTH,18],["392",Se.VARIABLE_LENGTH,15],["393",Se.VARIABLE_LENGTH,18],["703",Se.VARIABLE_LENGTH,30]],Se.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Se.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Se.VARIABLE_LENGTH,20],["8003",Se.VARIABLE_LENGTH,30],["8004",Se.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Se.VARIABLE_LENGTH,30],["8008",Se.VARIABLE_LENGTH,12],["8018",18],["8020",Se.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Se.VARIABLE_LENGTH,70],["8200",Se.VARIABLE_LENGTH,70]];class Fn{constructor(t){this.buffer=new it,this.information=t}decodeAllCodes(t,i){let a=i,u=null;do{let h=this.decodeGeneralPurposeField(a,u),d=Se.parseFieldsInGeneralPurpose(h.getNewString());if(d!=null&&t.append(d),h.isRemaining()?u=""+h.getRemainingValue():u=null,a===h.getNewPosition())break;a=h.getNewPosition()}while(!0);return t.toString()}isStillNumeric(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(let i=t;i<t+3;++i)if(this.information.get(i))return!0;return this.information.get(t+3)}decodeNumeric(t){if(t+7>this.information.getSize()){let h=this.extractNumericValueFromBitArray(t,4);return h===0?new zn(this.information.getSize(),zn.FNC1,zn.FNC1):new zn(this.information.getSize(),h-1,zn.FNC1)}let i=this.extractNumericValueFromBitArray(t,7),a=(i-8)/11,u=(i-8)%11;return new zn(t+7,a,u)}extractNumericValueFromBitArray(t,i){return Fn.extractNumericValueFromBitArray(this.information,t,i)}static extractNumericValueFromBitArray(t,i,a){let u=0;for(let h=0;h<a;++h)t.get(i+h)&&(u|=1<<a-h-1);return u}decodeGeneralPurposeField(t,i){this.buffer.setLengthToZero(),i!=null&&this.buffer.append(i),this.current.setPosition(t);let a=this.parseBlocks();return a!=null&&a.isRemaining()?new ji(this.current.getPosition(),this.buffer.toString(),a.getRemainingValue()):new ji(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let t,i;do{let a=this.current.getPosition();if(this.current.isAlpha()?(i=this.parseAlphaBlock(),t=i.isFinished()):this.current.isIsoIec646()?(i=this.parseIsoIec646Block(),t=i.isFinished()):(i=this.parseNumericBlock(),t=i.isFinished()),!(a!==this.current.getPosition())&&!t)break}while(!t);return i.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){let i;return t.isSecondDigitFNC1()?i=new ji(this.current.getPosition(),this.buffer.toString()):i=new ji(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new nr(!0,i)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1()){let i=new ji(this.current.getPosition(),this.buffer.toString());return new nr(!0,i)}this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new nr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let i=new ji(this.current.getPosition(),this.buffer.toString());return new nr(!0,i)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new nr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let i=new ji(this.current.getPosition(),this.buffer.toString());return new nr(!0,i)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new nr(!1)}isStillIsoIec646(t){if(t+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,5);if(i>=5&&i<16)return!0;if(t+7>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(t,7);if(a>=64&&a<116)return!0;if(t+8>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(t,8);return u>=232&&u<253}decodeIsoIec646(t){let i=this.extractNumericValueFromBitArray(t,5);if(i===15)return new Tn(t+5,Tn.FNC1);if(i>=5&&i<15)return new Tn(t+5,"0"+(i-5));let a=this.extractNumericValueFromBitArray(t,7);if(a>=64&&a<90)return new Tn(t+7,""+(a+1));if(a>=90&&a<116)return new Tn(t+7,""+(a+7));let u=this.extractNumericValueFromBitArray(t,8),h;switch(u){case 232:h="!";break;case 233:h='"';break;case 234:h="%";break;case 235:h="&";break;case 236:h="'";break;case 237:h="(";break;case 238:h=")";break;case 239:h="*";break;case 240:h="+";break;case 241:h=",";break;case 242:h="-";break;case 243:h=".";break;case 244:h="/";break;case 245:h=":";break;case 246:h=";";break;case 247:h="<";break;case 248:h="=";break;case 249:h=">";break;case 250:h="?";break;case 251:h="_";break;case 252:h=" ";break;default:throw new ne}return new Tn(t+8,h)}isStillAlpha(t){if(t+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,5);if(i>=5&&i<16)return!0;if(t+6>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(t,6);return a>=16&&a<63}decodeAlphanumeric(t){let i=this.extractNumericValueFromBitArray(t,5);if(i===15)return new Tn(t+5,Tn.FNC1);if(i>=5&&i<15)return new Tn(t+5,"0"+(i-5));let a=this.extractNumericValueFromBitArray(t,6);if(a>=32&&a<58)return new Tn(t+6,""+(a+33));let u;switch(a){case 58:u="*";break;case 59:u=",";break;case 60:u="-";break;case 61:u=".";break;case 62:u="/";break;default:throw new Wn("Decoding invalid alphanumeric value: "+a)}return new Tn(t+6,u)}isAlphaTo646ToAlphaLatch(t){if(t+1>this.information.getSize())return!1;for(let i=0;i<5&&i+t<this.information.getSize();++i)if(i===2){if(!this.information.get(t+2))return!1}else if(this.information.get(t+i))return!1;return!0}isAlphaOr646ToNumericLatch(t){if(t+3>this.information.getSize())return!1;for(let i=t;i<t+3;++i)if(this.information.get(i))return!1;return!0}isNumericToAlphaNumericLatch(t){if(t+1>this.information.getSize())return!1;for(let i=0;i<4&&i+t<this.information.getSize();++i)if(this.information.get(t+i))return!1;return!0}}class sn{constructor(t){this.information=t,this.generalDecoder=new Fn(t)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Ct extends sn{constructor(t){super(t)}encodeCompressedGtin(t,i){t.append("(01)");let a=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,i,a)}encodeCompressedGtinWithoutAI(t,i,a){for(let u=0;u<4;++u){let h=this.getGeneralDecoder().extractNumericValueFromBitArray(i+10*u,10);h/100===0&&t.append("0"),h/10===0&&t.append("0"),t.append(h)}Ct.appendCheckDigit(t,a)}static appendCheckDigit(t,i){let a=0;for(let u=0;u<13;u++){let h=t.charAt(u+i).charCodeAt(0)-48;a+=(u&1)===0?3*h:h}a=10-a%10,a===10&&(a=0),t.append(a)}}Ct.GTIN_SIZE=40;class si extends Ct{constructor(t){super(t)}parseInformation(){let t=new it;t.append("(01)");let i=t.length(),a=this.getGeneralDecoder().extractNumericValueFromBitArray(si.HEADER_SIZE,4);return t.append(a),this.encodeCompressedGtinWithoutAI(t,si.HEADER_SIZE+4,i),this.getGeneralDecoder().decodeAllCodes(t,si.HEADER_SIZE+44)}}si.HEADER_SIZE=4;class Vr extends sn{constructor(t){super(t)}parseInformation(){let t=new it;return this.getGeneralDecoder().decodeAllCodes(t,Vr.HEADER_SIZE)}}Vr.HEADER_SIZE=5;class hs extends Ct{constructor(t){super(t)}encodeCompressedWeight(t,i,a){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(i,a);this.addWeightCode(t,u);let h=this.checkWeight(u),d=1e5;for(let p=0;p<5;++p)h/d===0&&t.append("0"),d/=10;t.append(h)}}class _i extends hs{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()!=_i.HEADER_SIZE+hs.GTIN_SIZE+_i.WEIGHT_SIZE)throw new se;let t=new it;return this.encodeCompressedGtin(t,_i.HEADER_SIZE),this.encodeCompressedWeight(t,_i.HEADER_SIZE+hs.GTIN_SIZE,_i.WEIGHT_SIZE),t.toString()}}_i.HEADER_SIZE=5,_i.WEIGHT_SIZE=15;class _o extends _i{constructor(t){super(t)}addWeightCode(t,i){t.append("(3103)")}checkWeight(t){return t}}class La extends _i{constructor(t){super(t)}addWeightCode(t,i){i<1e4?t.append("(3202)"):t.append("(3203)")}checkWeight(t){return t<1e4?t:t-1e4}}class Kn extends Ct{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<Kn.HEADER_SIZE+Ct.GTIN_SIZE)throw new se;let t=new it;this.encodeCompressedGtin(t,Kn.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Kn.HEADER_SIZE+Ct.GTIN_SIZE,Kn.LAST_DIGIT_SIZE);t.append("(392"),t.append(i),t.append(")");let a=this.getGeneralDecoder().decodeGeneralPurposeField(Kn.HEADER_SIZE+Ct.GTIN_SIZE+Kn.LAST_DIGIT_SIZE,null);return t.append(a.getNewString()),t.toString()}}Kn.HEADER_SIZE=8,Kn.LAST_DIGIT_SIZE=2;class Jt extends Ct{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<Jt.HEADER_SIZE+Ct.GTIN_SIZE)throw new se;let t=new it;this.encodeCompressedGtin(t,Jt.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Jt.HEADER_SIZE+Ct.GTIN_SIZE,Jt.LAST_DIGIT_SIZE);t.append("(393"),t.append(i),t.append(")");let a=this.getGeneralDecoder().extractNumericValueFromBitArray(Jt.HEADER_SIZE+Ct.GTIN_SIZE+Jt.LAST_DIGIT_SIZE,Jt.FIRST_THREE_DIGITS_SIZE);a/100==0&&t.append("0"),a/10==0&&t.append("0"),t.append(a);let u=this.getGeneralDecoder().decodeGeneralPurposeField(Jt.HEADER_SIZE+Ct.GTIN_SIZE+Jt.LAST_DIGIT_SIZE+Jt.FIRST_THREE_DIGITS_SIZE,null);return t.append(u.getNewString()),t.toString()}}Jt.HEADER_SIZE=8,Jt.LAST_DIGIT_SIZE=2,Jt.FIRST_THREE_DIGITS_SIZE=10;class xt extends hs{constructor(t,i,a){super(t),this.dateCode=a,this.firstAIdigits=i}parseInformation(){if(this.getInformation().getSize()!=xt.HEADER_SIZE+xt.GTIN_SIZE+xt.WEIGHT_SIZE+xt.DATE_SIZE)throw new se;let t=new it;return this.encodeCompressedGtin(t,xt.HEADER_SIZE),this.encodeCompressedWeight(t,xt.HEADER_SIZE+xt.GTIN_SIZE,xt.WEIGHT_SIZE),this.encodeCompressedDate(t,xt.HEADER_SIZE+xt.GTIN_SIZE+xt.WEIGHT_SIZE),t.toString()}encodeCompressedDate(t,i){let a=this.getGeneralDecoder().extractNumericValueFromBitArray(i,xt.DATE_SIZE);if(a==38400)return;t.append("("),t.append(this.dateCode),t.append(")");let u=a%32;a/=32;let h=a%12+1;a/=12;let d=a;d/10==0&&t.append("0"),t.append(d),h/10==0&&t.append("0"),t.append(h),u/10==0&&t.append("0"),t.append(u)}addWeightCode(t,i){t.append("("),t.append(this.firstAIdigits),t.append(i/1e5),t.append(")")}checkWeight(t){return t%1e5}}xt.HEADER_SIZE=8,xt.WEIGHT_SIZE=20,xt.DATE_SIZE=16;function Gr(O){try{if(O.get(1))return new si(O);if(!O.get(2))return new Vr(O);switch(Fn.extractNumericValueFromBitArray(O,1,4)){case 4:return new _o(O);case 5:return new La(O)}switch(Fn.extractNumericValueFromBitArray(O,1,5)){case 12:return new Kn(O);case 13:return new Jt(O)}switch(Fn.extractNumericValueFromBitArray(O,1,7)){case 56:return new xt(O,"310","11");case 57:return new xt(O,"320","11");case 58:return new xt(O,"310","13");case 59:return new xt(O,"320","13");case 60:return new xt(O,"310","15");case 61:return new xt(O,"320","15");case 62:return new xt(O,"310","17");case 63:return new xt(O,"320","17")}}catch(t){throw console.log(t),new Wn("unknown decoder: "+O)}}class Hn{constructor(t,i,a,u){this.leftchar=t,this.rightchar=i,this.finderpattern=a,this.maybeLast=u}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(t,i){return t instanceof Hn?Hn.equalsOrNull(t.leftchar,i.leftchar)&&Hn.equalsOrNull(t.rightchar,i.rightchar)&&Hn.equalsOrNull(t.finderpattern,i.finderpattern):!1}static equalsOrNull(t,i){return t===null?i===null:Hn.equals(t,i)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class $t{constructor(t,i,a){this.pairs=t,this.rowNumber=i,this.wasReversed=a}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(t){return this.checkEqualitity(this,t)}toString(){return"{ "+this.pairs+" }"}equals(t,i){return t instanceof $t?this.checkEqualitity(t,i)&&t.wasReversed===i.wasReversed:!1}checkEqualitity(t,i){if(!t||!i)return;let a;return t.forEach((u,h)=>{i.forEach(d=>{u.getLeftChar().getValue()===d.getLeftChar().getValue()&&u.getRightChar().getValue()===d.getRightChar().getValue()&&u.getFinderPatter().getValue()===d.getFinderPatter().getValue()&&(a=!0)})}),a}}class ge extends vn{constructor(t){super(...arguments),this.pairs=new Array(ge.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=t===!0}decodeRow(t,i,a){this.pairs.length=0,this.startFromEven=!1;try{return ge.constructResult(this.decodeRow2pairs(t,i))}catch(u){this.verbose&&console.log(u)}return this.pairs.length=0,this.startFromEven=!0,ge.constructResult(this.decodeRow2pairs(t,i))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(t,i){let a=!1;for(;!a;)try{this.pairs.push(this.retrieveNextPair(i,this.pairs,t))}catch(h){if(h instanceof se){if(!this.pairs.length)throw new se;a=!0}}if(this.checkChecksum())return this.pairs;let u;if(this.rows.length?u=!0:u=!1,this.storeRow(t,!1),u){let h=this.checkRowsBoolean(!1);if(h!=null||(h=this.checkRowsBoolean(!0),h!=null))return h}throw new se}checkRowsBoolean(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());let i=null;try{i=this.checkRows(new Array,0)}catch(a){this.verbose&&console.log(a)}return t&&(this.rows=this.rows.reverse()),i}checkRows(t,i){for(let a=i;a<this.rows.length;a++){let u=this.rows[a];this.pairs.length=0;for(let d of t)this.pairs.push(d.getPairs());if(this.pairs.push(u.getPairs()),!ge.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let h=new Array(t);h.push(u);try{return this.checkRows(h,a+1)}catch(d){this.verbose&&console.log(d)}}throw new se}static isValidSequence(t){for(let i of ge.FINDER_PATTERN_SEQUENCES){if(t.length>i.length)continue;let a=!0;for(let u=0;u<t.length;u++)if(t[u].getFinderPattern().getValue()!=i[u]){a=!1;break}if(a)return!0}return!1}storeRow(t,i){let a=0,u=!1,h=!1;for(;a<this.rows.length;){let d=this.rows[a];if(d.getRowNumber()>t){h=d.isEquivalent(this.pairs);break}u=d.isEquivalent(this.pairs),a++}h||u||ge.isPartialRow(this.pairs,this.rows)||(this.rows.push(a,new $t(this.pairs,t,i)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(t,i){for(let a of i)if(a.getPairs().length!==t.length){for(let u of a.getPairs())for(let h of t)if(Hn.equals(u,h))break}}static isPartialRow(t,i){for(let a of i){let u=!0;for(let h of t){let d=!1;for(let p of a.getPairs())if(h.equals(p)){d=!0;break}if(!d){u=!1;break}}if(u)return!0}return!1}getRows(){return this.rows}static constructResult(t){let i=Co.buildBitArray(t),u=Gr(i).parseInformation(),h=t[0].getFinderPattern().getResultPoints(),d=t[t.length-1].getFinderPattern().getResultPoints(),p=[h[0],h[1],d[0],d[1]];return new Ae(u,null,null,p,be.RSS_EXPANDED,null)}checkChecksum(){let t=this.pairs.get(0),i=t.getLeftChar(),a=t.getRightChar();if(a==null)return!1;let u=a.getChecksumPortion(),h=2;for(let p=1;p<this.pairs.size();++p){let x=this.pairs.get(p);u+=x.getLeftChar().getChecksumPortion(),h++;let E=x.getRightChar();E!=null&&(u+=E.getChecksumPortion(),h++)}return u%=211,211*(h-4)+u==i.getValue()}static getNextSecondBar(t,i){let a;return t.get(i)?(a=t.getNextUnset(i),a=t.getNextSet(a)):(a=t.getNextSet(i),a=t.getNextUnset(a)),a}retrieveNextPair(t,i,a){let u=i.length%2==0;this.startFromEven&&(u=!u);let h,d=!0,p=-1;do this.findNextPair(t,i,p),h=this.parseFoundFinderPattern(t,a,u),h==null?p=ge.getNextSecondBar(t,this.startEnd[0]):d=!1;while(d);let x=this.decodeDataCharacter(t,h,u,!0);if(!this.isEmptyPair(i)&&i[i.length-1].mustBeLast())throw new se;let E;try{E=this.decodeDataCharacter(t,h,u,!1)}catch(C){E=null,this.verbose&&console.log(C)}return new Hn(x,E,h,!0)}isEmptyPair(t){return t.length===0}findNextPair(t,i,a){let u=this.getDecodeFinderCounters();u[0]=0,u[1]=0,u[2]=0,u[3]=0;let h=t.getSize(),d;a>=0?d=a:this.isEmptyPair(i)?d=0:d=i[i.length-1].getFinderPattern().getStartEnd()[1];let p=i.length%2!=0;this.startFromEven&&(p=!p);let x=!1;for(;d<h&&(x=!t.get(d),!!x);)d++;let E=0,C=d;for(let N=d;N<h;N++)if(t.get(N)!=x)u[E]++;else{if(E==3){if(p&&ge.reverseCounters(u),ge.isFinderPattern(u)){this.startEnd[0]=C,this.startEnd[1]=N;return}p&&ge.reverseCounters(u),C+=u[0]+u[1],u[0]=u[2],u[1]=u[3],u[2]=0,u[3]=0,E--}else E++;u[E]=1,x=!x}throw new se}static reverseCounters(t){let i=t.length;for(let a=0;a<i/2;++a){let u=t[a];t[a]=t[i-a-1],t[i-a-1]=u}}parseFoundFinderPattern(t,i,a){let u,h,d;if(a){let E=this.startEnd[0]-1;for(;E>=0&&!t.get(E);)E--;E++,u=this.startEnd[0]-E,h=E,d=this.startEnd[1]}else h=this.startEnd[0],d=t.getNextUnset(this.startEnd[1]+1),u=d-this.startEnd[1];let p=this.getDecodeFinderCounters();H.arraycopy(p,0,p,1,p.length-1),p[0]=u;let x;try{x=this.parseFinderValue(p,ge.FINDER_PATTERNS)}catch{return null}return new tr(x,[h,d],h,d,i)}decodeDataCharacter(t,i,a,u){let h=this.getDataCharacterCounters();for(let At=0;At<h.length;At++)h[At]=0;if(u)ge.recordPatternInReverse(t,i.getStartEnd()[0],h);else{ge.recordPattern(t,i.getStartEnd()[1],h);for(let At=0,Sn=h.length-1;At<Sn;At++,Sn--){let Yn=h[At];h[At]=h[Sn],h[Sn]=Yn}}let d=17,p=$e.sum(new Int32Array(h))/d,x=(i.getStartEnd()[1]-i.getStartEnd()[0])/15;if(Math.abs(p-x)/x>.3)throw new se;let E=this.getOddCounts(),C=this.getEvenCounts(),N=this.getOddRoundingErrors(),I=this.getEvenRoundingErrors();for(let At=0;At<h.length;At++){let Sn=1*h[At]/p,Yn=Sn+.5;if(Yn<1){if(Sn<.3)throw new se;Yn=1}else if(Yn>8){if(Sn>8.7)throw new se;Yn=8}let na=At/2;(At&1)==0?(E[na]=Yn,N[na]=Sn-Yn):(C[na]=Yn,I[na]=Sn-Yn)}this.adjustOddEvenCounts(d);let L=4*i.getValue()+(a?0:2)+(u?0:1)-1,j=0,P=0;for(let At=E.length-1;At>=0;At--){if(ge.isNotA1left(i,a,u)){let Sn=ge.WEIGHTS[L][2*At];P+=E[At]*Sn}j+=E[At]}let q=0;for(let At=C.length-1;At>=0;At--)if(ge.isNotA1left(i,a,u)){let Sn=ge.WEIGHTS[L][2*At+1];q+=C[At]*Sn}let te=P+q;if((j&1)!=0||j>13||j<4)throw new se;let xe=(13-j)/2,ye=ge.SYMBOL_WIDEST[xe],me=9-ye,Ke=Ci.getRSSvalue(E,ye,!0),Ge=Ci.getRSSvalue(C,me,!1),en=ge.EVEN_TOTAL_SUBSET[xe],$n=ge.GSUM[xe],In=Ke*en+Ge+$n;return new er(In,te)}static isNotA1left(t,i,a){return!(t.getValue()==0&&i&&a)}adjustOddEvenCounts(t){let i=$e.sum(new Int32Array(this.getOddCounts())),a=$e.sum(new Int32Array(this.getEvenCounts())),u=!1,h=!1;i>13?h=!0:i<4&&(u=!0);let d=!1,p=!1;a>13?p=!0:a<4&&(d=!0);let x=i+a-t,E=(i&1)==1,C=(a&1)==0;if(x==1)if(E){if(C)throw new se;h=!0}else{if(!C)throw new se;p=!0}else if(x==-1)if(E){if(C)throw new se;u=!0}else{if(!C)throw new se;d=!0}else if(x==0){if(E){if(!C)throw new se;i<a?(u=!0,p=!0):(h=!0,d=!0)}else if(C)throw new se}else throw new se;if(u){if(h)throw new se;ge.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(h&&ge.decrement(this.getOddCounts(),this.getOddRoundingErrors()),d){if(p)throw new se;ge.increment(this.getEvenCounts(),this.getOddRoundingErrors())}p&&ge.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ge.SYMBOL_WIDEST=[7,5,4,3,1],ge.EVEN_TOTAL_SUBSET=[4,20,52,104,204],ge.GSUM=[0,348,1388,2948,3988],ge.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],ge.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],ge.FINDER_PAT_A=0,ge.FINDER_PAT_B=1,ge.FINDER_PAT_C=2,ge.FINDER_PAT_D=3,ge.FINDER_PAT_E=4,ge.FINDER_PAT_F=5,ge.FINDER_PATTERN_SEQUENCES=[[ge.FINDER_PAT_A,ge.FINDER_PAT_A],[ge.FINDER_PAT_A,ge.FINDER_PAT_B,ge.FINDER_PAT_B],[ge.FINDER_PAT_A,ge.FINDER_PAT_C,ge.FINDER_PAT_B,ge.FINDER_PAT_D],[ge.FINDER_PAT_A,ge.FINDER_PAT_E,ge.FINDER_PAT_B,ge.FINDER_PAT_D,ge.FINDER_PAT_C],[ge.FINDER_PAT_A,ge.FINDER_PAT_E,ge.FINDER_PAT_B,ge.FINDER_PAT_D,ge.FINDER_PAT_D,ge.FINDER_PAT_F],[ge.FINDER_PAT_A,ge.FINDER_PAT_E,ge.FINDER_PAT_B,ge.FINDER_PAT_D,ge.FINDER_PAT_E,ge.FINDER_PAT_F,ge.FINDER_PAT_F],[ge.FINDER_PAT_A,ge.FINDER_PAT_A,ge.FINDER_PAT_B,ge.FINDER_PAT_B,ge.FINDER_PAT_C,ge.FINDER_PAT_C,ge.FINDER_PAT_D,ge.FINDER_PAT_D],[ge.FINDER_PAT_A,ge.FINDER_PAT_A,ge.FINDER_PAT_B,ge.FINDER_PAT_B,ge.FINDER_PAT_C,ge.FINDER_PAT_C,ge.FINDER_PAT_D,ge.FINDER_PAT_E,ge.FINDER_PAT_E],[ge.FINDER_PAT_A,ge.FINDER_PAT_A,ge.FINDER_PAT_B,ge.FINDER_PAT_B,ge.FINDER_PAT_C,ge.FINDER_PAT_C,ge.FINDER_PAT_D,ge.FINDER_PAT_E,ge.FINDER_PAT_F,ge.FINDER_PAT_F],[ge.FINDER_PAT_A,ge.FINDER_PAT_A,ge.FINDER_PAT_B,ge.FINDER_PAT_B,ge.FINDER_PAT_C,ge.FINDER_PAT_D,ge.FINDER_PAT_D,ge.FINDER_PAT_E,ge.FINDER_PAT_E,ge.FINDER_PAT_F,ge.FINDER_PAT_F]],ge.MAX_PAIRS=11;class To extends er{constructor(t,i,a){super(t,i),this.count=0,this.finderPattern=a}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class vt extends vn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(t,i,a){const u=this.decodePair(i,!1,t,a);vt.addOrTally(this.possibleLeftPairs,u),i.reverse();let h=this.decodePair(i,!0,t,a);vt.addOrTally(this.possibleRightPairs,h),i.reverse();for(let d of this.possibleLeftPairs)if(d.getCount()>1){for(let p of this.possibleRightPairs)if(p.getCount()>1&&vt.checkChecksum(d,p))return vt.constructResult(d,p)}throw new se}static addOrTally(t,i){if(i==null)return;let a=!1;for(let u of t)if(u.getValue()===i.getValue()){u.incrementCount(),a=!0;break}a||t.push(i)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(t,i){let a=4537077*t.getValue()+i.getValue(),u=new String(a).toString(),h=new it;for(let E=13-u.length;E>0;E--)h.append("0");h.append(u);let d=0;for(let E=0;E<13;E++){let C=h.charAt(E).charCodeAt(0)-48;d+=(E&1)===0?3*C:C}d=10-d%10,d===10&&(d=0),h.append(d.toString());let p=t.getFinderPattern().getResultPoints(),x=i.getFinderPattern().getResultPoints();return new Ae(h.toString(),null,0,[p[0],p[1],x[0],x[1]],be.RSS_14,new Date().getTime())}static checkChecksum(t,i){let a=(t.getChecksumPortion()+16*i.getChecksumPortion())%79,u=9*t.getFinderPattern().getValue()+i.getFinderPattern().getValue();return u>72&&u--,u>8&&u--,a===u}decodePair(t,i,a,u){try{let h=this.findFinderPattern(t,i),d=this.parseFoundFinderPattern(t,a,i,h),p=u==null?null:u.get(Ee.NEED_RESULT_POINT_CALLBACK);if(p!=null){let C=(h[0]+h[1])/2;i&&(C=t.getSize()-1-C),p.foundPossibleResultPoint(new _e(C,a))}let x=this.decodeDataCharacter(t,d,!0),E=this.decodeDataCharacter(t,d,!1);return new To(1597*x.getValue()+E.getValue(),x.getChecksumPortion()+4*E.getChecksumPortion(),d)}catch{return null}}decodeDataCharacter(t,i,a){let u=this.getDataCharacterCounters();for(let q=0;q<u.length;q++)u[q]=0;if(a)Pt.recordPatternInReverse(t,i.getStartEnd()[0],u);else{Pt.recordPattern(t,i.getStartEnd()[1]+1,u);for(let q=0,te=u.length-1;q<te;q++,te--){let xe=u[q];u[q]=u[te],u[te]=xe}}let h=a?16:15,d=$e.sum(new Int32Array(u))/h,p=this.getOddCounts(),x=this.getEvenCounts(),E=this.getOddRoundingErrors(),C=this.getEvenRoundingErrors();for(let q=0;q<u.length;q++){let te=u[q]/d,xe=Math.floor(te+.5);xe<1?xe=1:xe>8&&(xe=8);let ye=Math.floor(q/2);(q&1)===0?(p[ye]=xe,E[ye]=te-xe):(x[ye]=xe,C[ye]=te-xe)}this.adjustOddEvenCounts(a,h);let N=0,I=0;for(let q=p.length-1;q>=0;q--)I*=9,I+=p[q],N+=p[q];let L=0,j=0;for(let q=x.length-1;q>=0;q--)L*=9,L+=x[q],j+=x[q];let P=I+3*L;if(a){if((N&1)!==0||N>12||N<4)throw new se;let q=(12-N)/2,te=vt.OUTSIDE_ODD_WIDEST[q],xe=9-te,ye=Ci.getRSSvalue(p,te,!1),me=Ci.getRSSvalue(x,xe,!0),Ke=vt.OUTSIDE_EVEN_TOTAL_SUBSET[q],Ge=vt.OUTSIDE_GSUM[q];return new er(ye*Ke+me+Ge,P)}else{if((j&1)!==0||j>10||j<4)throw new se;let q=(10-j)/2,te=vt.INSIDE_ODD_WIDEST[q],xe=9-te,ye=Ci.getRSSvalue(p,te,!0),me=Ci.getRSSvalue(x,xe,!1),Ke=vt.INSIDE_ODD_TOTAL_SUBSET[q],Ge=vt.INSIDE_GSUM[q];return new er(me*Ke+ye+Ge,P)}}findFinderPattern(t,i){let a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;let u=t.getSize(),h=!1,d=0;for(;d<u&&(h=!t.get(d),i!==h);)d++;let p=0,x=d;for(let E=d;E<u;E++)if(t.get(E)!==h)a[p]++;else{if(p===3){if(vn.isFinderPattern(a))return[x,E];x+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,p--}else p++;a[p]=1,h=!h}throw new se}parseFoundFinderPattern(t,i,a,u){let h=t.get(u[0]),d=u[0]-1;for(;d>=0&&h!==t.get(d);)d--;d++;const p=u[0]-d,x=this.getDecodeFinderCounters(),E=new Int32Array(x.length);H.arraycopy(x,0,E,1,x.length-1),E[0]=p;const C=this.parseFinderValue(E,vt.FINDER_PATTERNS);let N=d,I=u[1];return a&&(N=t.getSize()-1-N,I=t.getSize()-1-I),new tr(C,[d,u[1]],N,I,i)}adjustOddEvenCounts(t,i){let a=$e.sum(new Int32Array(this.getOddCounts())),u=$e.sum(new Int32Array(this.getEvenCounts())),h=!1,d=!1,p=!1,x=!1;t?(a>12?d=!0:a<4&&(h=!0),u>12?x=!0:u<4&&(p=!0)):(a>11?d=!0:a<5&&(h=!0),u>10?x=!0:u<4&&(p=!0));let E=a+u-i,C=(a&1)===(t?1:0),N=(u&1)===1;if(E===1)if(C){if(N)throw new se;d=!0}else{if(!N)throw new se;x=!0}else if(E===-1)if(C){if(N)throw new se;h=!0}else{if(!N)throw new se;p=!0}else if(E===0){if(C){if(!N)throw new se;a<u?(h=!0,x=!0):(d=!0,p=!0)}else if(N)throw new se}else throw new se;if(h){if(d)throw new se;vn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(d&&vn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),p){if(x)throw new se;vn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}x&&vn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}vt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],vt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],vt.OUTSIDE_GSUM=[0,161,961,2015,2715],vt.INSIDE_GSUM=[0,336,1036,1516],vt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],vt.INSIDE_ODD_WIDEST=[2,4,6,8],vt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class li extends Pt{constructor(t,i){super(),this.readers=[],this.verbose=i===!0;const a=t?t.get(Ee.POSSIBLE_FORMATS):null,u=t&&t.get(Ee.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;a?((a.includes(be.EAN_13)||a.includes(be.UPC_A)||a.includes(be.EAN_8)||a.includes(be.UPC_E))&&this.readers.push(new dl(t)),a.includes(be.CODE_39)&&this.readers.push(new Rt(u)),a.includes(be.CODE_128)&&this.readers.push(new we),a.includes(be.ITF)&&this.readers.push(new Xe),a.includes(be.RSS_14)&&this.readers.push(new vt),a.includes(be.RSS_EXPANDED)&&this.readers.push(new ge(this.verbose))):(this.readers.push(new dl(t)),this.readers.push(new Rt),this.readers.push(new dl(t)),this.readers.push(new we),this.readers.push(new Xe),this.readers.push(new vt),this.readers.push(new ge(this.verbose)))}decodeRow(t,i,a){for(let u=0;u<this.readers.length;u++)try{return this.readers[u].decodeRow(t,i,a)}catch{}throw new se}reset(){this.readers.forEach(t=>t.reset())}}class fc extends ve{constructor(t=500,i){super(new li(i),t,i)}}class gt{constructor(t,i,a){this.ecCodewords=t,this.ecBlocks=[i],a&&this.ecBlocks.push(a)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class dt{constructor(t,i){this.count=t,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class et{constructor(t,i,a,u,h,d){this.versionNumber=t,this.symbolSizeRows=i,this.symbolSizeColumns=a,this.dataRegionSizeRows=u,this.dataRegionSizeColumns=h,this.ecBlocks=d;let p=0;const x=d.getECCodewords(),E=d.getECBlocks();for(let C of E)p+=C.getCount()*(C.getDataCodewords()+x);this.totalCodewords=p}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(t,i){if((t&1)!==0||(i&1)!==0)throw new ne;for(let a of et.VERSIONS)if(a.symbolSizeRows===t&&a.symbolSizeColumns===i)return a;throw new ne}toString(){return""+this.versionNumber}static buildVersions(){return[new et(1,10,10,8,8,new gt(5,new dt(1,3))),new et(2,12,12,10,10,new gt(7,new dt(1,5))),new et(3,14,14,12,12,new gt(10,new dt(1,8))),new et(4,16,16,14,14,new gt(12,new dt(1,12))),new et(5,18,18,16,16,new gt(14,new dt(1,18))),new et(6,20,20,18,18,new gt(18,new dt(1,22))),new et(7,22,22,20,20,new gt(20,new dt(1,30))),new et(8,24,24,22,22,new gt(24,new dt(1,36))),new et(9,26,26,24,24,new gt(28,new dt(1,44))),new et(10,32,32,14,14,new gt(36,new dt(1,62))),new et(11,36,36,16,16,new gt(42,new dt(1,86))),new et(12,40,40,18,18,new gt(48,new dt(1,114))),new et(13,44,44,20,20,new gt(56,new dt(1,144))),new et(14,48,48,22,22,new gt(68,new dt(1,174))),new et(15,52,52,24,24,new gt(42,new dt(2,102))),new et(16,64,64,14,14,new gt(56,new dt(2,140))),new et(17,72,72,16,16,new gt(36,new dt(4,92))),new et(18,80,80,18,18,new gt(48,new dt(4,114))),new et(19,88,88,20,20,new gt(56,new dt(4,144))),new et(20,96,96,22,22,new gt(68,new dt(4,174))),new et(21,104,104,24,24,new gt(56,new dt(6,136))),new et(22,120,120,18,18,new gt(68,new dt(6,175))),new et(23,132,132,20,20,new gt(62,new dt(8,163))),new et(24,144,144,22,22,new gt(62,new dt(8,156),new dt(2,155))),new et(25,8,18,6,16,new gt(7,new dt(1,5))),new et(26,8,32,6,14,new gt(11,new dt(1,10))),new et(27,12,26,10,24,new gt(14,new dt(1,16))),new et(28,12,36,10,16,new gt(18,new dt(1,22))),new et(29,16,36,14,16,new gt(24,new dt(1,32))),new et(30,16,48,14,22,new gt(28,new dt(1,49)))]}}et.VERSIONS=et.buildVersions();class Yr{constructor(t){const i=t.getHeight();if(i<8||i>144||(i&1)!==0)throw new ne;this.version=Yr.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new Nt(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(t){const i=t.getHeight(),a=t.getWidth();return et.getVersionForDimensions(i,a)}readCodewords(){const t=new Int8Array(this.version.getTotalCodewords());let i=0,a=4,u=0;const h=this.mappingBitMatrix.getHeight(),d=this.mappingBitMatrix.getWidth();let p=!1,x=!1,E=!1,C=!1;do if(a===h&&u===0&&!p)t[i++]=this.readCorner1(h,d)&255,a-=2,u+=2,p=!0;else if(a===h-2&&u===0&&(d&3)!==0&&!x)t[i++]=this.readCorner2(h,d)&255,a-=2,u+=2,x=!0;else if(a===h+4&&u===2&&(d&7)===0&&!E)t[i++]=this.readCorner3(h,d)&255,a-=2,u+=2,E=!0;else if(a===h-2&&u===0&&(d&7)===4&&!C)t[i++]=this.readCorner4(h,d)&255,a-=2,u+=2,C=!0;else{do a<h&&u>=0&&!this.readMappingMatrix.get(u,a)&&(t[i++]=this.readUtah(a,u,h,d)&255),a-=2,u+=2;while(a>=0&&u<d);a+=1,u+=3;do a>=0&&u<d&&!this.readMappingMatrix.get(u,a)&&(t[i++]=this.readUtah(a,u,h,d)&255),a+=2,u-=2;while(a<h&&u>=0);a+=3,u+=1}while(a<h||u<d);if(i!==this.version.getTotalCodewords())throw new ne;return t}readModule(t,i,a,u){return t<0&&(t+=a,i+=4-(a+4&7)),i<0&&(i+=u,t+=4-(u+4&7)),this.readMappingMatrix.set(i,t),this.mappingBitMatrix.get(i,t)}readUtah(t,i,a,u){let h=0;return this.readModule(t-2,i-2,a,u)&&(h|=1),h<<=1,this.readModule(t-2,i-1,a,u)&&(h|=1),h<<=1,this.readModule(t-1,i-2,a,u)&&(h|=1),h<<=1,this.readModule(t-1,i-1,a,u)&&(h|=1),h<<=1,this.readModule(t-1,i,a,u)&&(h|=1),h<<=1,this.readModule(t,i-2,a,u)&&(h|=1),h<<=1,this.readModule(t,i-1,a,u)&&(h|=1),h<<=1,this.readModule(t,i,a,u)&&(h|=1),h}readCorner1(t,i){let a=0;return this.readModule(t-1,0,t,i)&&(a|=1),a<<=1,this.readModule(t-1,1,t,i)&&(a|=1),a<<=1,this.readModule(t-1,2,t,i)&&(a|=1),a<<=1,this.readModule(0,i-2,t,i)&&(a|=1),a<<=1,this.readModule(0,i-1,t,i)&&(a|=1),a<<=1,this.readModule(1,i-1,t,i)&&(a|=1),a<<=1,this.readModule(2,i-1,t,i)&&(a|=1),a<<=1,this.readModule(3,i-1,t,i)&&(a|=1),a}readCorner2(t,i){let a=0;return this.readModule(t-3,0,t,i)&&(a|=1),a<<=1,this.readModule(t-2,0,t,i)&&(a|=1),a<<=1,this.readModule(t-1,0,t,i)&&(a|=1),a<<=1,this.readModule(0,i-4,t,i)&&(a|=1),a<<=1,this.readModule(0,i-3,t,i)&&(a|=1),a<<=1,this.readModule(0,i-2,t,i)&&(a|=1),a<<=1,this.readModule(0,i-1,t,i)&&(a|=1),a<<=1,this.readModule(1,i-1,t,i)&&(a|=1),a}readCorner3(t,i){let a=0;return this.readModule(t-1,0,t,i)&&(a|=1),a<<=1,this.readModule(t-1,i-1,t,i)&&(a|=1),a<<=1,this.readModule(0,i-3,t,i)&&(a|=1),a<<=1,this.readModule(0,i-2,t,i)&&(a|=1),a<<=1,this.readModule(0,i-1,t,i)&&(a|=1),a<<=1,this.readModule(1,i-3,t,i)&&(a|=1),a<<=1,this.readModule(1,i-2,t,i)&&(a|=1),a<<=1,this.readModule(1,i-1,t,i)&&(a|=1),a}readCorner4(t,i){let a=0;return this.readModule(t-3,0,t,i)&&(a|=1),a<<=1,this.readModule(t-2,0,t,i)&&(a|=1),a<<=1,this.readModule(t-1,0,t,i)&&(a|=1),a<<=1,this.readModule(0,i-2,t,i)&&(a|=1),a<<=1,this.readModule(0,i-1,t,i)&&(a|=1),a<<=1,this.readModule(1,i-1,t,i)&&(a|=1),a<<=1,this.readModule(2,i-1,t,i)&&(a|=1),a<<=1,this.readModule(3,i-1,t,i)&&(a|=1),a}extractDataRegion(t){const i=this.version.getSymbolSizeRows(),a=this.version.getSymbolSizeColumns();if(t.getHeight()!==i)throw new R("Dimension of bitMatrix must match the version size");const u=this.version.getDataRegionSizeRows(),h=this.version.getDataRegionSizeColumns(),d=i/u|0,p=a/h|0,x=d*u,E=p*h,C=new Nt(E,x);for(let N=0;N<d;++N){const I=N*u;for(let L=0;L<p;++L){const j=L*h;for(let P=0;P<u;++P){const q=N*(u+2)+1+P,te=I+P;for(let xe=0;xe<h;++xe){const ye=L*(h+2)+1+xe;if(t.get(ye,q)){const me=j+xe;C.set(me,te)}}}}}return C}}class qr{constructor(t,i){this.numDataCodewords=t,this.codewords=i}static getDataBlocks(t,i){const a=i.getECBlocks();let u=0;const h=a.getECBlocks();for(let P of h)u+=P.getCount();const d=new Array(u);let p=0;for(let P of h)for(let q=0;q<P.getCount();q++){const te=P.getDataCodewords(),xe=a.getECCodewords()+te;d[p++]=new qr(te,new Uint8Array(xe))}const E=d[0].codewords.length-a.getECCodewords(),C=E-1;let N=0;for(let P=0;P<C;P++)for(let q=0;q<p;q++)d[q].codewords[P]=t[N++];const I=i.getVersionNumber()===24,L=I?8:p;for(let P=0;P<L;P++)d[P].codewords[E-1]=t[N++];const j=d[0].codewords.length;for(let P=E;P<j;P++)for(let q=0;q<p;q++){const te=I?(q+8)%p:q,xe=I&&te>7?P-1:P;d[te].codewords[xe]=t[N++]}if(N!==t.length)throw new R;return d}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class oi{constructor(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(t){if(t<1||t>32||t>this.available())throw new R(""+t);let i=0,a=this.bitOffset,u=this.byteOffset;const h=this.bytes;if(a>0){const d=8-a,p=t<d?t:d,x=d-p,E=255>>8-p<<x;i=(h[u]&E)>>x,t-=p,a+=p,a===8&&(a=0,u++)}if(t>0){for(;t>=8;)i=i<<8|h[u]&255,u++,t-=8;if(t>0){const d=8-t,p=255>>d<<d;i=i<<t|(h[u]&p)>>d,a+=t}}return this.bitOffset=a,this.byteOffset=u,i}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var mt;(function(O){O[O.PAD_ENCODE=0]="PAD_ENCODE",O[O.ASCII_ENCODE=1]="ASCII_ENCODE",O[O.C40_ENCODE=2]="C40_ENCODE",O[O.TEXT_ENCODE=3]="TEXT_ENCODE",O[O.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",O[O.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",O[O.BASE256_ENCODE=6]="BASE256_ENCODE"})(mt||(mt={}));class Pi{static decode(t){const i=new oi(t),a=new it,u=new it,h=new Array;let d=mt.ASCII_ENCODE;do if(d===mt.ASCII_ENCODE)d=this.decodeAsciiSegment(i,a,u);else{switch(d){case mt.C40_ENCODE:this.decodeC40Segment(i,a);break;case mt.TEXT_ENCODE:this.decodeTextSegment(i,a);break;case mt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(i,a);break;case mt.EDIFACT_ENCODE:this.decodeEdifactSegment(i,a);break;case mt.BASE256_ENCODE:this.decodeBase256Segment(i,a,h);break;default:throw new ne}d=mt.ASCII_ENCODE}while(d!==mt.PAD_ENCODE&&i.available()>0);return u.length()>0&&a.append(u.toString()),new Lt(t,a.toString(),h.length===0?null:h,null)}static decodeAsciiSegment(t,i,a){let u=!1;do{let h=t.readBits(8);if(h===0)throw new ne;if(h<=128)return u&&(h+=128),i.append(String.fromCharCode(h-1)),mt.ASCII_ENCODE;if(h===129)return mt.PAD_ENCODE;if(h<=229){const d=h-130;d<10&&i.append("0"),i.append(""+d)}else switch(h){case 230:return mt.C40_ENCODE;case 231:return mt.BASE256_ENCODE;case 232:i.append("");break;case 233:case 234:break;case 235:u=!0;break;case 236:i.append("[)>05"),a.insert(0,"");break;case 237:i.append("[)>06"),a.insert(0,"");break;case 238:return mt.ANSIX12_ENCODE;case 239:return mt.TEXT_ENCODE;case 240:return mt.EDIFACT_ENCODE;case 241:break;default:if(h!==254||t.available()!==0)throw new ne;break}}while(t.available()>0);return mt.ASCII_ENCODE}static decodeC40Segment(t,i){let a=!1;const u=[];let h=0;do{if(t.available()===8)return;const d=t.readBits(8);if(d===254)return;this.parseTwoBytes(d,t.readBits(8),u);for(let p=0;p<3;p++){const x=u[p];switch(h){case 0:if(x<3)h=x+1;else if(x<this.C40_BASIC_SET_CHARS.length){const E=this.C40_BASIC_SET_CHARS[x];a?(i.append(String.fromCharCode(E.charCodeAt(0)+128)),a=!1):i.append(E)}else throw new ne;break;case 1:a?(i.append(String.fromCharCode(x+128)),a=!1):i.append(String.fromCharCode(x)),h=0;break;case 2:if(x<this.C40_SHIFT2_SET_CHARS.length){const E=this.C40_SHIFT2_SET_CHARS[x];a?(i.append(String.fromCharCode(E.charCodeAt(0)+128)),a=!1):i.append(E)}else switch(x){case 27:i.append("");break;case 30:a=!0;break;default:throw new ne}h=0;break;case 3:a?(i.append(String.fromCharCode(x+224)),a=!1):i.append(String.fromCharCode(x+96)),h=0;break;default:throw new ne}}}while(t.available()>0)}static decodeTextSegment(t,i){let a=!1,u=[],h=0;do{if(t.available()===8)return;const d=t.readBits(8);if(d===254)return;this.parseTwoBytes(d,t.readBits(8),u);for(let p=0;p<3;p++){const x=u[p];switch(h){case 0:if(x<3)h=x+1;else if(x<this.TEXT_BASIC_SET_CHARS.length){const E=this.TEXT_BASIC_SET_CHARS[x];a?(i.append(String.fromCharCode(E.charCodeAt(0)+128)),a=!1):i.append(E)}else throw new ne;break;case 1:a?(i.append(String.fromCharCode(x+128)),a=!1):i.append(String.fromCharCode(x)),h=0;break;case 2:if(x<this.TEXT_SHIFT2_SET_CHARS.length){const E=this.TEXT_SHIFT2_SET_CHARS[x];a?(i.append(String.fromCharCode(E.charCodeAt(0)+128)),a=!1):i.append(E)}else switch(x){case 27:i.append("");break;case 30:a=!0;break;default:throw new ne}h=0;break;case 3:if(x<this.TEXT_SHIFT3_SET_CHARS.length){const E=this.TEXT_SHIFT3_SET_CHARS[x];a?(i.append(String.fromCharCode(E.charCodeAt(0)+128)),a=!1):i.append(E),h=0}else throw new ne;break;default:throw new ne}}}while(t.available()>0)}static decodeAnsiX12Segment(t,i){const a=[];do{if(t.available()===8)return;const u=t.readBits(8);if(u===254)return;this.parseTwoBytes(u,t.readBits(8),a);for(let h=0;h<3;h++){const d=a[h];switch(d){case 0:i.append("\r");break;case 1:i.append("*");break;case 2:i.append(">");break;case 3:i.append(" ");break;default:if(d<14)i.append(String.fromCharCode(d+44));else if(d<40)i.append(String.fromCharCode(d+51));else throw new ne;break}}}while(t.available()>0)}static parseTwoBytes(t,i,a){let u=(t<<8)+i-1,h=Math.floor(u/1600);a[0]=h,u-=h*1600,h=Math.floor(u/40),a[1]=h,a[2]=u-h*40}static decodeEdifactSegment(t,i){do{if(t.available()<=16)return;for(let a=0;a<4;a++){let u=t.readBits(6);if(u===31){const h=8-t.getBitOffset();h!==8&&t.readBits(h);return}(u&32)===0&&(u|=64),i.append(String.fromCharCode(u))}}while(t.available()>0)}static decodeBase256Segment(t,i,a){let u=1+t.getByteOffset();const h=this.unrandomize255State(t.readBits(8),u++);let d;if(h===0?d=t.available()/8|0:h<250?d=h:d=250*(h-249)+this.unrandomize255State(t.readBits(8),u++),d<0)throw new ne;const p=new Uint8Array(d);for(let x=0;x<d;x++){if(t.available()<8)throw new ne;p[x]=this.unrandomize255State(t.readBits(8),u++)}a.push(p);try{i.append(Ft.decode(p,Ne.ISO88591))}catch(x){throw new Wn("Platform does not support required encoding: "+x.message)}}static unrandomize255State(t,i){const a=149*i%255+1,u=t-a;return u>=0?u:u+256}}Pi.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Pi.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Pi.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Pi.TEXT_SHIFT2_SET_CHARS=Pi.C40_SHIFT2_SET_CHARS,Pi.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class dc{constructor(){this.rsDecoder=new fr(ft.DATA_MATRIX_FIELD_256)}decode(t){const i=new Yr(t),a=i.getVersion(),u=i.readCodewords(),h=qr.getDataBlocks(u,a);let d=0;for(let E of h)d+=E.getNumDataCodewords();const p=new Uint8Array(d),x=h.length;for(let E=0;E<x;E++){const C=h[E],N=C.getCodewords(),I=C.getNumDataCodewords();this.correctErrors(N,I);for(let L=0;L<I;L++)p[L*x+E]=N[L]}return Pi.decode(p)}correctErrors(t,i){const a=new Int32Array(t);try{this.rsDecoder.decode(a,t.length-i)}catch{throw new B}for(let u=0;u<i;u++)t[u]=a[u]}}class Ht{constructor(t){this.image=t,this.rectangleDetector=new Kt(this.image)}detect(){const t=this.rectangleDetector.detect();let i=this.detectSolid1(t);if(i=this.detectSolid2(i),i[3]=this.correctTopRight(i),!i[3])throw new se;i=this.shiftToModuleCenter(i);const a=i[0],u=i[1],h=i[2],d=i[3];let p=this.transitionsBetween(a,d)+1,x=this.transitionsBetween(h,d)+1;(p&1)===1&&(p+=1),(x&1)===1&&(x+=1),4*p<7*x&&4*x<7*p&&(p=x=Math.max(p,x));let E=Ht.sampleGrid(this.image,a,u,h,d,p,x);return new os(E,[a,u,h,d])}static shiftPoint(t,i,a){let u=(i.getX()-t.getX())/(a+1),h=(i.getY()-t.getY())/(a+1);return new _e(t.getX()+u,t.getY()+h)}static moveAway(t,i,a){let u=t.getX(),h=t.getY();return u<i?u-=1:u+=1,h<a?h-=1:h+=1,new _e(u,h)}detectSolid1(t){let i=t[0],a=t[1],u=t[3],h=t[2],d=this.transitionsBetween(i,a),p=this.transitionsBetween(a,u),x=this.transitionsBetween(u,h),E=this.transitionsBetween(h,i),C=d,N=[h,i,a,u];return C>p&&(C=p,N[0]=i,N[1]=a,N[2]=u,N[3]=h),C>x&&(C=x,N[0]=a,N[1]=u,N[2]=h,N[3]=i),C>E&&(N[0]=u,N[1]=h,N[2]=i,N[3]=a),N}detectSolid2(t){let i=t[0],a=t[1],u=t[2],h=t[3],d=this.transitionsBetween(i,h),p=Ht.shiftPoint(a,u,(d+1)*4),x=Ht.shiftPoint(u,a,(d+1)*4),E=this.transitionsBetween(p,i),C=this.transitionsBetween(x,h);return E<C?(t[0]=i,t[1]=a,t[2]=u,t[3]=h):(t[0]=a,t[1]=u,t[2]=h,t[3]=i),t}correctTopRight(t){let i=t[0],a=t[1],u=t[2],h=t[3],d=this.transitionsBetween(i,h),p=this.transitionsBetween(a,h),x=Ht.shiftPoint(i,a,(p+1)*4),E=Ht.shiftPoint(u,a,(d+1)*4);d=this.transitionsBetween(x,h),p=this.transitionsBetween(E,h);let C=new _e(h.getX()+(u.getX()-a.getX())/(d+1),h.getY()+(u.getY()-a.getY())/(d+1)),N=new _e(h.getX()+(i.getX()-a.getX())/(p+1),h.getY()+(i.getY()-a.getY())/(p+1));if(!this.isValid(C))return this.isValid(N)?N:null;if(!this.isValid(N))return C;let I=this.transitionsBetween(x,C)+this.transitionsBetween(E,C),L=this.transitionsBetween(x,N)+this.transitionsBetween(E,N);return I>L?C:N}shiftToModuleCenter(t){let i=t[0],a=t[1],u=t[2],h=t[3],d=this.transitionsBetween(i,h)+1,p=this.transitionsBetween(u,h)+1,x=Ht.shiftPoint(i,a,p*4),E=Ht.shiftPoint(u,a,d*4);d=this.transitionsBetween(x,h)+1,p=this.transitionsBetween(E,h)+1,(d&1)===1&&(d+=1),(p&1)===1&&(p+=1);let C=(i.getX()+a.getX()+u.getX()+h.getX())/4,N=(i.getY()+a.getY()+u.getY()+h.getY())/4;i=Ht.moveAway(i,C,N),a=Ht.moveAway(a,C,N),u=Ht.moveAway(u,C,N),h=Ht.moveAway(h,C,N);let I,L;return x=Ht.shiftPoint(i,a,p*4),x=Ht.shiftPoint(x,h,d*4),I=Ht.shiftPoint(a,i,p*4),I=Ht.shiftPoint(I,u,d*4),E=Ht.shiftPoint(u,h,p*4),E=Ht.shiftPoint(E,a,d*4),L=Ht.shiftPoint(h,u,p*4),L=Ht.shiftPoint(L,i,d*4),[x,I,E,L]}isValid(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()}static sampleGrid(t,i,a,u,h,d,p){return ai.getInstance().sampleGrid(t,d,p,.5,.5,d-.5,.5,d-.5,p-.5,.5,p-.5,i.getX(),i.getY(),h.getX(),h.getY(),u.getX(),u.getY(),a.getX(),a.getY())}transitionsBetween(t,i){let a=Math.trunc(t.getX()),u=Math.trunc(t.getY()),h=Math.trunc(i.getX()),d=Math.trunc(i.getY()),p=Math.abs(d-u)>Math.abs(h-a);if(p){let P=a;a=u,u=P,P=h,h=d,d=P}let x=Math.abs(h-a),E=Math.abs(d-u),C=-x/2,N=u<d?1:-1,I=a<h?1:-1,L=0,j=this.image.get(p?u:a,p?a:u);for(let P=a,q=u;P!==h;P+=I){let te=this.image.get(p?q:P,p?P:q);if(te!==j&&(L++,j=te),C+=E,C>0){if(q===d)break;q+=N,C-=x}}return L}}class zi{constructor(){this.decoder=new dc}decode(t,i=null){let a,u;if(i!=null&&i.has(Ee.PURE_BARCODE)){const E=zi.extractPureBits(t.getBlackMatrix());a=this.decoder.decode(E),u=zi.NO_POINTS}else{const E=new Ht(t.getBlackMatrix()).detect();a=this.decoder.decode(E.getBits()),u=E.getPoints()}const h=a.getRawBytes(),d=new Ae(a.getText(),h,8*h.length,u,be.DATA_MATRIX,H.currentTimeMillis()),p=a.getByteSegments();p!=null&&d.putMetadata(ht.BYTE_SEGMENTS,p);const x=a.getECLevel();return x!=null&&d.putMetadata(ht.ERROR_CORRECTION_LEVEL,x),d}reset(){}static extractPureBits(t){const i=t.getTopLeftOnBit(),a=t.getBottomRightOnBit();if(i==null||a==null)throw new se;const u=this.moduleSize(i,t);let h=i[1];const d=a[1];let p=i[0];const E=(a[0]-p+1)/u,C=(d-h+1)/u;if(E<=0||C<=0)throw new se;const N=u/2;h+=N,p+=N;const I=new Nt(E,C);for(let L=0;L<C;L++){const j=h+L*u;for(let P=0;P<E;P++)t.get(p+P*u,j)&&I.set(P,L)}return I}static moduleSize(t,i){const a=i.getWidth();let u=t[0];const h=t[1];for(;u<a&&i.get(u,h);)u++;if(u===a)throw new se;const d=u-t[0];if(d===0)throw new se;return d}}zi.NO_POINTS=[];class fs extends ve{constructor(t=500){super(new zi,t)}}var Xr;(function(O){O[O.L=0]="L",O[O.M=1]="M",O[O.Q=2]="Q",O[O.H=3]="H"})(Xr||(Xr={}));class Qe{constructor(t,i,a){this.value=t,this.stringValue=i,this.bits=a,Qe.FOR_BITS.set(a,this),Qe.FOR_VALUE.set(t,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(t){switch(t){case"L":return Qe.L;case"M":return Qe.M;case"Q":return Qe.Q;case"H":return Qe.H;default:throw new T(t+"not available")}}toString(){return this.stringValue}equals(t){if(!(t instanceof Qe))return!1;const i=t;return this.value===i.value}static forBits(t){if(t<0||t>=Qe.FOR_BITS.size)throw new R;return Qe.FOR_BITS.get(t)}}Qe.FOR_BITS=new Map,Qe.FOR_VALUE=new Map,Qe.L=new Qe(Xr.L,"L",1),Qe.M=new Qe(Xr.M,"M",0),Qe.Q=new Qe(Xr.Q,"Q",3),Qe.H=new Qe(Xr.H,"H",2);class hn{constructor(t){this.errorCorrectionLevel=Qe.forBits(t>>3&3),this.dataMask=t&7}static numBitsDiffering(t,i){return X.bitCount(t^i)}static decodeFormatInformation(t,i){const a=hn.doDecodeFormatInformation(t,i);return a!==null?a:hn.doDecodeFormatInformation(t^hn.FORMAT_INFO_MASK_QR,i^hn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(t,i){let a=Number.MAX_SAFE_INTEGER,u=0;for(const h of hn.FORMAT_INFO_DECODE_LOOKUP){const d=h[0];if(d===t||d===i)return new hn(h[1]);let p=hn.numBitsDiffering(t,d);p<a&&(u=h[1],a=p),t!==i&&(p=hn.numBitsDiffering(i,d),p<a&&(u=h[1],a=p))}return a<=3?new hn(u):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(t){if(!(t instanceof hn))return!1;const i=t;return this.errorCorrectionLevel===i.errorCorrectionLevel&&this.dataMask===i.dataMask}}hn.FORMAT_INFO_MASK_QR=21522,hn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class W{constructor(t,...i){this.ecCodewordsPerBlock=t,this.ecBlocks=i}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let t=0;const i=this.ecBlocks;for(const a of i)t+=a.getCount();return t}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class M{constructor(t,i){this.count=t,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Oe{constructor(t,i,...a){this.versionNumber=t,this.alignmentPatternCenters=i,this.ecBlocks=a;let u=0;const h=a[0].getECCodewordsPerBlock(),d=a[0].getECBlocks();for(const p of d)u+=p.getCount()*(p.getDataCodewords()+h);this.totalCodewords=u}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(t){return this.ecBlocks[t.getValue()]}static getProvisionalVersionForDimension(t){if(t%4!==1)throw new ne;try{return this.getVersionForNumber((t-17)/4)}catch{throw new ne}}static getVersionForNumber(t){if(t<1||t>40)throw new R;return Oe.VERSIONS[t-1]}static decodeVersionInformation(t){let i=Number.MAX_SAFE_INTEGER,a=0;for(let u=0;u<Oe.VERSION_DECODE_INFO.length;u++){const h=Oe.VERSION_DECODE_INFO[u];if(h===t)return Oe.getVersionForNumber(u+7);const d=hn.numBitsDiffering(t,h);d<i&&(a=u+7,i=d)}return i<=3?Oe.getVersionForNumber(a):null}buildFunctionPattern(){const t=this.getDimensionForVersion(),i=new Nt(t);i.setRegion(0,0,9,9),i.setRegion(t-8,0,8,9),i.setRegion(0,t-8,9,8);const a=this.alignmentPatternCenters.length;for(let u=0;u<a;u++){const h=this.alignmentPatternCenters[u]-2;for(let d=0;d<a;d++)u===0&&(d===0||d===a-1)||u===a-1&&d===0||i.setRegion(this.alignmentPatternCenters[d]-2,h,5,5)}return i.setRegion(6,9,1,t-17),i.setRegion(9,6,t-17,1),this.versionNumber>6&&(i.setRegion(t-11,0,3,6),i.setRegion(0,t-11,6,3)),i}toString(){return""+this.versionNumber}}Oe.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Oe.VERSIONS=[new Oe(1,new Int32Array(0),new W(7,new M(1,19)),new W(10,new M(1,16)),new W(13,new M(1,13)),new W(17,new M(1,9))),new Oe(2,Int32Array.from([6,18]),new W(10,new M(1,34)),new W(16,new M(1,28)),new W(22,new M(1,22)),new W(28,new M(1,16))),new Oe(3,Int32Array.from([6,22]),new W(15,new M(1,55)),new W(26,new M(1,44)),new W(18,new M(2,17)),new W(22,new M(2,13))),new Oe(4,Int32Array.from([6,26]),new W(20,new M(1,80)),new W(18,new M(2,32)),new W(26,new M(2,24)),new W(16,new M(4,9))),new Oe(5,Int32Array.from([6,30]),new W(26,new M(1,108)),new W(24,new M(2,43)),new W(18,new M(2,15),new M(2,16)),new W(22,new M(2,11),new M(2,12))),new Oe(6,Int32Array.from([6,34]),new W(18,new M(2,68)),new W(16,new M(4,27)),new W(24,new M(4,19)),new W(28,new M(4,15))),new Oe(7,Int32Array.from([6,22,38]),new W(20,new M(2,78)),new W(18,new M(4,31)),new W(18,new M(2,14),new M(4,15)),new W(26,new M(4,13),new M(1,14))),new Oe(8,Int32Array.from([6,24,42]),new W(24,new M(2,97)),new W(22,new M(2,38),new M(2,39)),new W(22,new M(4,18),new M(2,19)),new W(26,new M(4,14),new M(2,15))),new Oe(9,Int32Array.from([6,26,46]),new W(30,new M(2,116)),new W(22,new M(3,36),new M(2,37)),new W(20,new M(4,16),new M(4,17)),new W(24,new M(4,12),new M(4,13))),new Oe(10,Int32Array.from([6,28,50]),new W(18,new M(2,68),new M(2,69)),new W(26,new M(4,43),new M(1,44)),new W(24,new M(6,19),new M(2,20)),new W(28,new M(6,15),new M(2,16))),new Oe(11,Int32Array.from([6,30,54]),new W(20,new M(4,81)),new W(30,new M(1,50),new M(4,51)),new W(28,new M(4,22),new M(4,23)),new W(24,new M(3,12),new M(8,13))),new Oe(12,Int32Array.from([6,32,58]),new W(24,new M(2,92),new M(2,93)),new W(22,new M(6,36),new M(2,37)),new W(26,new M(4,20),new M(6,21)),new W(28,new M(7,14),new M(4,15))),new Oe(13,Int32Array.from([6,34,62]),new W(26,new M(4,107)),new W(22,new M(8,37),new M(1,38)),new W(24,new M(8,20),new M(4,21)),new W(22,new M(12,11),new M(4,12))),new Oe(14,Int32Array.from([6,26,46,66]),new W(30,new M(3,115),new M(1,116)),new W(24,new M(4,40),new M(5,41)),new W(20,new M(11,16),new M(5,17)),new W(24,new M(11,12),new M(5,13))),new Oe(15,Int32Array.from([6,26,48,70]),new W(22,new M(5,87),new M(1,88)),new W(24,new M(5,41),new M(5,42)),new W(30,new M(5,24),new M(7,25)),new W(24,new M(11,12),new M(7,13))),new Oe(16,Int32Array.from([6,26,50,74]),new W(24,new M(5,98),new M(1,99)),new W(28,new M(7,45),new M(3,46)),new W(24,new M(15,19),new M(2,20)),new W(30,new M(3,15),new M(13,16))),new Oe(17,Int32Array.from([6,30,54,78]),new W(28,new M(1,107),new M(5,108)),new W(28,new M(10,46),new M(1,47)),new W(28,new M(1,22),new M(15,23)),new W(28,new M(2,14),new M(17,15))),new Oe(18,Int32Array.from([6,30,56,82]),new W(30,new M(5,120),new M(1,121)),new W(26,new M(9,43),new M(4,44)),new W(28,new M(17,22),new M(1,23)),new W(28,new M(2,14),new M(19,15))),new Oe(19,Int32Array.from([6,30,58,86]),new W(28,new M(3,113),new M(4,114)),new W(26,new M(3,44),new M(11,45)),new W(26,new M(17,21),new M(4,22)),new W(26,new M(9,13),new M(16,14))),new Oe(20,Int32Array.from([6,34,62,90]),new W(28,new M(3,107),new M(5,108)),new W(26,new M(3,41),new M(13,42)),new W(30,new M(15,24),new M(5,25)),new W(28,new M(15,15),new M(10,16))),new Oe(21,Int32Array.from([6,28,50,72,94]),new W(28,new M(4,116),new M(4,117)),new W(26,new M(17,42)),new W(28,new M(17,22),new M(6,23)),new W(30,new M(19,16),new M(6,17))),new Oe(22,Int32Array.from([6,26,50,74,98]),new W(28,new M(2,111),new M(7,112)),new W(28,new M(17,46)),new W(30,new M(7,24),new M(16,25)),new W(24,new M(34,13))),new Oe(23,Int32Array.from([6,30,54,78,102]),new W(30,new M(4,121),new M(5,122)),new W(28,new M(4,47),new M(14,48)),new W(30,new M(11,24),new M(14,25)),new W(30,new M(16,15),new M(14,16))),new Oe(24,Int32Array.from([6,28,54,80,106]),new W(30,new M(6,117),new M(4,118)),new W(28,new M(6,45),new M(14,46)),new W(30,new M(11,24),new M(16,25)),new W(30,new M(30,16),new M(2,17))),new Oe(25,Int32Array.from([6,32,58,84,110]),new W(26,new M(8,106),new M(4,107)),new W(28,new M(8,47),new M(13,48)),new W(30,new M(7,24),new M(22,25)),new W(30,new M(22,15),new M(13,16))),new Oe(26,Int32Array.from([6,30,58,86,114]),new W(28,new M(10,114),new M(2,115)),new W(28,new M(19,46),new M(4,47)),new W(28,new M(28,22),new M(6,23)),new W(30,new M(33,16),new M(4,17))),new Oe(27,Int32Array.from([6,34,62,90,118]),new W(30,new M(8,122),new M(4,123)),new W(28,new M(22,45),new M(3,46)),new W(30,new M(8,23),new M(26,24)),new W(30,new M(12,15),new M(28,16))),new Oe(28,Int32Array.from([6,26,50,74,98,122]),new W(30,new M(3,117),new M(10,118)),new W(28,new M(3,45),new M(23,46)),new W(30,new M(4,24),new M(31,25)),new W(30,new M(11,15),new M(31,16))),new Oe(29,Int32Array.from([6,30,54,78,102,126]),new W(30,new M(7,116),new M(7,117)),new W(28,new M(21,45),new M(7,46)),new W(30,new M(1,23),new M(37,24)),new W(30,new M(19,15),new M(26,16))),new Oe(30,Int32Array.from([6,26,52,78,104,130]),new W(30,new M(5,115),new M(10,116)),new W(28,new M(19,47),new M(10,48)),new W(30,new M(15,24),new M(25,25)),new W(30,new M(23,15),new M(25,16))),new Oe(31,Int32Array.from([6,30,56,82,108,134]),new W(30,new M(13,115),new M(3,116)),new W(28,new M(2,46),new M(29,47)),new W(30,new M(42,24),new M(1,25)),new W(30,new M(23,15),new M(28,16))),new Oe(32,Int32Array.from([6,34,60,86,112,138]),new W(30,new M(17,115)),new W(28,new M(10,46),new M(23,47)),new W(30,new M(10,24),new M(35,25)),new W(30,new M(19,15),new M(35,16))),new Oe(33,Int32Array.from([6,30,58,86,114,142]),new W(30,new M(17,115),new M(1,116)),new W(28,new M(14,46),new M(21,47)),new W(30,new M(29,24),new M(19,25)),new W(30,new M(11,15),new M(46,16))),new Oe(34,Int32Array.from([6,34,62,90,118,146]),new W(30,new M(13,115),new M(6,116)),new W(28,new M(14,46),new M(23,47)),new W(30,new M(44,24),new M(7,25)),new W(30,new M(59,16),new M(1,17))),new Oe(35,Int32Array.from([6,30,54,78,102,126,150]),new W(30,new M(12,121),new M(7,122)),new W(28,new M(12,47),new M(26,48)),new W(30,new M(39,24),new M(14,25)),new W(30,new M(22,15),new M(41,16))),new Oe(36,Int32Array.from([6,24,50,76,102,128,154]),new W(30,new M(6,121),new M(14,122)),new W(28,new M(6,47),new M(34,48)),new W(30,new M(46,24),new M(10,25)),new W(30,new M(2,15),new M(64,16))),new Oe(37,Int32Array.from([6,28,54,80,106,132,158]),new W(30,new M(17,122),new M(4,123)),new W(28,new M(29,46),new M(14,47)),new W(30,new M(49,24),new M(10,25)),new W(30,new M(24,15),new M(46,16))),new Oe(38,Int32Array.from([6,32,58,84,110,136,162]),new W(30,new M(4,122),new M(18,123)),new W(28,new M(13,46),new M(32,47)),new W(30,new M(48,24),new M(14,25)),new W(30,new M(42,15),new M(32,16))),new Oe(39,Int32Array.from([6,26,54,82,110,138,166]),new W(30,new M(20,117),new M(4,118)),new W(28,new M(40,47),new M(7,48)),new W(30,new M(43,24),new M(22,25)),new W(30,new M(10,15),new M(67,16))),new Oe(40,Int32Array.from([6,30,58,86,114,142,170]),new W(30,new M(19,118),new M(6,119)),new W(28,new M(18,47),new M(31,48)),new W(30,new M(34,24),new M(34,25)),new W(30,new M(20,15),new M(61,16)))];var ln;(function(O){O[O.DATA_MASK_000=0]="DATA_MASK_000",O[O.DATA_MASK_001=1]="DATA_MASK_001",O[O.DATA_MASK_010=2]="DATA_MASK_010",O[O.DATA_MASK_011=3]="DATA_MASK_011",O[O.DATA_MASK_100=4]="DATA_MASK_100",O[O.DATA_MASK_101=5]="DATA_MASK_101",O[O.DATA_MASK_110=6]="DATA_MASK_110",O[O.DATA_MASK_111=7]="DATA_MASK_111"})(ln||(ln={}));class Vn{constructor(t,i){this.value=t,this.isMasked=i}unmaskBitMatrix(t,i){for(let a=0;a<i;a++)for(let u=0;u<i;u++)this.isMasked(a,u)&&t.flip(u,a)}}Vn.values=new Map([[ln.DATA_MASK_000,new Vn(ln.DATA_MASK_000,(O,t)=>(O+t&1)===0)],[ln.DATA_MASK_001,new Vn(ln.DATA_MASK_001,(O,t)=>(O&1)===0)],[ln.DATA_MASK_010,new Vn(ln.DATA_MASK_010,(O,t)=>t%3===0)],[ln.DATA_MASK_011,new Vn(ln.DATA_MASK_011,(O,t)=>(O+t)%3===0)],[ln.DATA_MASK_100,new Vn(ln.DATA_MASK_100,(O,t)=>(Math.floor(O/2)+Math.floor(t/3)&1)===0)],[ln.DATA_MASK_101,new Vn(ln.DATA_MASK_101,(O,t)=>O*t%6===0)],[ln.DATA_MASK_110,new Vn(ln.DATA_MASK_110,(O,t)=>O*t%6<3)],[ln.DATA_MASK_111,new Vn(ln.DATA_MASK_111,(O,t)=>(O+t+O*t%3&1)===0)]]);class Wr{constructor(t){const i=t.getHeight();if(i<21||(i&3)!==1)throw new ne;this.bitMatrix=t}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let t=0;for(let h=0;h<6;h++)t=this.copyBit(h,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(let h=5;h>=0;h--)t=this.copyBit(8,h,t);const i=this.bitMatrix.getHeight();let a=0;const u=i-7;for(let h=i-1;h>=u;h--)a=this.copyBit(8,h,a);for(let h=i-8;h<i;h++)a=this.copyBit(h,8,a);if(this.parsedFormatInfo=hn.decodeFormatInformation(t,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new ne}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const t=this.bitMatrix.getHeight(),i=Math.floor((t-17)/4);if(i<=6)return Oe.getVersionForNumber(i);let a=0;const u=t-11;for(let d=5;d>=0;d--)for(let p=t-9;p>=u;p--)a=this.copyBit(p,d,a);let h=Oe.decodeVersionInformation(a);if(h!==null&&h.getDimensionForVersion()===t)return this.parsedVersion=h,h;a=0;for(let d=5;d>=0;d--)for(let p=t-9;p>=u;p--)a=this.copyBit(d,p,a);if(h=Oe.decodeVersionInformation(a),h!==null&&h.getDimensionForVersion()===t)return this.parsedVersion=h,h;throw new ne}copyBit(t,i,a){return(this.isMirror?this.bitMatrix.get(i,t):this.bitMatrix.get(t,i))?a<<1|1:a<<1}readCodewords(){const t=this.readFormatInformation(),i=this.readVersion(),a=Vn.values.get(t.getDataMask()),u=this.bitMatrix.getHeight();a.unmaskBitMatrix(this.bitMatrix,u);const h=i.buildFunctionPattern();let d=!0;const p=new Uint8Array(i.getTotalCodewords());let x=0,E=0,C=0;for(let N=u-1;N>0;N-=2){N===6&&N--;for(let I=0;I<u;I++){const L=d?u-1-I:I;for(let j=0;j<2;j++)h.get(N-j,L)||(C++,E<<=1,this.bitMatrix.get(N-j,L)&&(E|=1),C===8&&(p[x++]=E,C=0,E=0))}d=!d}if(x!==i.getTotalCodewords())throw new ne;return p}remask(){if(this.parsedFormatInfo===null)return;const t=Vn.values[this.parsedFormatInfo.getDataMask()],i=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,i)}setMirror(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t}mirror(){const t=this.bitMatrix;for(let i=0,a=t.getWidth();i<a;i++)for(let u=i+1,h=t.getHeight();u<h;u++)t.get(i,u)!==t.get(u,i)&&(t.flip(u,i),t.flip(i,u))}}class gl{constructor(t,i){this.numDataCodewords=t,this.codewords=i}static getDataBlocks(t,i,a){if(t.length!==i.getTotalCodewords())throw new R;const u=i.getECBlocksForLevel(a);let h=0;const d=u.getECBlocks();for(const j of d)h+=j.getCount();const p=new Array(h);let x=0;for(const j of d)for(let P=0;P<j.getCount();P++){const q=j.getDataCodewords(),te=u.getECCodewordsPerBlock()+q;p[x++]=new gl(q,new Uint8Array(te))}const E=p[0].codewords.length;let C=p.length-1;for(;C>=0&&p[C].codewords.length!==E;)C--;C++;const N=E-u.getECCodewordsPerBlock();let I=0;for(let j=0;j<N;j++)for(let P=0;P<x;P++)p[P].codewords[j]=t[I++];for(let j=C;j<x;j++)p[j].codewords[N]=t[I++];const L=p[0].codewords.length;for(let j=N;j<L;j++)for(let P=0;P<x;P++){const q=P<C?j:j+1;p[P].codewords[q]=t[I++]}return p}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Gn;(function(O){O[O.TERMINATOR=0]="TERMINATOR",O[O.NUMERIC=1]="NUMERIC",O[O.ALPHANUMERIC=2]="ALPHANUMERIC",O[O.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",O[O.BYTE=4]="BYTE",O[O.ECI=5]="ECI",O[O.KANJI=6]="KANJI",O[O.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",O[O.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",O[O.HANZI=9]="HANZI"})(Gn||(Gn={}));class Me{constructor(t,i,a,u){this.value=t,this.stringValue=i,this.characterCountBitsForVersions=a,this.bits=u,Me.FOR_BITS.set(u,this),Me.FOR_VALUE.set(t,this)}static forBits(t){const i=Me.FOR_BITS.get(t);if(i===void 0)throw new R;return i}getCharacterCountBits(t){const i=t.getVersionNumber();let a;return i<=9?a=0:i<=26?a=1:a=2,this.characterCountBitsForVersions[a]}getValue(){return this.value}getBits(){return this.bits}equals(t){if(!(t instanceof Me))return!1;const i=t;return this.value===i.value}toString(){return this.stringValue}}Me.FOR_BITS=new Map,Me.FOR_VALUE=new Map,Me.TERMINATOR=new Me(Gn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Me.NUMERIC=new Me(Gn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Me.ALPHANUMERIC=new Me(Gn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Me.STRUCTURED_APPEND=new Me(Gn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Me.BYTE=new Me(Gn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Me.ECI=new Me(Gn.ECI,"ECI",Int32Array.from([0,0,0]),7),Me.KANJI=new Me(Gn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Me.FNC1_FIRST_POSITION=new Me(Gn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Me.FNC1_SECOND_POSITION=new Me(Gn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Me.HANZI=new Me(Gn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Bt{static decode(t,i,a,u){const h=new oi(t);let d=new it;const p=new Array;let x=-1,E=-1;try{let C=null,N=!1,I;do{if(h.available()<4)I=Me.TERMINATOR;else{const L=h.readBits(4);I=Me.forBits(L)}switch(I){case Me.TERMINATOR:break;case Me.FNC1_FIRST_POSITION:case Me.FNC1_SECOND_POSITION:N=!0;break;case Me.STRUCTURED_APPEND:if(h.available()<16)throw new ne;x=h.readBits(8),E=h.readBits(8);break;case Me.ECI:const L=Bt.parseECIValue(h);if(C=de.getCharacterSetECIByValue(L),C===null)throw new ne;break;case Me.HANZI:const j=h.readBits(4),P=h.readBits(I.getCharacterCountBits(i));j===Bt.GB2312_SUBSET&&Bt.decodeHanziSegment(h,d,P);break;default:const q=h.readBits(I.getCharacterCountBits(i));switch(I){case Me.NUMERIC:Bt.decodeNumericSegment(h,d,q);break;case Me.ALPHANUMERIC:Bt.decodeAlphanumericSegment(h,d,q,N);break;case Me.BYTE:Bt.decodeByteSegment(h,d,q,C,p,u);break;case Me.KANJI:Bt.decodeKanjiSegment(h,d,q);break;default:throw new ne}break}}while(I!==Me.TERMINATOR)}catch{throw new ne}return new Lt(t,d.toString(),p.length===0?null:p,a===null?null:a.toString(),x,E)}static decodeHanziSegment(t,i,a){if(a*13>t.available())throw new ne;const u=new Uint8Array(2*a);let h=0;for(;a>0;){const d=t.readBits(13);let p=d/96<<8&4294967295|d%96;p<959?p+=41377:p+=42657,u[h]=p>>8&255,u[h+1]=p&255,h+=2,a--}try{i.append(Ft.decode(u,Ne.GB2312))}catch(d){throw new ne(d)}}static decodeKanjiSegment(t,i,a){if(a*13>t.available())throw new ne;const u=new Uint8Array(2*a);let h=0;for(;a>0;){const d=t.readBits(13);let p=d/192<<8&4294967295|d%192;p<7936?p+=33088:p+=49472,u[h]=p>>8,u[h+1]=p,h+=2,a--}try{i.append(Ft.decode(u,Ne.SHIFT_JIS))}catch(d){throw new ne(d)}}static decodeByteSegment(t,i,a,u,h,d){if(8*a>t.available())throw new ne;const p=new Uint8Array(a);for(let E=0;E<a;E++)p[E]=t.readBits(8);let x;u===null?x=Ne.guessEncoding(p,d):x=u.getName();try{i.append(Ft.decode(p,x))}catch(E){throw new ne(E)}h.push(p)}static toAlphaNumericChar(t){if(t>=Bt.ALPHANUMERIC_CHARS.length)throw new ne;return Bt.ALPHANUMERIC_CHARS[t]}static decodeAlphanumericSegment(t,i,a,u){const h=i.length();for(;a>1;){if(t.available()<11)throw new ne;const d=t.readBits(11);i.append(Bt.toAlphaNumericChar(Math.floor(d/45))),i.append(Bt.toAlphaNumericChar(d%45)),a-=2}if(a===1){if(t.available()<6)throw new ne;i.append(Bt.toAlphaNumericChar(t.readBits(6)))}if(u)for(let d=h;d<i.length();d++)i.charAt(d)==="%"&&(d<i.length()-1&&i.charAt(d+1)==="%"?i.deleteCharAt(d+1):i.setCharAt(d,""))}static decodeNumericSegment(t,i,a){for(;a>=3;){if(t.available()<10)throw new ne;const u=t.readBits(10);if(u>=1e3)throw new ne;i.append(Bt.toAlphaNumericChar(Math.floor(u/100))),i.append(Bt.toAlphaNumericChar(Math.floor(u/10)%10)),i.append(Bt.toAlphaNumericChar(u%10)),a-=3}if(a===2){if(t.available()<7)throw new ne;const u=t.readBits(7);if(u>=100)throw new ne;i.append(Bt.toAlphaNumericChar(Math.floor(u/10))),i.append(Bt.toAlphaNumericChar(u%10))}else if(a===1){if(t.available()<4)throw new ne;const u=t.readBits(4);if(u>=10)throw new ne;i.append(Bt.toAlphaNumericChar(u))}}static parseECIValue(t){const i=t.readBits(8);if((i&128)===0)return i&127;if((i&192)===128){const a=t.readBits(8);return(i&63)<<8&4294967295|a}if((i&224)===192){const a=t.readBits(16);return(i&31)<<16&4294967295|a}throw new ne}}Bt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Bt.GB2312_SUBSET=1;class Oo{constructor(t){this.mirrored=t}isMirrored(){return this.mirrored}applyMirroredCorrection(t){if(!this.mirrored||t===null||t.length<3)return;const i=t[0];t[0]=t[2],t[2]=i}}class gc{constructor(){this.rsDecoder=new fr(ft.QR_CODE_FIELD_256)}decodeBooleanArray(t,i){return this.decodeBitMatrix(Nt.parseFromBooleanArray(t),i)}decodeBitMatrix(t,i){const a=new Wr(t);let u=null;try{return this.decodeBitMatrixParser(a,i)}catch(h){u=h}try{a.remask(),a.setMirror(!0),a.readVersion(),a.readFormatInformation(),a.mirror();const h=this.decodeBitMatrixParser(a,i);return h.setOther(new Oo(!0)),h}catch(h){throw u!==null?u:h}}decodeBitMatrixParser(t,i){const a=t.readVersion(),u=t.readFormatInformation().getErrorCorrectionLevel(),h=t.readCodewords(),d=gl.getDataBlocks(h,a,u);let p=0;for(const C of d)p+=C.getNumDataCodewords();const x=new Uint8Array(p);let E=0;for(const C of d){const N=C.getCodewords(),I=C.getNumDataCodewords();this.correctErrors(N,I);for(let L=0;L<I;L++)x[E++]=N[L]}return Bt.decode(x,a,u,i)}correctErrors(t,i){const a=new Int32Array(t);try{this.rsDecoder.decode(a,t.length-i)}catch{throw new B}for(let u=0;u<i;u++)t[u]=a[u]}}class Zr extends _e{constructor(t,i,a){super(t,i),this.estimatedModuleSize=a}aboutEquals(t,i,a){if(Math.abs(i-this.getY())<=t&&Math.abs(a-this.getX())<=t){const u=Math.abs(t-this.estimatedModuleSize);return u<=1||u<=this.estimatedModuleSize}return!1}combineEstimate(t,i,a){const u=(this.getX()+i)/2,h=(this.getY()+t)/2,d=(this.estimatedModuleSize+a)/2;return new Zr(u,h,d)}}class Qn{constructor(t,i,a,u,h,d,p){this.image=t,this.startX=i,this.startY=a,this.width=u,this.height=h,this.moduleSize=d,this.resultPointCallback=p,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const t=this.startX,i=this.height,a=this.width,u=t+a,h=this.startY+i/2,d=new Int32Array(3),p=this.image;for(let x=0;x<i;x++){const E=h+((x&1)===0?Math.floor((x+1)/2):-Math.floor((x+1)/2));d[0]=0,d[1]=0,d[2]=0;let C=t;for(;C<u&&!p.get(C,E);)C++;let N=0;for(;C<u;){if(p.get(C,E))if(N===1)d[1]++;else if(N===2){if(this.foundPatternCross(d)){const I=this.handlePossibleCenter(d,E,C);if(I!==null)return I}d[0]=d[2],d[1]=1,d[2]=0,N=1}else d[++N]++;else N===1&&N++,d[N]++;C++}if(this.foundPatternCross(d)){const I=this.handlePossibleCenter(d,E,u);if(I!==null)return I}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new se}static centerFromEnd(t,i){return i-t[2]-t[1]/2}foundPatternCross(t){const i=this.moduleSize,a=i/2;for(let u=0;u<3;u++)if(Math.abs(i-t[u])>=a)return!1;return!0}crossCheckVertical(t,i,a,u){const h=this.image,d=h.getHeight(),p=this.crossCheckStateCount;p[0]=0,p[1]=0,p[2]=0;let x=t;for(;x>=0&&h.get(i,x)&&p[1]<=a;)p[1]++,x--;if(x<0||p[1]>a)return NaN;for(;x>=0&&!h.get(i,x)&&p[0]<=a;)p[0]++,x--;if(p[0]>a)return NaN;for(x=t+1;x<d&&h.get(i,x)&&p[1]<=a;)p[1]++,x++;if(x===d||p[1]>a)return NaN;for(;x<d&&!h.get(i,x)&&p[2]<=a;)p[2]++,x++;if(p[2]>a)return NaN;const E=p[0]+p[1]+p[2];return 5*Math.abs(E-u)>=2*u?NaN:this.foundPatternCross(p)?Qn.centerFromEnd(p,x):NaN}handlePossibleCenter(t,i,a){const u=t[0]+t[1]+t[2],h=Qn.centerFromEnd(t,a),d=this.crossCheckVertical(i,h,2*t[1],u);if(!isNaN(d)){const p=(t[0]+t[1]+t[2])/3;for(const E of this.possibleCenters)if(E.aboutEquals(p,d,h))return E.combineEstimate(d,h,p);const x=new Zr(h,d,p);this.possibleCenters.push(x),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(x)}return null}}class Ba extends _e{constructor(t,i,a,u){super(t,i),this.estimatedModuleSize=a,this.count=u,u===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(t,i,a){if(Math.abs(i-this.getY())<=t&&Math.abs(a-this.getX())<=t){const u=Math.abs(t-this.estimatedModuleSize);return u<=1||u<=this.estimatedModuleSize}return!1}combineEstimate(t,i,a){const u=this.count+1,h=(this.count*this.getX()+i)/u,d=(this.count*this.getY()+t)/u,p=(this.count*this.estimatedModuleSize+a)/u;return new Ba(h,d,p,u)}}class ml{constructor(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Vt{constructor(t,i){this.image=t,this.resultPointCallback=i,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=i}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(t){const i=t!=null&&t.get(Ee.TRY_HARDER)!==void 0,a=t!=null&&t.get(Ee.PURE_BARCODE)!==void 0,u=this.image,h=u.getHeight(),d=u.getWidth();let p=Math.floor(3*h/(4*Vt.MAX_MODULES));(p<Vt.MIN_SKIP||i)&&(p=Vt.MIN_SKIP);let x=!1;const E=new Int32Array(5);for(let N=p-1;N<h&&!x;N+=p){E[0]=0,E[1]=0,E[2]=0,E[3]=0,E[4]=0;let I=0;for(let L=0;L<d;L++)if(u.get(L,N))(I&1)===1&&I++,E[I]++;else if((I&1)===0)if(I===4)if(Vt.foundPatternCross(E)){if(this.handlePossibleCenter(E,N,L,a)===!0)if(p=2,this.hasSkipped===!0)x=this.haveMultiplyConfirmedCenters();else{const P=this.findRowSkip();P>E[2]&&(N+=P-E[2]-p,L=d-1)}else{E[0]=E[2],E[1]=E[3],E[2]=E[4],E[3]=1,E[4]=0,I=3;continue}I=0,E[0]=0,E[1]=0,E[2]=0,E[3]=0,E[4]=0}else E[0]=E[2],E[1]=E[3],E[2]=E[4],E[3]=1,E[4]=0,I=3;else E[++I]++;else E[I]++;Vt.foundPatternCross(E)&&this.handlePossibleCenter(E,N,d,a)===!0&&(p=E[0],this.hasSkipped&&(x=this.haveMultiplyConfirmedCenters()))}const C=this.selectBestPatterns();return _e.orderBestPatterns(C),new ml(C)}static centerFromEnd(t,i){return i-t[4]-t[3]-t[2]/2}static foundPatternCross(t){let i=0;for(let h=0;h<5;h++){const d=t[h];if(d===0)return!1;i+=d}if(i<7)return!1;const a=i/7,u=a/2;return Math.abs(a-t[0])<u&&Math.abs(a-t[1])<u&&Math.abs(3*a-t[2])<3*u&&Math.abs(a-t[3])<u&&Math.abs(a-t[4])<u}getCrossCheckStateCount(){const t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t}crossCheckDiagonal(t,i,a,u){const h=this.getCrossCheckStateCount();let d=0;const p=this.image;for(;t>=d&&i>=d&&p.get(i-d,t-d);)h[2]++,d++;if(t<d||i<d)return!1;for(;t>=d&&i>=d&&!p.get(i-d,t-d)&&h[1]<=a;)h[1]++,d++;if(t<d||i<d||h[1]>a)return!1;for(;t>=d&&i>=d&&p.get(i-d,t-d)&&h[0]<=a;)h[0]++,d++;if(h[0]>a)return!1;const x=p.getHeight(),E=p.getWidth();for(d=1;t+d<x&&i+d<E&&p.get(i+d,t+d);)h[2]++,d++;if(t+d>=x||i+d>=E)return!1;for(;t+d<x&&i+d<E&&!p.get(i+d,t+d)&&h[3]<a;)h[3]++,d++;if(t+d>=x||i+d>=E||h[3]>=a)return!1;for(;t+d<x&&i+d<E&&p.get(i+d,t+d)&&h[4]<a;)h[4]++,d++;if(h[4]>=a)return!1;const C=h[0]+h[1]+h[2]+h[3]+h[4];return Math.abs(C-u)<2*u&&Vt.foundPatternCross(h)}crossCheckVertical(t,i,a,u){const h=this.image,d=h.getHeight(),p=this.getCrossCheckStateCount();let x=t;for(;x>=0&&h.get(i,x);)p[2]++,x--;if(x<0)return NaN;for(;x>=0&&!h.get(i,x)&&p[1]<=a;)p[1]++,x--;if(x<0||p[1]>a)return NaN;for(;x>=0&&h.get(i,x)&&p[0]<=a;)p[0]++,x--;if(p[0]>a)return NaN;for(x=t+1;x<d&&h.get(i,x);)p[2]++,x++;if(x===d)return NaN;for(;x<d&&!h.get(i,x)&&p[3]<a;)p[3]++,x++;if(x===d||p[3]>=a)return NaN;for(;x<d&&h.get(i,x)&&p[4]<a;)p[4]++,x++;if(p[4]>=a)return NaN;const E=p[0]+p[1]+p[2]+p[3]+p[4];return 5*Math.abs(E-u)>=2*u?NaN:Vt.foundPatternCross(p)?Vt.centerFromEnd(p,x):NaN}crossCheckHorizontal(t,i,a,u){const h=this.image,d=h.getWidth(),p=this.getCrossCheckStateCount();let x=t;for(;x>=0&&h.get(x,i);)p[2]++,x--;if(x<0)return NaN;for(;x>=0&&!h.get(x,i)&&p[1]<=a;)p[1]++,x--;if(x<0||p[1]>a)return NaN;for(;x>=0&&h.get(x,i)&&p[0]<=a;)p[0]++,x--;if(p[0]>a)return NaN;for(x=t+1;x<d&&h.get(x,i);)p[2]++,x++;if(x===d)return NaN;for(;x<d&&!h.get(x,i)&&p[3]<a;)p[3]++,x++;if(x===d||p[3]>=a)return NaN;for(;x<d&&h.get(x,i)&&p[4]<a;)p[4]++,x++;if(p[4]>=a)return NaN;const E=p[0]+p[1]+p[2]+p[3]+p[4];return 5*Math.abs(E-u)>=u?NaN:Vt.foundPatternCross(p)?Vt.centerFromEnd(p,x):NaN}handlePossibleCenter(t,i,a,u){const h=t[0]+t[1]+t[2]+t[3]+t[4];let d=Vt.centerFromEnd(t,a),p=this.crossCheckVertical(i,Math.floor(d),t[2],h);if(!isNaN(p)&&(d=this.crossCheckHorizontal(Math.floor(d),Math.floor(p),t[2],h),!isNaN(d)&&(!u||this.crossCheckDiagonal(Math.floor(p),Math.floor(d),t[2],h)))){const x=h/7;let E=!1;const C=this.possibleCenters;for(let N=0,I=C.length;N<I;N++){const L=C[N];if(L.aboutEquals(x,p,d)){C[N]=L.combineEstimate(p,d,x),E=!0;break}}if(!E){const N=new Ba(d,p,x);C.push(N),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(N)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let i=null;for(const a of this.possibleCenters)if(a.getCount()>=Vt.CENTER_QUORUM)if(i==null)i=a;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-a.getX())-Math.abs(i.getY()-a.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let t=0,i=0;const a=this.possibleCenters.length;for(const d of this.possibleCenters)d.getCount()>=Vt.CENTER_QUORUM&&(t++,i+=d.getEstimatedModuleSize());if(t<3)return!1;const u=i/a;let h=0;for(const d of this.possibleCenters)h+=Math.abs(d.getEstimatedModuleSize()-u);return h<=.05*i}selectBestPatterns(){const t=this.possibleCenters.length;if(t<3)throw new se;const i=this.possibleCenters;let a;if(t>3){let u=0,h=0;for(const x of this.possibleCenters){const E=x.getEstimatedModuleSize();u+=E,h+=E*E}a=u/t;let d=Math.sqrt(h/t-a*a);i.sort((x,E)=>{const C=Math.abs(E.getEstimatedModuleSize()-a),N=Math.abs(x.getEstimatedModuleSize()-a);return C<N?-1:C>N?1:0});const p=Math.max(.2*a,d);for(let x=0;x<i.length&&i.length>3;x++){const E=i[x];Math.abs(E.getEstimatedModuleSize()-a)>p&&(i.splice(x,1),x--)}}if(i.length>3){let u=0;for(const h of i)u+=h.getEstimatedModuleSize();a=u/i.length,i.sort((h,d)=>{if(d.getCount()===h.getCount()){const p=Math.abs(d.getEstimatedModuleSize()-a),x=Math.abs(h.getEstimatedModuleSize()-a);return p<x?1:p>x?-1:0}else return d.getCount()-h.getCount()}),i.splice(3)}return[i[0],i[1],i[2]]}}Vt.CENTER_QUORUM=2,Vt.MIN_SKIP=3,Vt.MAX_MODULES=57;class Ti{constructor(t){this.image=t}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(t){this.resultPointCallback=t==null?null:t.get(Ee.NEED_RESULT_POINT_CALLBACK);const a=new Vt(this.image,this.resultPointCallback).find(t);return this.processFinderPatternInfo(a)}processFinderPatternInfo(t){const i=t.getTopLeft(),a=t.getTopRight(),u=t.getBottomLeft(),h=this.calculateModuleSize(i,a,u);if(h<1)throw new se("No pattern found in proccess finder.");const d=Ti.computeDimension(i,a,u,h),p=Oe.getProvisionalVersionForDimension(d),x=p.getDimensionForVersion()-7;let E=null;if(p.getAlignmentPatternCenters().length>0){const L=a.getX()-i.getX()+u.getX(),j=a.getY()-i.getY()+u.getY(),P=1-3/x,q=Math.floor(i.getX()+P*(L-i.getX())),te=Math.floor(i.getY()+P*(j-i.getY()));for(let xe=4;xe<=16;xe<<=1)try{E=this.findAlignmentInRegion(h,q,te,xe);break}catch(ye){if(!(ye instanceof se))throw ye}}const C=Ti.createTransform(i,a,u,E,d),N=Ti.sampleGrid(this.image,C,d);let I;return E===null?I=[u,i,a]:I=[u,i,a,E],new os(N,I)}static createTransform(t,i,a,u,h){const d=h-3.5;let p,x,E,C;return u!==null?(p=u.getX(),x=u.getY(),E=d-3,C=E):(p=i.getX()-t.getX()+a.getX(),x=i.getY()-t.getY()+a.getY(),E=d,C=d),Zn.quadrilateralToQuadrilateral(3.5,3.5,d,3.5,E,C,3.5,d,t.getX(),t.getY(),i.getX(),i.getY(),p,x,a.getX(),a.getY())}static sampleGrid(t,i,a){return ai.getInstance().sampleGridWithTransform(t,a,a,i)}static computeDimension(t,i,a,u){const h=$e.round(_e.distance(t,i)/u),d=$e.round(_e.distance(t,a)/u);let p=Math.floor((h+d)/2)+7;switch(p&3){case 0:p++;break;case 2:p--;break;case 3:throw new se("Dimensions could be not found.")}return p}calculateModuleSize(t,i,a){return(this.calculateModuleSizeOneWay(t,i)+this.calculateModuleSizeOneWay(t,a))/2}calculateModuleSizeOneWay(t,i){const a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(i.getX()),Math.floor(i.getY())),u=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(a)?u/7:isNaN(u)?a/7:(a+u)/14}sizeOfBlackWhiteBlackRunBothWays(t,i,a,u){let h=this.sizeOfBlackWhiteBlackRun(t,i,a,u),d=1,p=t-(a-t);p<0?(d=t/(t-p),p=0):p>=this.image.getWidth()&&(d=(this.image.getWidth()-1-t)/(p-t),p=this.image.getWidth()-1);let x=Math.floor(i-(u-i)*d);return d=1,x<0?(d=i/(i-x),x=0):x>=this.image.getHeight()&&(d=(this.image.getHeight()-1-i)/(x-i),x=this.image.getHeight()-1),p=Math.floor(t+(p-t)*d),h+=this.sizeOfBlackWhiteBlackRun(t,i,p,x),h-1}sizeOfBlackWhiteBlackRun(t,i,a,u){const h=Math.abs(u-i)>Math.abs(a-t);if(h){let L=t;t=i,i=L,L=a,a=u,u=L}const d=Math.abs(a-t),p=Math.abs(u-i);let x=-d/2;const E=t<a?1:-1,C=i<u?1:-1;let N=0;const I=a+E;for(let L=t,j=i;L!==I;L+=E){const P=h?j:L,q=h?L:j;if(N===1===this.image.get(P,q)){if(N===2)return $e.distance(L,j,t,i);N++}if(x+=p,x>0){if(j===u)break;j+=C,x-=d}}return N===2?$e.distance(a+E,u,t,i):NaN}findAlignmentInRegion(t,i,a,u){const h=Math.floor(u*t),d=Math.max(0,i-h),p=Math.min(this.image.getWidth()-1,i+h);if(p-d<t*3)throw new se("Alignment top exceeds estimated module size.");const x=Math.max(0,a-h),E=Math.min(this.image.getHeight()-1,a+h);if(E-x<t*3)throw new se("Alignment bottom exceeds estimated module size.");return new Qn(this.image,d,x,p-d,E-x,t,this.resultPointCallback).find()}}class Fi{constructor(){this.decoder=new gc}getDecoder(){return this.decoder}decode(t,i){let a,u;if(i!=null&&i.get(Ee.PURE_BARCODE)!==void 0){const x=Fi.extractPureBits(t.getBlackMatrix());a=this.decoder.decodeBitMatrix(x,i),u=Fi.NO_POINTS}else{const x=new Ti(t.getBlackMatrix()).detect(i);a=this.decoder.decodeBitMatrix(x.getBits(),i),u=x.getPoints()}a.getOther()instanceof Oo&&a.getOther().applyMirroredCorrection(u);const h=new Ae(a.getText(),a.getRawBytes(),void 0,u,be.QR_CODE,void 0),d=a.getByteSegments();d!==null&&h.putMetadata(ht.BYTE_SEGMENTS,d);const p=a.getECLevel();return p!==null&&h.putMetadata(ht.ERROR_CORRECTION_LEVEL,p),a.hasStructuredAppend()&&(h.putMetadata(ht.STRUCTURED_APPEND_SEQUENCE,a.getStructuredAppendSequenceNumber()),h.putMetadata(ht.STRUCTURED_APPEND_PARITY,a.getStructuredAppendParity())),h}reset(){}static extractPureBits(t){const i=t.getTopLeftOnBit(),a=t.getBottomRightOnBit();if(i===null||a===null)throw new se;const u=this.moduleSize(i,t);let h=i[1],d=a[1],p=i[0],x=a[0];if(p>=x||h>=d)throw new se;if(d-h!==x-p&&(x=p+(d-h),x>=t.getWidth()))throw new se;const E=Math.round((x-p+1)/u),C=Math.round((d-h+1)/u);if(E<=0||C<=0)throw new se;if(C!==E)throw new se;const N=Math.floor(u/2);h+=N,p+=N;const I=p+Math.floor((E-1)*u)-x;if(I>0){if(I>N)throw new se;p-=I}const L=h+Math.floor((C-1)*u)-d;if(L>0){if(L>N)throw new se;h-=L}const j=new Nt(E,C);for(let P=0;P<C;P++){const q=h+Math.floor(P*u);for(let te=0;te<E;te++)t.get(p+Math.floor(te*u),q)&&j.set(te,P)}return j}static moduleSize(t,i){const a=i.getHeight(),u=i.getWidth();let h=t[0],d=t[1],p=!0,x=0;for(;h<u&&d<a;){if(p!==i.get(h,d)){if(++x===5)break;p=!p}h++,d++}if(h===u||d===a)throw new se;return(h-t[0])/7}}Fi.NO_POINTS=new Array;class Ue{PDF417Common(){}static getBitCountSum(t){return $e.sum(t)}static toIntArray(t){if(t==null||!t.length)return Ue.EMPTY_INT_ARRAY;const i=new Int32Array(t.length);let a=0;for(const u of t)i[a++]=u;return i}static getCodeword(t){const i=$.binarySearch(Ue.SYMBOL_TABLE,t&262143);return i<0?-1:(Ue.CODEWORD_TABLE[i]-1)%Ue.NUMBER_OF_CODEWORDS}}Ue.NUMBER_OF_CODEWORDS=929,Ue.MAX_CODEWORDS_IN_BARCODE=Ue.NUMBER_OF_CODEWORDS-1,Ue.MIN_ROWS_IN_BARCODE=3,Ue.MAX_ROWS_IN_BARCODE=90,Ue.MODULES_IN_CODEWORD=17,Ue.MODULES_IN_STOP_PATTERN=18,Ue.BARS_IN_MODULE=8,Ue.EMPTY_INT_ARRAY=new Int32Array([]),Ue.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Ue.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class No{constructor(t,i){this.bits=t,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class Ve{static detectMultiple(t,i,a){let u=t.getBlackMatrix(),h=Ve.detect(a,u);return h.length||(u=u.clone(),u.rotate180(),h=Ve.detect(a,u)),new No(u,h)}static detect(t,i){const a=new Array;let u=0,h=0,d=!1;for(;u<i.getHeight();){const p=Ve.findVertices(i,u,h);if(p[0]==null&&p[3]==null){if(!d)break;d=!1,h=0;for(const x of a)x[1]!=null&&(u=Math.trunc(Math.max(u,x[1].getY()))),x[3]!=null&&(u=Math.max(u,Math.trunc(x[3].getY())));u+=Ve.ROW_STEP;continue}if(d=!0,a.push(p),!t)break;p[2]!=null?(h=Math.trunc(p[2].getX()),u=Math.trunc(p[2].getY())):(h=Math.trunc(p[4].getX()),u=Math.trunc(p[4].getY()))}return a}static findVertices(t,i,a){const u=t.getHeight(),h=t.getWidth(),d=new Array(8);return Ve.copyToResult(d,Ve.findRowsWithPattern(t,u,h,i,a,Ve.START_PATTERN),Ve.INDEXES_START_PATTERN),d[4]!=null&&(a=Math.trunc(d[4].getX()),i=Math.trunc(d[4].getY())),Ve.copyToResult(d,Ve.findRowsWithPattern(t,u,h,i,a,Ve.STOP_PATTERN),Ve.INDEXES_STOP_PATTERN),d}static copyToResult(t,i,a){for(let u=0;u<a.length;u++)t[a[u]]=i[u]}static findRowsWithPattern(t,i,a,u,h,d){const p=new Array(4);let x=!1;const E=new Int32Array(d.length);for(;u<i;u+=Ve.ROW_STEP){let N=Ve.findGuardPattern(t,h,u,a,!1,d,E);if(N!=null){for(;u>0;){const I=Ve.findGuardPattern(t,h,--u,a,!1,d,E);if(I!=null)N=I;else{u++;break}}p[0]=new _e(N[0],u),p[1]=new _e(N[1],u),x=!0;break}}let C=u+1;if(x){let N=0,I=Int32Array.from([Math.trunc(p[0].getX()),Math.trunc(p[1].getX())]);for(;C<i;C++){const L=Ve.findGuardPattern(t,I[0],C,a,!1,d,E);if(L!=null&&Math.abs(I[0]-L[0])<Ve.MAX_PATTERN_DRIFT&&Math.abs(I[1]-L[1])<Ve.MAX_PATTERN_DRIFT)I=L,N=0;else{if(N>Ve.SKIPPED_ROW_COUNT_MAX)break;N++}}C-=N+1,p[2]=new _e(I[0],C),p[3]=new _e(I[1],C)}return C-u<Ve.BARCODE_MIN_HEIGHT&&$.fill(p,null),p}static findGuardPattern(t,i,a,u,h,d,p){$.fillWithin(p,0,p.length,0);let x=i,E=0;for(;t.get(x,a)&&x>0&&E++<Ve.MAX_PIXEL_DRIFT;)x--;let C=x,N=0,I=d.length;for(let L=h;C<u;C++)if(t.get(C,a)!==L)p[N]++;else{if(N===I-1){if(Ve.patternMatchVariance(p,d,Ve.MAX_INDIVIDUAL_VARIANCE)<Ve.MAX_AVG_VARIANCE)return new Int32Array([x,C]);x+=p[0]+p[1],H.arraycopy(p,2,p,0,N-1),p[N-1]=0,p[N]=0,N--}else N++;p[N]=1,L=!L}return N===I-1&&Ve.patternMatchVariance(p,d,Ve.MAX_INDIVIDUAL_VARIANCE)<Ve.MAX_AVG_VARIANCE?new Int32Array([x,C-1]):null}static patternMatchVariance(t,i,a){let u=t.length,h=0,d=0;for(let E=0;E<u;E++)h+=t[E],d+=i[E];if(h<d)return 1/0;let p=h/d;a*=p;let x=0;for(let E=0;E<u;E++){let C=t[E],N=i[E]*p,I=C>N?C-N:N-C;if(I>a)return 1/0;x+=I}return x/h}}Ve.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ve.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ve.MAX_AVG_VARIANCE=.42,Ve.MAX_INDIVIDUAL_VARIANCE=.8,Ve.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ve.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ve.MAX_PIXEL_DRIFT=3,Ve.MAX_PATTERN_DRIFT=5,Ve.SKIPPED_ROW_COUNT_MAX=25,Ve.ROW_STEP=5,Ve.BARCODE_MIN_HEIGHT=10;class kt{constructor(t,i){if(i.length===0)throw new R;this.field=t;let a=i.length;if(a>1&&i[0]===0){let u=1;for(;u<a&&i[u]===0;)u++;u===a?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(a-u),H.arraycopy(i,u,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);if(t===1){let u=0;for(let h of this.coefficients)u=this.field.add(u,h);return u}let i=this.coefficients[0],a=this.coefficients.length;for(let u=1;u<a;u++)i=this.field.add(this.field.multiply(t,i),this.coefficients[u]);return i}add(t){if(!this.field.equals(t.field))throw new R("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;let i=this.coefficients,a=t.coefficients;if(i.length>a.length){let d=i;i=a,a=d}let u=new Int32Array(a.length),h=a.length-i.length;H.arraycopy(a,0,u,0,h);for(let d=h;d<a.length;d++)u[d]=this.field.add(i[d-h],a[d]);return new kt(this.field,u)}subtract(t){if(!this.field.equals(t.field))throw new R("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())}multiply(t){return t instanceof kt?this.multiplyOther(t):this.multiplyScalar(t)}multiplyOther(t){if(!this.field.equals(t.field))throw new R("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new kt(this.field,new Int32Array([0]));let i=this.coefficients,a=i.length,u=t.coefficients,h=u.length,d=new Int32Array(a+h-1);for(let p=0;p<a;p++){let x=i[p];for(let E=0;E<h;E++)d[p+E]=this.field.add(d[p+E],this.field.multiply(x,u[E]))}return new kt(this.field,d)}negative(){let t=this.coefficients.length,i=new Int32Array(t);for(let a=0;a<t;a++)i[a]=this.field.subtract(0,this.coefficients[a]);return new kt(this.field,i)}multiplyScalar(t){if(t===0)return new kt(this.field,new Int32Array([0]));if(t===1)return this;let i=this.coefficients.length,a=new Int32Array(i);for(let u=0;u<i;u++)a[u]=this.field.multiply(this.coefficients[u],t);return new kt(this.field,a)}multiplyByMonomial(t,i){if(t<0)throw new R;if(i===0)return new kt(this.field,new Int32Array([0]));let a=this.coefficients.length,u=new Int32Array(a+t);for(let h=0;h<a;h++)u[h]=this.field.multiply(this.coefficients[h],i);return new kt(this.field,u)}toString(){let t=new it;for(let i=this.getDegree();i>=0;i--){let a=this.getCoefficient(i);a!==0&&(a<0?(t.append(" - "),a=-a):t.length()>0&&t.append(" + "),(i===0||a!==1)&&t.append(a),i!==0&&(i===1?t.append("x"):(t.append("x^"),t.append(i))))}return t.toString()}}class pl{add(t,i){return(t+i)%this.modulus}subtract(t,i){return(this.modulus+t-i)%this.modulus}exp(t){return this.expTable[t]}log(t){if(t===0)throw new R;return this.logTable[t]}inverse(t){if(t===0)throw new Fr;return this.expTable[this.modulus-this.logTable[t]-1]}multiply(t,i){return t===0||i===0?0:this.expTable[(this.logTable[t]+this.logTable[i])%(this.modulus-1)]}getSize(){return this.modulus}equals(t){return t===this}}class dr extends pl{constructor(t,i){super(),this.modulus=t,this.expTable=new Int32Array(t),this.logTable=new Int32Array(t);let a=1;for(let u=0;u<t;u++)this.expTable[u]=a,a=a*i%t;for(let u=0;u<t-1;u++)this.logTable[this.expTable[u]]=u;this.zero=new kt(this,new Int32Array([0])),this.one=new kt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,i){if(t<0)throw new R;if(i===0)return this.zero;let a=new Int32Array(t+1);return a[0]=i,new kt(this,a)}}dr.PDF417_GF=new dr(Ue.NUMBER_OF_CODEWORDS,3);class Hi{constructor(){this.field=dr.PDF417_GF}decode(t,i,a){let u=new kt(this.field,t),h=new Int32Array(i),d=!1;for(let j=i;j>0;j--){let P=u.evaluateAt(this.field.exp(j));h[i-j]=P,P!==0&&(d=!0)}if(!d)return 0;let p=this.field.getOne();if(a!=null)for(const j of a){let P=this.field.exp(t.length-1-j),q=new kt(this.field,new Int32Array([this.field.subtract(0,P),1]));p=p.multiply(q)}let x=new kt(this.field,h),E=this.runEuclideanAlgorithm(this.field.buildMonomial(i,1),x,i),C=E[0],N=E[1],I=this.findErrorLocations(C),L=this.findErrorMagnitudes(N,C,I);for(let j=0;j<I.length;j++){let P=t.length-1-this.field.log(I[j]);if(P<0)throw B.getChecksumInstance();t[P]=this.field.subtract(t[P],L[j])}return I.length}runEuclideanAlgorithm(t,i,a){if(t.getDegree()<i.getDegree()){let I=t;t=i,i=I}let u=t,h=i,d=this.field.getZero(),p=this.field.getOne();for(;h.getDegree()>=Math.round(a/2);){let I=u,L=d;if(u=h,d=p,u.isZero())throw B.getChecksumInstance();h=I;let j=this.field.getZero(),P=u.getCoefficient(u.getDegree()),q=this.field.inverse(P);for(;h.getDegree()>=u.getDegree()&&!h.isZero();){let te=h.getDegree()-u.getDegree(),xe=this.field.multiply(h.getCoefficient(h.getDegree()),q);j=j.add(this.field.buildMonomial(te,xe)),h=h.subtract(u.multiplyByMonomial(te,xe))}p=j.multiply(d).subtract(L).negative()}let x=p.getCoefficient(0);if(x===0)throw B.getChecksumInstance();let E=this.field.inverse(x),C=p.multiply(E),N=h.multiply(E);return[C,N]}findErrorLocations(t){let i=t.getDegree(),a=new Int32Array(i),u=0;for(let h=1;h<this.field.getSize()&&u<i;h++)t.evaluateAt(h)===0&&(a[u]=this.field.inverse(h),u++);if(u!==i)throw B.getChecksumInstance();return a}findErrorMagnitudes(t,i,a){let u=i.getDegree(),h=new Int32Array(u);for(let E=1;E<=u;E++)h[u-E]=this.field.multiply(E,i.getCoefficient(E));let d=new kt(this.field,h),p=a.length,x=new Int32Array(p);for(let E=0;E<p;E++){let C=this.field.inverse(a[E]),N=this.field.subtract(0,t.evaluateAt(C)),I=this.field.inverse(d.evaluateAt(C));x[E]=this.field.multiply(N,I)}return x}}class Vi{constructor(t,i,a,u,h){t instanceof Vi?this.constructor_2(t):this.constructor_1(t,i,a,u,h)}constructor_1(t,i,a,u,h){const d=i==null||a==null,p=u==null||h==null;if(d&&p)throw new se;d?(i=new _e(0,u.getY()),a=new _e(0,h.getY())):p&&(u=new _e(t.getWidth()-1,i.getY()),h=new _e(t.getWidth()-1,a.getY())),this.image=t,this.topLeft=i,this.bottomLeft=a,this.topRight=u,this.bottomRight=h,this.minX=Math.trunc(Math.min(i.getX(),a.getX())),this.maxX=Math.trunc(Math.max(u.getX(),h.getX())),this.minY=Math.trunc(Math.min(i.getY(),u.getY())),this.maxY=Math.trunc(Math.max(a.getY(),h.getY()))}constructor_2(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()}static merge(t,i){return t==null?i:i==null?t:new Vi(t.image,t.topLeft,t.bottomLeft,i.topRight,i.bottomRight)}addMissingRows(t,i,a){let u=this.topLeft,h=this.bottomLeft,d=this.topRight,p=this.bottomRight;if(t>0){let x=a?this.topLeft:this.topRight,E=Math.trunc(x.getY()-t);E<0&&(E=0);let C=new _e(x.getX(),E);a?u=C:d=C}if(i>0){let x=a?this.bottomLeft:this.bottomRight,E=Math.trunc(x.getY()+i);E>=this.image.getHeight()&&(E=this.image.getHeight()-1);let C=new _e(x.getX(),E);a?h=C:p=C}return new Vi(this.image,u,h,d,p)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class ds{constructor(t,i,a,u){this.columnCount=t,this.errorCorrectionLevel=u,this.rowCountUpperPart=i,this.rowCountLowerPart=a,this.rowCount=i+a}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Kr{constructor(){this.buffer=""}static form(t,i){let a=-1;function u(d,p,x,E,C,N){if(d==="%%")return"%";if(i[++a]===void 0)return;d=E?parseInt(E.substr(1)):void 0;let I=C?parseInt(C.substr(1)):void 0,L;switch(N){case"s":L=i[a];break;case"c":L=i[a][0];break;case"f":L=parseFloat(i[a]).toFixed(d);break;case"p":L=parseFloat(i[a]).toPrecision(d);break;case"e":L=parseFloat(i[a]).toExponential(d);break;case"x":L=parseInt(i[a]).toString(I||16);break;case"d":L=parseFloat(parseInt(i[a],I||10).toPrecision(d)).toFixed(0);break}L=typeof L=="object"?JSON.stringify(L):(+L).toString(I);let j=parseInt(x),P=x&&x[0]+""=="0"?"0":" ";for(;L.length<j;)L=p!==void 0?L+P:P+L;return L}let h=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(h,u)}format(t,...i){this.buffer+=Kr.form(t,i)}toString(){return this.buffer}}class ir{constructor(t){this.boundingBox=new Vi(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}getCodewordNearby(t){let i=this.getCodeword(t);if(i!=null)return i;for(let a=1;a<ir.MAX_NEARBY_DISTANCE;a++){let u=this.imageRowToCodewordIndex(t)-a;if(u>=0&&(i=this.codewords[u],i!=null)||(u=this.imageRowToCodewordIndex(t)+a,u<this.codewords.length&&(i=this.codewords[u],i!=null)))return i}return null}imageRowToCodewordIndex(t){return t-this.boundingBox.getMinY()}setCodeword(t,i){this.codewords[this.imageRowToCodewordIndex(t)]=i}getCodeword(t){return this.codewords[this.imageRowToCodewordIndex(t)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const t=new Kr;let i=0;for(const a of this.codewords){if(a==null){t.format("%3d:    |   %n",i++);continue}t.format("%3d: %3d|%3d%n",i++,a.getRowNumber(),a.getValue())}return t.toString()}}ir.MAX_NEARBY_DISTANCE=5;class rr{constructor(){this.values=new Map}setValue(t){t=Math.trunc(t);let i=this.values.get(t);i==null&&(i=0),i++,this.values.set(t,i)}getValue(){let t=-1,i=new Array;for(const[a,u]of this.values.entries()){const h={getKey:()=>a,getValue:()=>u};h.getValue()>t?(t=h.getValue(),i=[],i.push(h.getKey())):h.getValue()===t&&i.push(h.getKey())}return Ue.toIntArray(i)}getConfidence(t){return this.values.get(t)}}class yl extends ir{constructor(t,i){super(t),this._isLeft=i}setRowNumbers(){for(let t of this.getCodewords())t?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(t){let i=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(i,t);let a=this.getBoundingBox(),u=this._isLeft?a.getTopLeft():a.getTopRight(),h=this._isLeft?a.getBottomLeft():a.getBottomRight(),d=this.imageRowToCodewordIndex(Math.trunc(u.getY())),p=this.imageRowToCodewordIndex(Math.trunc(h.getY())),x=-1,E=1,C=0;for(let N=d;N<p;N++){if(i[N]==null)continue;let I=i[N],L=I.getRowNumber()-x;if(L===0)C++;else if(L===1)E=Math.max(E,C),C=1,x=I.getRowNumber();else if(L<0||I.getRowNumber()>=t.getRowCount()||L>N)i[N]=null;else{let j;E>2?j=(E-2)*L:j=L;let P=j>=N;for(let q=1;q<=j&&!P;q++)P=i[N-q]!=null;P?i[N]=null:(x=I.getRowNumber(),C=1)}}}getRowHeights(){let t=this.getBarcodeMetadata();if(t==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(t);let i=new Int32Array(t.getRowCount());for(let a of this.getCodewords())if(a!=null){let u=a.getRowNumber();if(u>=i.length)continue;i[u]++}return i}adjustIncompleteIndicatorColumnRowNumbers(t){let i=this.getBoundingBox(),a=this._isLeft?i.getTopLeft():i.getTopRight(),u=this._isLeft?i.getBottomLeft():i.getBottomRight(),h=this.imageRowToCodewordIndex(Math.trunc(a.getY())),d=this.imageRowToCodewordIndex(Math.trunc(u.getY())),p=this.getCodewords(),x=-1;for(let E=h;E<d;E++){if(p[E]==null)continue;let C=p[E];C.setRowNumberAsRowIndicatorColumn();let N=C.getRowNumber()-x;N===0||(N===1?x=C.getRowNumber():C.getRowNumber()>=t.getRowCount()?p[E]=null:x=C.getRowNumber())}}getBarcodeMetadata(){let t=this.getCodewords(),i=new rr,a=new rr,u=new rr,h=new rr;for(let p of t){if(p==null)continue;p.setRowNumberAsRowIndicatorColumn();let x=p.getValue()%30,E=p.getRowNumber();switch(this._isLeft||(E+=2),E%3){case 0:a.setValue(x*3+1);break;case 1:h.setValue(x/3),u.setValue(x%3);break;case 2:i.setValue(x+1);break}}if(i.getValue().length===0||a.getValue().length===0||u.getValue().length===0||h.getValue().length===0||i.getValue()[0]<1||a.getValue()[0]+u.getValue()[0]<Ue.MIN_ROWS_IN_BARCODE||a.getValue()[0]+u.getValue()[0]>Ue.MAX_ROWS_IN_BARCODE)return null;let d=new ds(i.getValue()[0],a.getValue()[0],u.getValue()[0],h.getValue()[0]);return this.removeIncorrectCodewords(t,d),d}removeIncorrectCodewords(t,i){for(let a=0;a<t.length;a++){let u=t[a];if(t[a]==null)continue;let h=u.getValue()%30,d=u.getRowNumber();if(d>i.getRowCount()){t[a]=null;continue}switch(this._isLeft||(d+=2),d%3){case 0:h*3+1!==i.getRowCountUpperPart()&&(t[a]=null);break;case 1:(Math.trunc(h/3)!==i.getErrorCorrectionLevel()||h%3!==i.getRowCountLowerPart())&&(t[a]=null);break;case 2:h+1!==i.getColumnCount()&&(t[a]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class fn{constructor(t,i){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=i,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let t=Ue.MAX_CODEWORDS_IN_BARCODE,i;do i=t,t=this.adjustRowNumbersAndGetCount();while(t>0&&t<i);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(t){t?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let t=this.adjustRowNumbersByRow();if(t===0)return 0;for(let i=1;i<this.barcodeColumnCount+1;i++){let a=this.detectionResultColumns[i].getCodewords();for(let u=0;u<a.length;u++)a[u]!=null&&(a[u].hasValidRowNumber()||this.adjustRowNumbers(i,u,a))}return t}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let t=this.detectionResultColumns[0].getCodewords(),i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let a=0;a<t.length;a++)if(t[a]!=null&&i[a]!=null&&t[a].getRowNumber()===i[a].getRowNumber())for(let u=1;u<=this.barcodeColumnCount;u++){let h=this.detectionResultColumns[u].getCodewords()[a];h!=null&&(h.setRowNumber(t[a].getRowNumber()),h.hasValidRowNumber()||(this.detectionResultColumns[u].getCodewords()[a]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let t=0,i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let a=0;a<i.length;a++){if(i[a]==null)continue;let u=i[a].getRowNumber(),h=0;for(let d=this.barcodeColumnCount+1;d>0&&h<this.ADJUST_ROW_NUMBER_SKIP;d--){let p=this.detectionResultColumns[d].getCodewords()[a];p!=null&&(h=fn.adjustRowNumberIfValid(u,h,p),p.hasValidRowNumber()||t++)}}return t}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let t=0,i=this.detectionResultColumns[0].getCodewords();for(let a=0;a<i.length;a++){if(i[a]==null)continue;let u=i[a].getRowNumber(),h=0;for(let d=1;d<this.barcodeColumnCount+1&&h<this.ADJUST_ROW_NUMBER_SKIP;d++){let p=this.detectionResultColumns[d].getCodewords()[a];p!=null&&(h=fn.adjustRowNumberIfValid(u,h,p),p.hasValidRowNumber()||t++)}}return t}static adjustRowNumberIfValid(t,i,a){return a==null||a.hasValidRowNumber()||(a.isValidRowNumber(t)?(a.setRowNumber(t),i=0):++i),i}adjustRowNumbers(t,i,a){if(!this.detectionResultColumns[t-1])return;let u=a[i],h=this.detectionResultColumns[t-1].getCodewords(),d=h;this.detectionResultColumns[t+1]!=null&&(d=this.detectionResultColumns[t+1].getCodewords());let p=new Array(14);p[2]=h[i],p[3]=d[i],i>0&&(p[0]=a[i-1],p[4]=h[i-1],p[5]=d[i-1]),i>1&&(p[8]=a[i-2],p[10]=h[i-2],p[11]=d[i-2]),i<a.length-1&&(p[1]=a[i+1],p[6]=h[i+1],p[7]=d[i+1]),i<a.length-2&&(p[9]=a[i+2],p[12]=h[i+2],p[13]=d[i+2]);for(let x of p)if(fn.adjustRowNumber(u,x))return}static adjustRowNumber(t,i){return i==null?!1:i.hasValidRowNumber()&&i.getBucket()===t.getBucket()?(t.setRowNumber(i.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(t){this.boundingBox=t}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(t,i){this.detectionResultColumns[t]=i}getDetectionResultColumn(t){return this.detectionResultColumns[t]}toString(){let t=this.detectionResultColumns[0];t==null&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);let i=new Kr;for(let a=0;a<t.getCodewords().length;a++){i.format("CW %3d:",a);for(let u=0;u<this.barcodeColumnCount+2;u++){if(this.detectionResultColumns[u]==null){i.format("    |   ");continue}let h=this.detectionResultColumns[u].getCodewords()[a];if(h==null){i.format("    |   ");continue}i.format(" %3d|%3d",h.getRowNumber(),h.getValue())}i.format("%n")}return i.toString()}}class ui{constructor(t,i,a,u){this.rowNumber=ui.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(i),this.bucket=Math.trunc(a),this.value=Math.trunc(u)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(t){return t!==ui.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(t){this.rowNumber=t}toString(){return this.rowNumber+"|"+this.value}}ui.BARCODE_ROW_UNKNOWN=-1;class En{static initialize(){for(let t=0;t<Ue.SYMBOL_TABLE.length;t++){let i=Ue.SYMBOL_TABLE[t],a=i&1;for(let u=0;u<Ue.BARS_IN_MODULE;u++){let h=0;for(;(i&1)===a;)h+=1,i>>=1;a=i&1,En.RATIOS_TABLE[t]||(En.RATIOS_TABLE[t]=new Array(Ue.BARS_IN_MODULE)),En.RATIOS_TABLE[t][Ue.BARS_IN_MODULE-u-1]=Math.fround(h/Ue.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(t){let i=En.getDecodedCodewordValue(En.sampleBitCounts(t));return i!==-1?i:En.getClosestDecodedValue(t)}static sampleBitCounts(t){let i=$e.sum(t),a=new Int32Array(Ue.BARS_IN_MODULE),u=0,h=0;for(let d=0;d<Ue.MODULES_IN_CODEWORD;d++){let p=i/(2*Ue.MODULES_IN_CODEWORD)+d*i/Ue.MODULES_IN_CODEWORD;h+t[u]<=p&&(h+=t[u],u++),a[u]++}return a}static getDecodedCodewordValue(t){let i=En.getBitValue(t);return Ue.getCodeword(i)===-1?-1:i}static getBitValue(t){let i=0;for(let a=0;a<t.length;a++)for(let u=0;u<t[a];u++)i=i<<1|(a%2===0?1:0);return Math.trunc(i)}static getClosestDecodedValue(t){let i=$e.sum(t),a=new Array(Ue.BARS_IN_MODULE);if(i>1)for(let d=0;d<a.length;d++)a[d]=Math.fround(t[d]/i);let u=Hr.MAX_VALUE,h=-1;this.bSymbolTableReady||En.initialize();for(let d=0;d<En.RATIOS_TABLE.length;d++){let p=0,x=En.RATIOS_TABLE[d];for(let E=0;E<Ue.BARS_IN_MODULE;E++){let C=Math.fround(x[E]-a[E]);if(p+=Math.fround(C*C),p>=u)break}p<u&&(u=p,h=Ue.SYMBOL_TABLE[d])}return h}}En.bSymbolTableReady=!1,En.RATIOS_TABLE=new Array(Ue.SYMBOL_TABLE.length).map(O=>new Array(Ue.BARS_IN_MODULE));class Qr{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(t){this.segmentIndex=t}getFileId(){return this.fileId}setFileId(t){this.fileId=t}getOptionalData(){return this.optionalData}setOptionalData(t){this.optionalData=t}isLastSegment(){return this.lastSegment}setLastSegment(t){this.lastSegment=t}getSegmentCount(){return this.segmentCount}setSegmentCount(t){this.segmentCount=t}getSender(){return this.sender||null}setSender(t){this.sender=t}getAddressee(){return this.addressee||null}setAddressee(t){this.addressee=t}getFileName(){return this.fileName}setFileName(t){this.fileName=t}getFileSize(){return this.fileSize}setFileSize(t){this.fileSize=t}getChecksum(){return this.checksum}setChecksum(t){this.checksum=t}getTimestamp(){return this.timestamp}setTimestamp(t){this.timestamp=t}}class Ro{static parseLong(t,i=void 0){return parseInt(t,i)}}class gs extends v{}gs.kind="NullPointerException";class xl{writeBytes(t){this.writeBytesOffset(t,0,t.length)}writeBytesOffset(t,i,a){if(t==null)throw new gs;if(i<0||i>t.length||a<0||i+a>t.length||i+a<0)throw new Z;if(a===0)return;for(let u=0;u<a;u++)this.write(t[i+u])}flush(){}close(){}}class ka extends v{}class ms extends xl{constructor(t=32){if(super(),this.count=0,t<0)throw new R("Negative initial size: "+t);this.buf=new Uint8Array(t)}ensureCapacity(t){t-this.buf.length>0&&this.grow(t)}grow(t){let a=this.buf.length<<1;if(a-t<0&&(a=t),a<0){if(t<0)throw new ka;a=X.MAX_VALUE}this.buf=$.copyOfUint8Array(this.buf,a)}write(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1}writeBytesOffset(t,i,a){if(i<0||i>t.length||a<0||i+a-t.length>0)throw new Z;this.ensureCapacity(this.count+a),H.arraycopy(t,i,this.buf,this.count,a),this.count+=a}writeTo(t){t.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return $.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(t){return new String(this.buf).toString()}toString_number(t){return new String(this.buf).toString()}close(){}}var wt;(function(O){O[O.ALPHA=0]="ALPHA",O[O.LOWER=1]="LOWER",O[O.MIXED=2]="MIXED",O[O.PUNCT=3]="PUNCT",O[O.ALPHA_SHIFT=4]="ALPHA_SHIFT",O[O.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(wt||(wt={}));function Io(){if(typeof window<"u")return window.BigInt||null;if(typeof Hu<"u")return Hu.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let ps;function ar(O){if(typeof ps>"u"&&(ps=Io()),ps===null)throw new Error("BigInt is not supported!");return ps(O)}function wl(){let O=[];O[0]=ar(1);let t=ar(900);O[1]=t;for(let i=2;i<16;i++)O[i]=O[i-1]*t;return O}class ie{static decode(t,i){let a=new it(""),u=de.ISO8859_1;a.enableDecoding(u);let h=1,d=t[h++],p=new Qr;for(;h<t[0];){switch(d){case ie.TEXT_COMPACTION_MODE_LATCH:h=ie.textCompaction(t,h,a);break;case ie.BYTE_COMPACTION_MODE_LATCH:case ie.BYTE_COMPACTION_MODE_LATCH_6:h=ie.byteCompaction(d,t,u,h,a);break;case ie.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(t[h++]);break;case ie.NUMERIC_COMPACTION_MODE_LATCH:h=ie.numericCompaction(t,h,a);break;case ie.ECI_CHARSET:de.getCharacterSetECIByValue(t[h++]);break;case ie.ECI_GENERAL_PURPOSE:h+=2;break;case ie.ECI_USER_DEFINED:h++;break;case ie.BEGIN_MACRO_PDF417_CONTROL_BLOCK:h=ie.decodeMacroBlock(t,h,p);break;case ie.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ie.MACRO_PDF417_TERMINATOR:throw new ne;default:h--,h=ie.textCompaction(t,h,a);break}if(h<t.length)d=t[h++];else throw ne.getFormatInstance()}if(a.length()===0)throw ne.getFormatInstance();let x=new Lt(null,a.toString(),null,i);return x.setOther(p),x}static decodeMacroBlock(t,i,a){if(i+ie.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw ne.getFormatInstance();let u=new Int32Array(ie.NUMBER_OF_SEQUENCE_CODEWORDS);for(let p=0;p<ie.NUMBER_OF_SEQUENCE_CODEWORDS;p++,i++)u[p]=t[i];a.setSegmentIndex(X.parseInt(ie.decodeBase900toBase10(u,ie.NUMBER_OF_SEQUENCE_CODEWORDS)));let h=new it;i=ie.textCompaction(t,i,h),a.setFileId(h.toString());let d=-1;for(t[i]===ie.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(d=i+1);i<t[0];)switch(t[i]){case ie.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(i++,t[i]){case ie.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let p=new it;i=ie.textCompaction(t,i+1,p),a.setFileName(p.toString());break;case ie.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let x=new it;i=ie.textCompaction(t,i+1,x),a.setSender(x.toString());break;case ie.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let E=new it;i=ie.textCompaction(t,i+1,E),a.setAddressee(E.toString());break;case ie.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let C=new it;i=ie.numericCompaction(t,i+1,C),a.setSegmentCount(X.parseInt(C.toString()));break;case ie.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let N=new it;i=ie.numericCompaction(t,i+1,N),a.setTimestamp(Ro.parseLong(N.toString()));break;case ie.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let I=new it;i=ie.numericCompaction(t,i+1,I),a.setChecksum(X.parseInt(I.toString()));break;case ie.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let L=new it;i=ie.numericCompaction(t,i+1,L),a.setFileSize(Ro.parseLong(L.toString()));break;default:throw ne.getFormatInstance()}break;case ie.MACRO_PDF417_TERMINATOR:i++,a.setLastSegment(!0);break;default:throw ne.getFormatInstance()}if(d!==-1){let p=i-d;a.isLastSegment()&&p--,a.setOptionalData($.copyOfRange(t,d,d+p))}return i}static textCompaction(t,i,a){let u=new Int32Array((t[0]-i)*2),h=new Int32Array((t[0]-i)*2),d=0,p=!1;for(;i<t[0]&&!p;){let x=t[i++];if(x<ie.TEXT_COMPACTION_MODE_LATCH)u[d]=x/30,u[d+1]=x%30,d+=2;else switch(x){case ie.TEXT_COMPACTION_MODE_LATCH:u[d++]=ie.TEXT_COMPACTION_MODE_LATCH;break;case ie.BYTE_COMPACTION_MODE_LATCH:case ie.BYTE_COMPACTION_MODE_LATCH_6:case ie.NUMERIC_COMPACTION_MODE_LATCH:case ie.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ie.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ie.MACRO_PDF417_TERMINATOR:i--,p=!0;break;case ie.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u[d]=ie.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,x=t[i++],h[d]=x,d++;break}}return ie.decodeTextCompaction(u,h,d,a),i}static decodeTextCompaction(t,i,a,u){let h=wt.ALPHA,d=wt.ALPHA,p=0;for(;p<a;){let x=t[p],E="";switch(h){case wt.ALPHA:if(x<26)E=String.fromCharCode(65+x);else switch(x){case 26:E=" ";break;case ie.LL:h=wt.LOWER;break;case ie.ML:h=wt.MIXED;break;case ie.PS:d=h,h=wt.PUNCT_SHIFT;break;case ie.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(i[p]);break;case ie.TEXT_COMPACTION_MODE_LATCH:h=wt.ALPHA;break}break;case wt.LOWER:if(x<26)E=String.fromCharCode(97+x);else switch(x){case 26:E=" ";break;case ie.AS:d=h,h=wt.ALPHA_SHIFT;break;case ie.ML:h=wt.MIXED;break;case ie.PS:d=h,h=wt.PUNCT_SHIFT;break;case ie.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(i[p]);break;case ie.TEXT_COMPACTION_MODE_LATCH:h=wt.ALPHA;break}break;case wt.MIXED:if(x<ie.PL)E=ie.MIXED_CHARS[x];else switch(x){case ie.PL:h=wt.PUNCT;break;case 26:E=" ";break;case ie.LL:h=wt.LOWER;break;case ie.AL:h=wt.ALPHA;break;case ie.PS:d=h,h=wt.PUNCT_SHIFT;break;case ie.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(i[p]);break;case ie.TEXT_COMPACTION_MODE_LATCH:h=wt.ALPHA;break}break;case wt.PUNCT:if(x<ie.PAL)E=ie.PUNCT_CHARS[x];else switch(x){case ie.PAL:h=wt.ALPHA;break;case ie.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(i[p]);break;case ie.TEXT_COMPACTION_MODE_LATCH:h=wt.ALPHA;break}break;case wt.ALPHA_SHIFT:if(h=d,x<26)E=String.fromCharCode(65+x);else switch(x){case 26:E=" ";break;case ie.TEXT_COMPACTION_MODE_LATCH:h=wt.ALPHA;break}break;case wt.PUNCT_SHIFT:if(h=d,x<ie.PAL)E=ie.PUNCT_CHARS[x];else switch(x){case ie.PAL:h=wt.ALPHA;break;case ie.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(i[p]);break;case ie.TEXT_COMPACTION_MODE_LATCH:h=wt.ALPHA;break}break}E!==""&&u.append(E),p++}}static byteCompaction(t,i,a,u,h){let d=new ms,p=0,x=0,E=!1;switch(t){case ie.BYTE_COMPACTION_MODE_LATCH:let C=new Int32Array(6),N=i[u++];for(;u<i[0]&&!E;)switch(C[p++]=N,x=900*x+N,N=i[u++],N){case ie.TEXT_COMPACTION_MODE_LATCH:case ie.BYTE_COMPACTION_MODE_LATCH:case ie.NUMERIC_COMPACTION_MODE_LATCH:case ie.BYTE_COMPACTION_MODE_LATCH_6:case ie.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ie.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ie.MACRO_PDF417_TERMINATOR:u--,E=!0;break;default:if(p%5===0&&p>0){for(let I=0;I<6;++I)d.write(Number(ar(x)>>ar(8*(5-I))));x=0,p=0}break}u===i[0]&&N<ie.TEXT_COMPACTION_MODE_LATCH&&(C[p++]=N);for(let I=0;I<p;I++)d.write(C[I]);break;case ie.BYTE_COMPACTION_MODE_LATCH_6:for(;u<i[0]&&!E;){let I=i[u++];if(I<ie.TEXT_COMPACTION_MODE_LATCH)p++,x=900*x+I;else switch(I){case ie.TEXT_COMPACTION_MODE_LATCH:case ie.BYTE_COMPACTION_MODE_LATCH:case ie.NUMERIC_COMPACTION_MODE_LATCH:case ie.BYTE_COMPACTION_MODE_LATCH_6:case ie.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ie.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ie.MACRO_PDF417_TERMINATOR:u--,E=!0;break}if(p%5===0&&p>0){for(let L=0;L<6;++L)d.write(Number(ar(x)>>ar(8*(5-L))));x=0,p=0}}break}return h.append(Ft.decode(d.toByteArray(),a)),u}static numericCompaction(t,i,a){let u=0,h=!1,d=new Int32Array(ie.MAX_NUMERIC_CODEWORDS);for(;i<t[0]&&!h;){let p=t[i++];if(i===t[0]&&(h=!0),p<ie.TEXT_COMPACTION_MODE_LATCH)d[u]=p,u++;else switch(p){case ie.TEXT_COMPACTION_MODE_LATCH:case ie.BYTE_COMPACTION_MODE_LATCH:case ie.BYTE_COMPACTION_MODE_LATCH_6:case ie.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ie.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ie.MACRO_PDF417_TERMINATOR:i--,h=!0;break}(u%ie.MAX_NUMERIC_CODEWORDS===0||p===ie.NUMERIC_COMPACTION_MODE_LATCH||h)&&u>0&&(a.append(ie.decodeBase900toBase10(d,u)),u=0)}return i}static decodeBase900toBase10(t,i){let a=ar(0);for(let h=0;h<i;h++)a+=ie.EXP900[i-h-1]*ar(t[h]);let u=a.toString();if(u.charAt(0)!=="1")throw new ne;return u.substring(1)}}ie.TEXT_COMPACTION_MODE_LATCH=900,ie.BYTE_COMPACTION_MODE_LATCH=901,ie.NUMERIC_COMPACTION_MODE_LATCH=902,ie.BYTE_COMPACTION_MODE_LATCH_6=924,ie.ECI_USER_DEFINED=925,ie.ECI_GENERAL_PURPOSE=926,ie.ECI_CHARSET=927,ie.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,ie.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,ie.MACRO_PDF417_TERMINATOR=922,ie.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,ie.MAX_NUMERIC_CODEWORDS=15,ie.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,ie.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,ie.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,ie.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,ie.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,ie.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,ie.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,ie.PL=25,ie.LL=27,ie.AS=27,ie.ML=28,ie.AL=28,ie.PS=29,ie.PAL=29,ie.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,ie.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",ie.EXP900=Io()?wl():[],ie.NUMBER_OF_SEQUENCE_CODEWORDS=2;class We{constructor(){}static decode(t,i,a,u,h,d,p){let x=new Vi(t,i,a,u,h),E=null,C=null,N;for(let j=!0;;j=!1){if(i!=null&&(E=We.getRowIndicatorColumn(t,x,i,!0,d,p)),u!=null&&(C=We.getRowIndicatorColumn(t,x,u,!1,d,p)),N=We.merge(E,C),N==null)throw se.getNotFoundInstance();let P=N.getBoundingBox();if(j&&P!=null&&(P.getMinY()<x.getMinY()||P.getMaxY()>x.getMaxY()))x=P;else break}N.setBoundingBox(x);let I=N.getBarcodeColumnCount()+1;N.setDetectionResultColumn(0,E),N.setDetectionResultColumn(I,C);let L=E!=null;for(let j=1;j<=I;j++){let P=L?j:I-j;if(N.getDetectionResultColumn(P)!==void 0)continue;let q;P===0||P===I?q=new yl(x,P===0):q=new ir(x),N.setDetectionResultColumn(P,q);let te=-1,xe=te;for(let ye=x.getMinY();ye<=x.getMaxY();ye++){if(te=We.getStartColumn(N,P,ye,L),te<0||te>x.getMaxX()){if(xe===-1)continue;te=xe}let me=We.detectCodeword(t,x.getMinX(),x.getMaxX(),L,te,ye,d,p);me!=null&&(q.setCodeword(ye,me),xe=te,d=Math.min(d,me.getWidth()),p=Math.max(p,me.getWidth()))}}return We.createDecoderResult(N)}static merge(t,i){if(t==null&&i==null)return null;let a=We.getBarcodeMetadata(t,i);if(a==null)return null;let u=Vi.merge(We.adjustBoundingBox(t),We.adjustBoundingBox(i));return new fn(a,u)}static adjustBoundingBox(t){if(t==null)return null;let i=t.getRowHeights();if(i==null)return null;let a=We.getMax(i),u=0;for(let p of i)if(u+=a-p,p>0)break;let h=t.getCodewords();for(let p=0;u>0&&h[p]==null;p++)u--;let d=0;for(let p=i.length-1;p>=0&&(d+=a-i[p],!(i[p]>0));p--);for(let p=h.length-1;d>0&&h[p]==null;p--)d--;return t.getBoundingBox().addMissingRows(u,d,t.isLeft())}static getMax(t){let i=-1;for(let a of t)i=Math.max(i,a);return i}static getBarcodeMetadata(t,i){let a;if(t==null||(a=t.getBarcodeMetadata())==null)return i==null?null:i.getBarcodeMetadata();let u;return i==null||(u=i.getBarcodeMetadata())==null?a:a.getColumnCount()!==u.getColumnCount()&&a.getErrorCorrectionLevel()!==u.getErrorCorrectionLevel()&&a.getRowCount()!==u.getRowCount()?null:a}static getRowIndicatorColumn(t,i,a,u,h,d){let p=new yl(i,u);for(let x=0;x<2;x++){let E=x===0?1:-1,C=Math.trunc(Math.trunc(a.getX()));for(let N=Math.trunc(Math.trunc(a.getY()));N<=i.getMaxY()&&N>=i.getMinY();N+=E){let I=We.detectCodeword(t,0,t.getWidth(),u,C,N,h,d);I!=null&&(p.setCodeword(N,I),u?C=I.getStartX():C=I.getEndX())}}return p}static adjustCodewordCount(t,i){let a=i[0][1],u=a.getValue(),h=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-We.getNumberOfECCodeWords(t.getBarcodeECLevel());if(u.length===0){if(h<1||h>Ue.MAX_CODEWORDS_IN_BARCODE)throw se.getNotFoundInstance();a.setValue(h)}else u[0]!==h&&a.setValue(h)}static createDecoderResult(t){let i=We.createBarcodeMatrix(t);We.adjustCodewordCount(t,i);let a=new Array,u=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),h=[],d=new Array;for(let x=0;x<t.getBarcodeRowCount();x++)for(let E=0;E<t.getBarcodeColumnCount();E++){let C=i[x][E+1].getValue(),N=x*t.getBarcodeColumnCount()+E;C.length===0?a.push(N):C.length===1?u[N]=C[0]:(d.push(N),h.push(C))}let p=new Array(h.length);for(let x=0;x<p.length;x++)p[x]=h[x];return We.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),u,Ue.toIntArray(a),Ue.toIntArray(d),p)}static createDecoderResultFromAmbiguousValues(t,i,a,u,h){let d=new Int32Array(u.length),p=100;for(;p-- >0;){for(let x=0;x<d.length;x++)i[u[x]]=h[x][d[x]];try{return We.decodeCodewords(i,t,a)}catch(x){if(!(x instanceof B))throw x}if(d.length===0)throw B.getChecksumInstance();for(let x=0;x<d.length;x++)if(d[x]<h[x].length-1){d[x]++;break}else if(d[x]=0,x===d.length-1)throw B.getChecksumInstance()}throw B.getChecksumInstance()}static createBarcodeMatrix(t){let i=Array.from({length:t.getBarcodeRowCount()},()=>new Array(t.getBarcodeColumnCount()+2));for(let u=0;u<i.length;u++)for(let h=0;h<i[u].length;h++)i[u][h]=new rr;let a=0;for(let u of t.getDetectionResultColumns()){if(u!=null){for(let h of u.getCodewords())if(h!=null){let d=h.getRowNumber();if(d>=0){if(d>=i.length)continue;i[d][a].setValue(h.getValue())}}}a++}return i}static isValidBarcodeColumn(t,i){return i>=0&&i<=t.getBarcodeColumnCount()+1}static getStartColumn(t,i,a,u){let h=u?1:-1,d=null;if(We.isValidBarcodeColumn(t,i-h)&&(d=t.getDetectionResultColumn(i-h).getCodeword(a)),d!=null)return u?d.getEndX():d.getStartX();if(d=t.getDetectionResultColumn(i).getCodewordNearby(a),d!=null)return u?d.getStartX():d.getEndX();if(We.isValidBarcodeColumn(t,i-h)&&(d=t.getDetectionResultColumn(i-h).getCodewordNearby(a)),d!=null)return u?d.getEndX():d.getStartX();let p=0;for(;We.isValidBarcodeColumn(t,i-h);){i-=h;for(let x of t.getDetectionResultColumn(i).getCodewords())if(x!=null)return(u?x.getEndX():x.getStartX())+h*p*(x.getEndX()-x.getStartX());p++}return u?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()}static detectCodeword(t,i,a,u,h,d,p,x){h=We.adjustCodewordStartColumn(t,i,a,u,h,d);let E=We.getModuleBitCount(t,i,a,u,h,d);if(E==null)return null;let C,N=$e.sum(E);if(u)C=h+N;else{for(let j=0;j<E.length/2;j++){let P=E[j];E[j]=E[E.length-1-j],E[E.length-1-j]=P}C=h,h=C-N}if(!We.checkCodewordSkew(N,p,x))return null;let I=En.getDecodedValue(E),L=Ue.getCodeword(I);return L===-1?null:new ui(h,C,We.getCodewordBucketNumber(I),L)}static getModuleBitCount(t,i,a,u,h,d){let p=h,x=new Int32Array(8),E=0,C=u?1:-1,N=u;for(;(u?p<a:p>=i)&&E<x.length;)t.get(p,d)===N?(x[E]++,p+=C):(E++,N=!N);return E===x.length||p===(u?a:i)&&E===x.length-1?x:null}static getNumberOfECCodeWords(t){return 2<<t}static adjustCodewordStartColumn(t,i,a,u,h,d){let p=h,x=u?-1:1;for(let E=0;E<2;E++){for(;(u?p>=i:p<a)&&u===t.get(p,d);){if(Math.abs(h-p)>We.CODEWORD_SKEW_SIZE)return h;p+=x}x=-x,u=!u}return p}static checkCodewordSkew(t,i,a){return i-We.CODEWORD_SKEW_SIZE<=t&&t<=a+We.CODEWORD_SKEW_SIZE}static decodeCodewords(t,i,a){if(t.length===0)throw ne.getFormatInstance();let u=1<<i+1,h=We.correctErrors(t,a,u);We.verifyCodewordCount(t,u);let d=ie.decode(t,""+i);return d.setErrorsCorrected(h),d.setErasures(a.length),d}static correctErrors(t,i,a){if(i!=null&&i.length>a/2+We.MAX_ERRORS||a<0||a>We.MAX_EC_CODEWORDS)throw B.getChecksumInstance();return We.errorCorrection.decode(t,a,i)}static verifyCodewordCount(t,i){if(t.length<4)throw ne.getFormatInstance();let a=t[0];if(a>t.length)throw ne.getFormatInstance();if(a===0)if(i<t.length)t[0]=t.length-i;else throw ne.getFormatInstance()}static getBitCountForCodeword(t){let i=new Int32Array(8),a=0,u=i.length-1;for(;!((t&1)!==a&&(a=t&1,u--,u<0));)i[u]++,t>>=1;return i}static getCodewordBucketNumber(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)}static getCodewordBucketNumber_number(t){return We.getCodewordBucketNumber(We.getBitCountForCodeword(t))}static getCodewordBucketNumber_Int32Array(t){return(t[0]-t[2]+t[4]-t[6]+9)%9}static toString(t){let i=new Kr;for(let a=0;a<t.length;a++){i.format("Row %2d: ",a);for(let u=0;u<t[a].length;u++){let h=t[a][u];h.getValue().length===0?i.format("        ",null):i.format("%4d(%2d)",h.getValue()[0],h.getConfidence(h.getValue()[0]))}i.format("%n")}return i.toString()}}We.CODEWORD_SKEW_SIZE=2,We.MAX_ERRORS=3,We.MAX_EC_CODEWORDS=512,We.errorCorrection=new Hi;class An{decode(t,i=null){let a=An.decode(t,i,!1);if(a==null||a.length===0||a[0]==null)throw se.getNotFoundInstance();return a[0]}decodeMultiple(t,i=null){try{return An.decode(t,i,!0)}catch(a){throw a instanceof ne||a instanceof B?se.getNotFoundInstance():a}}static decode(t,i,a){const u=new Array,h=Ve.detectMultiple(t,i,a);for(const d of h.getPoints()){const p=We.decode(h.getBits(),d[4],d[5],d[6],d[7],An.getMinCodewordWidth(d),An.getMaxCodewordWidth(d)),x=new Ae(p.getText(),p.getRawBytes(),void 0,d,be.PDF_417);x.putMetadata(ht.ERROR_CORRECTION_LEVEL,p.getECLevel());const E=p.getOther();E!=null&&x.putMetadata(ht.PDF417_EXTRA_METADATA,E),u.push(x)}return u.map(d=>d)}static getMaxWidth(t,i){return t==null||i==null?0:Math.trunc(Math.abs(t.getX()-i.getX()))}static getMinWidth(t,i){return t==null||i==null?X.MAX_VALUE:Math.trunc(Math.abs(t.getX()-i.getX()))}static getMaxCodewordWidth(t){return Math.floor(Math.max(Math.max(An.getMaxWidth(t[0],t[4]),An.getMaxWidth(t[6],t[2])*Ue.MODULES_IN_CODEWORD/Ue.MODULES_IN_STOP_PATTERN),Math.max(An.getMaxWidth(t[1],t[5]),An.getMaxWidth(t[7],t[3])*Ue.MODULES_IN_CODEWORD/Ue.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(t){return Math.floor(Math.min(Math.min(An.getMinWidth(t[0],t[4]),An.getMinWidth(t[6],t[2])*Ue.MODULES_IN_CODEWORD/Ue.MODULES_IN_STOP_PATTERN),Math.min(An.getMinWidth(t[1],t[5]),An.getMinWidth(t[7],t[3])*Ue.MODULES_IN_CODEWORD/Ue.MODULES_IN_STOP_PATTERN)))}reset(){}}class ys extends v{}ys.kind="ReaderException";class Do{constructor(t,i){this.verbose=t===!0,i&&this.setHints(i)}decode(t,i){return i&&this.setHints(i),this.decodeInternal(t)}decodeWithState(t){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(t)}setHints(t){this.hints=t;const i=!c(t)&&t.get(Ee.TRY_HARDER)===!0,a=c(t)?null:t.get(Ee.POSSIBLE_FORMATS),u=new Array;if(!c(a)){const h=a.some(d=>d===be.UPC_A||d===be.UPC_E||d===be.EAN_13||d===be.EAN_8||d===be.CODABAR||d===be.CODE_39||d===be.CODE_93||d===be.CODE_128||d===be.ITF||d===be.RSS_14||d===be.RSS_EXPANDED);h&&!i&&u.push(new li(t,this.verbose)),a.includes(be.QR_CODE)&&u.push(new Fi),a.includes(be.DATA_MATRIX)&&u.push(new zi),a.includes(be.AZTEC)&&u.push(new us),a.includes(be.PDF_417)&&u.push(new An),h&&i&&u.push(new li(t,this.verbose))}u.length===0&&(i||u.push(new li(t,this.verbose)),u.push(new Fi),u.push(new zi),u.push(new us),u.push(new An),i&&u.push(new li(t,this.verbose))),this.readers=u}reset(){if(this.readers!==null)for(const t of this.readers)t.reset()}decodeInternal(t){if(this.readers===null)throw new ys("No readers where selected, nothing can be read.");for(const i of this.readers)try{return i.decode(t,this.hints)}catch(a){if(a instanceof ys)continue}throw new se("No MultiFormat Readers were able to detect the code.")}}class Mo extends ve{constructor(t=null,i=500){const a=new Do;a.setHints(t),super(a,i)}decodeBitmap(t){return this.reader.decodeWithState(t)}}class mc extends ve{constructor(t=500){super(new An,t)}}class pc extends ve{constructor(t=500){super(new Fi,t)}}var bl;(function(O){O[O.ERROR_CORRECTION=0]="ERROR_CORRECTION",O[O.CHARACTER_SET=1]="CHARACTER_SET",O[O.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",O[O.MIN_SIZE=3]="MIN_SIZE",O[O.MAX_SIZE=4]="MAX_SIZE",O[O.MARGIN=5]="MARGIN",O[O.PDF417_COMPACT=6]="PDF417_COMPACT",O[O.PDF417_COMPACTION=7]="PDF417_COMPACTION",O[O.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",O[O.AZTEC_LAYERS=9]="AZTEC_LAYERS",O[O.QR_VERSION=10]="QR_VERSION"})(bl||(bl={}));var on=bl;class Ua{constructor(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new wn(t,Int32Array.from([1])))}buildGenerator(t){const i=this.cachedGenerators;if(t>=i.length){let a=i[i.length-1];const u=this.field;for(let h=i.length;h<=t;h++){const d=a.multiply(new wn(u,Int32Array.from([1,u.exp(h-1+u.getGeneratorBase())])));i.push(d),a=d}}return i[t]}encode(t,i){if(i===0)throw new R("No error correction bytes");const a=t.length-i;if(a<=0)throw new R("No data bytes provided");const u=this.buildGenerator(i),h=new Int32Array(a);H.arraycopy(t,0,h,0,a);let d=new wn(this.field,h);d=d.multiplyByMonomial(i,1);const x=d.divide(u)[1].getCoefficients(),E=i-x.length;for(let C=0;C<E;C++)t[a+C]=0;H.arraycopy(x,0,t,a+E,x.length)}}class Xt{constructor(){}static applyMaskPenaltyRule1(t){return Xt.applyMaskPenaltyRule1Internal(t,!0)+Xt.applyMaskPenaltyRule1Internal(t,!1)}static applyMaskPenaltyRule2(t){let i=0;const a=t.getArray(),u=t.getWidth(),h=t.getHeight();for(let d=0;d<h-1;d++){const p=a[d];for(let x=0;x<u-1;x++){const E=p[x];E===p[x+1]&&E===a[d+1][x]&&E===a[d+1][x+1]&&i++}}return Xt.N2*i}static applyMaskPenaltyRule3(t){let i=0;const a=t.getArray(),u=t.getWidth(),h=t.getHeight();for(let d=0;d<h;d++)for(let p=0;p<u;p++){const x=a[d];p+6<u&&x[p]===1&&x[p+1]===0&&x[p+2]===1&&x[p+3]===1&&x[p+4]===1&&x[p+5]===0&&x[p+6]===1&&(Xt.isWhiteHorizontal(x,p-4,p)||Xt.isWhiteHorizontal(x,p+7,p+11))&&i++,d+6<h&&a[d][p]===1&&a[d+1][p]===0&&a[d+2][p]===1&&a[d+3][p]===1&&a[d+4][p]===1&&a[d+5][p]===0&&a[d+6][p]===1&&(Xt.isWhiteVertical(a,p,d-4,d)||Xt.isWhiteVertical(a,p,d+7,d+11))&&i++}return i*Xt.N3}static isWhiteHorizontal(t,i,a){i=Math.max(i,0),a=Math.min(a,t.length);for(let u=i;u<a;u++)if(t[u]===1)return!1;return!0}static isWhiteVertical(t,i,a,u){a=Math.max(a,0),u=Math.min(u,t.length);for(let h=a;h<u;h++)if(t[h][i]===1)return!1;return!0}static applyMaskPenaltyRule4(t){let i=0;const a=t.getArray(),u=t.getWidth(),h=t.getHeight();for(let x=0;x<h;x++){const E=a[x];for(let C=0;C<u;C++)E[C]===1&&i++}const d=t.getHeight()*t.getWidth();return Math.floor(Math.abs(i*2-d)*10/d)*Xt.N4}static getDataMaskBit(t,i,a){let u,h;switch(t){case 0:u=a+i&1;break;case 1:u=a&1;break;case 2:u=i%3;break;case 3:u=(a+i)%3;break;case 4:u=Math.floor(a/2)+Math.floor(i/3)&1;break;case 5:h=a*i,u=(h&1)+h%3;break;case 6:h=a*i,u=(h&1)+h%3&1;break;case 7:h=a*i,u=h%3+(a+i&1)&1;break;default:throw new R("Invalid mask pattern: "+t)}return u===0}static applyMaskPenaltyRule1Internal(t,i){let a=0;const u=i?t.getHeight():t.getWidth(),h=i?t.getWidth():t.getHeight(),d=t.getArray();for(let p=0;p<u;p++){let x=0,E=-1;for(let C=0;C<h;C++){const N=i?d[p][C]:d[C][p];N===E?x++:(x>=5&&(a+=Xt.N1+(x-5)),x=1,E=N)}x>=5&&(a+=Xt.N1+(x-5))}return a}}Xt.N1=3,Xt.N2=3,Xt.N3=40,Xt.N4=10;class xs{constructor(t,i){this.width=t,this.height=i;const a=new Array(i);for(let u=0;u!==i;u++)a[u]=new Uint8Array(t);this.bytes=a}getHeight(){return this.height}getWidth(){return this.width}get(t,i){return this.bytes[i][t]}getArray(){return this.bytes}setNumber(t,i,a){this.bytes[i][t]=a}setBoolean(t,i,a){this.bytes[i][t]=a?1:0}clear(t){for(const i of this.bytes)$.fill(i,t)}equals(t){if(!(t instanceof xs))return!1;const i=t;if(this.width!==i.width||this.height!==i.height)return!1;for(let a=0,u=this.height;a<u;++a){const h=this.bytes[a],d=i.bytes[a];for(let p=0,x=this.width;p<x;++p)if(h[p]!==d[p])return!1}return!0}toString(){const t=new it;for(let i=0,a=this.height;i<a;++i){const u=this.bytes[i];for(let h=0,d=this.width;h<d;++h)switch(u[h]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ");break}t.append(`
`)}return t.toString()}}class gr{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const t=new it;return t.append(`<<
`),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append(`
 ecLevel: `),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append(`
 version: `),t.append(this.version?this.version.toString():"null"),t.append(`
 maskPattern: `),t.append(this.maskPattern.toString()),this.matrix?(t.append(`
 matrix:
`),t.append(this.matrix.toString())):t.append(`
 matrix: null
`),t.append(`>>
`),t.toString()}setMode(t){this.mode=t}setECLevel(t){this.ecLevel=t}setVersion(t){this.version=t}setMaskPattern(t){this.maskPattern=t}setMatrix(t){this.matrix=t}static isValidMaskPattern(t){return t>=0&&t<gr.NUM_MASK_PATTERNS}}gr.NUM_MASK_PATTERNS=8;class Et extends v{}Et.kind="WriterException";class je{constructor(){}static clearMatrix(t){t.clear(255)}static buildMatrix(t,i,a,u,h){je.clearMatrix(h),je.embedBasicPatterns(a,h),je.embedTypeInfo(i,u,h),je.maybeEmbedVersionInfo(a,h),je.embedDataBits(t,u,h)}static embedBasicPatterns(t,i){je.embedPositionDetectionPatternsAndSeparators(i),je.embedDarkDotAtLeftBottomCorner(i),je.maybeEmbedPositionAdjustmentPatterns(t,i),je.embedTimingPatterns(i)}static embedTypeInfo(t,i,a){const u=new pe;je.makeTypeInfoBits(t,i,u);for(let h=0,d=u.getSize();h<d;++h){const p=u.get(u.getSize()-1-h),x=je.TYPE_INFO_COORDINATES[h],E=x[0],C=x[1];if(a.setBoolean(E,C,p),h<8){const N=a.getWidth()-h-1;a.setBoolean(N,8,p)}else{const I=a.getHeight()-7+(h-8);a.setBoolean(8,I,p)}}}static maybeEmbedVersionInfo(t,i){if(t.getVersionNumber()<7)return;const a=new pe;je.makeVersionInfoBits(t,a);let u=17;for(let h=0;h<6;++h)for(let d=0;d<3;++d){const p=a.get(u);u--,i.setBoolean(h,i.getHeight()-11+d,p),i.setBoolean(i.getHeight()-11+d,h,p)}}static embedDataBits(t,i,a){let u=0,h=-1,d=a.getWidth()-1,p=a.getHeight()-1;for(;d>0;){for(d===6&&(d-=1);p>=0&&p<a.getHeight();){for(let x=0;x<2;++x){const E=d-x;if(!je.isEmpty(a.get(E,p)))continue;let C;u<t.getSize()?(C=t.get(u),++u):C=!1,i!==255&&Xt.getDataMaskBit(i,E,p)&&(C=!C),a.setBoolean(E,p,C)}p+=h}h=-h,p+=h,d-=2}if(u!==t.getSize())throw new Et("Not all bits consumed: "+u+"/"+t.getSize())}static findMSBSet(t){return 32-X.numberOfLeadingZeros(t)}static calculateBCHCode(t,i){if(i===0)throw new R("0 polynomial");const a=je.findMSBSet(i);for(t<<=a-1;je.findMSBSet(t)>=a;)t^=i<<je.findMSBSet(t)-a;return t}static makeTypeInfoBits(t,i,a){if(!gr.isValidMaskPattern(i))throw new Et("Invalid mask pattern");const u=t.getBits()<<3|i;a.appendBits(u,5);const h=je.calculateBCHCode(u,je.TYPE_INFO_POLY);a.appendBits(h,10);const d=new pe;if(d.appendBits(je.TYPE_INFO_MASK_PATTERN,15),a.xor(d),a.getSize()!==15)throw new Et("should not happen but we got: "+a.getSize())}static makeVersionInfoBits(t,i){i.appendBits(t.getVersionNumber(),6);const a=je.calculateBCHCode(t.getVersionNumber(),je.VERSION_INFO_POLY);if(i.appendBits(a,12),i.getSize()!==18)throw new Et("should not happen but we got: "+i.getSize())}static isEmpty(t){return t===255}static embedTimingPatterns(t){for(let i=8;i<t.getWidth()-8;++i){const a=(i+1)%2;je.isEmpty(t.get(i,6))&&t.setNumber(i,6,a),je.isEmpty(t.get(6,i))&&t.setNumber(6,i,a)}}static embedDarkDotAtLeftBottomCorner(t){if(t.get(8,t.getHeight()-8)===0)throw new Et;t.setNumber(8,t.getHeight()-8,1)}static embedHorizontalSeparationPattern(t,i,a){for(let u=0;u<8;++u){if(!je.isEmpty(a.get(t+u,i)))throw new Et;a.setNumber(t+u,i,0)}}static embedVerticalSeparationPattern(t,i,a){for(let u=0;u<7;++u){if(!je.isEmpty(a.get(t,i+u)))throw new Et;a.setNumber(t,i+u,0)}}static embedPositionAdjustmentPattern(t,i,a){for(let u=0;u<5;++u){const h=je.POSITION_ADJUSTMENT_PATTERN[u];for(let d=0;d<5;++d)a.setNumber(t+d,i+u,h[d])}}static embedPositionDetectionPattern(t,i,a){for(let u=0;u<7;++u){const h=je.POSITION_DETECTION_PATTERN[u];for(let d=0;d<7;++d)a.setNumber(t+d,i+u,h[d])}}static embedPositionDetectionPatternsAndSeparators(t){const i=je.POSITION_DETECTION_PATTERN[0].length;je.embedPositionDetectionPattern(0,0,t),je.embedPositionDetectionPattern(t.getWidth()-i,0,t),je.embedPositionDetectionPattern(0,t.getWidth()-i,t);const a=8;je.embedHorizontalSeparationPattern(0,a-1,t),je.embedHorizontalSeparationPattern(t.getWidth()-a,a-1,t),je.embedHorizontalSeparationPattern(0,t.getWidth()-a,t);const u=7;je.embedVerticalSeparationPattern(u,0,t),je.embedVerticalSeparationPattern(t.getHeight()-u-1,0,t),je.embedVerticalSeparationPattern(u,t.getHeight()-u,t)}static maybeEmbedPositionAdjustmentPatterns(t,i){if(t.getVersionNumber()<2)return;const a=t.getVersionNumber()-1,u=je.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[a];for(let h=0,d=u.length;h!==d;h++){const p=u[h];if(p>=0)for(let x=0;x!==d;x++){const E=u[x];E>=0&&je.isEmpty(i.get(E,p))&&je.embedPositionAdjustmentPattern(E-2,p-2,i)}}}}je.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),je.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),je.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),je.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),je.VERSION_INFO_POLY=7973,je.TYPE_INFO_POLY=1335,je.TYPE_INFO_MASK_PATTERN=21522;class yc{constructor(t,i){this.dataBytes=t,this.errorCorrectionBytes=i}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Ut{constructor(){}static calculateMaskPenalty(t){return Xt.applyMaskPenaltyRule1(t)+Xt.applyMaskPenaltyRule2(t)+Xt.applyMaskPenaltyRule3(t)+Xt.applyMaskPenaltyRule4(t)}static encode(t,i,a=null){let u=Ut.DEFAULT_BYTE_MODE_ENCODING;const h=a!==null&&a.get(on.CHARACTER_SET)!==void 0;h&&(u=a.get(on.CHARACTER_SET).toString());const d=this.chooseMode(t,u),p=new pe;if(d===Me.BYTE&&(h||Ut.DEFAULT_BYTE_MODE_ENCODING!==u)){const ye=de.getCharacterSetECIByName(u);ye!==void 0&&this.appendECI(ye,p)}this.appendModeInfo(d,p);const x=new pe;this.appendBytes(t,d,x,u);let E;if(a!==null&&a.get(on.QR_VERSION)!==void 0){const ye=Number.parseInt(a.get(on.QR_VERSION).toString(),10);E=Oe.getVersionForNumber(ye);const me=this.calculateBitsNeeded(d,p,x,E);if(!this.willFit(me,E,i))throw new Et("Data too big for requested version")}else E=this.recommendVersion(i,d,p,x);const C=new pe;C.appendBitArray(p);const N=d===Me.BYTE?x.getSizeInBytes():t.length;this.appendLengthInfo(N,E,d,C),C.appendBitArray(x);const I=E.getECBlocksForLevel(i),L=E.getTotalCodewords()-I.getTotalECCodewords();this.terminateBits(L,C);const j=this.interleaveWithECBytes(C,E.getTotalCodewords(),L,I.getNumBlocks()),P=new gr;P.setECLevel(i),P.setMode(d),P.setVersion(E);const q=E.getDimensionForVersion(),te=new xs(q,q),xe=this.chooseMaskPattern(j,i,E,te);return P.setMaskPattern(xe),je.buildMatrix(j,i,E,xe,te),P.setMatrix(te),P}static recommendVersion(t,i,a,u){const h=this.calculateBitsNeeded(i,a,u,Oe.getVersionForNumber(1)),d=this.chooseVersion(h,t),p=this.calculateBitsNeeded(i,a,u,d);return this.chooseVersion(p,t)}static calculateBitsNeeded(t,i,a,u){return i.getSize()+t.getCharacterCountBits(u)+a.getSize()}static getAlphanumericCode(t){return t<Ut.ALPHANUMERIC_TABLE.length?Ut.ALPHANUMERIC_TABLE[t]:-1}static chooseMode(t,i=null){if(de.SJIS.getName()===i&&this.isOnlyDoubleByteKanji(t))return Me.KANJI;let a=!1,u=!1;for(let h=0,d=t.length;h<d;++h){const p=t.charAt(h);if(Ut.isDigit(p))a=!0;else if(this.getAlphanumericCode(p.charCodeAt(0))!==-1)u=!0;else return Me.BYTE}return u?Me.ALPHANUMERIC:a?Me.NUMERIC:Me.BYTE}static isOnlyDoubleByteKanji(t){let i;try{i=Ft.encode(t,de.SJIS)}catch{return!1}const a=i.length;if(a%2!==0)return!1;for(let u=0;u<a;u+=2){const h=i[u]&255;if((h<129||h>159)&&(h<224||h>235))return!1}return!0}static chooseMaskPattern(t,i,a,u){let h=Number.MAX_SAFE_INTEGER,d=-1;for(let p=0;p<gr.NUM_MASK_PATTERNS;p++){je.buildMatrix(t,i,a,p,u);let x=this.calculateMaskPenalty(u);x<h&&(h=x,d=p)}return d}static chooseVersion(t,i){for(let a=1;a<=40;a++){const u=Oe.getVersionForNumber(a);if(Ut.willFit(t,u,i))return u}throw new Et("Data too big")}static willFit(t,i,a){const u=i.getTotalCodewords(),d=i.getECBlocksForLevel(a).getTotalECCodewords(),p=u-d,x=(t+7)/8;return p>=x}static terminateBits(t,i){const a=t*8;if(i.getSize()>a)throw new Et("data bits cannot fit in the QR Code"+i.getSize()+" > "+a);for(let d=0;d<4&&i.getSize()<a;++d)i.appendBit(!1);const u=i.getSize()&7;if(u>0)for(let d=u;d<8;d++)i.appendBit(!1);const h=t-i.getSizeInBytes();for(let d=0;d<h;++d)i.appendBits((d&1)===0?236:17,8);if(i.getSize()!==a)throw new Et("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(t,i,a,u,h,d){if(u>=a)throw new Et("Block ID too large");const p=t%a,x=a-p,E=Math.floor(t/a),C=E+1,N=Math.floor(i/a),I=N+1,L=E-N,j=C-I;if(L!==j)throw new Et("EC bytes mismatch");if(a!==x+p)throw new Et("RS blocks mismatch");if(t!==(N+L)*x+(I+j)*p)throw new Et("Total bytes mismatch");u<x?(h[0]=N,d[0]=L):(h[0]=I,d[0]=j)}static interleaveWithECBytes(t,i,a,u){if(t.getSizeInBytes()!==a)throw new Et("Number of bits and data bytes does not match");let h=0,d=0,p=0;const x=new Array;for(let C=0;C<u;++C){const N=new Int32Array(1),I=new Int32Array(1);Ut.getNumDataBytesAndNumECBytesForBlockID(i,a,u,C,N,I);const L=N[0],j=new Uint8Array(L);t.toBytes(8*h,j,0,L);const P=Ut.generateECBytes(j,I[0]);x.push(new yc(j,P)),d=Math.max(d,L),p=Math.max(p,P.length),h+=N[0]}if(a!==h)throw new Et("Data bytes does not match offset");const E=new pe;for(let C=0;C<d;++C)for(const N of x){const I=N.getDataBytes();C<I.length&&E.appendBits(I[C],8)}for(let C=0;C<p;++C)for(const N of x){const I=N.getErrorCorrectionBytes();C<I.length&&E.appendBits(I[C],8)}if(i!==E.getSizeInBytes())throw new Et("Interleaving error: "+i+" and "+E.getSizeInBytes()+" differ.");return E}static generateECBytes(t,i){const a=t.length,u=new Int32Array(a+i);for(let d=0;d<a;d++)u[d]=t[d]&255;new Ua(ft.QR_CODE_FIELD_256).encode(u,i);const h=new Uint8Array(i);for(let d=0;d<i;d++)h[d]=u[a+d];return h}static appendModeInfo(t,i){i.appendBits(t.getBits(),4)}static appendLengthInfo(t,i,a,u){const h=a.getCharacterCountBits(i);if(t>=1<<h)throw new Et(t+" is bigger than "+((1<<h)-1));u.appendBits(t,h)}static appendBytes(t,i,a,u){switch(i){case Me.NUMERIC:Ut.appendNumericBytes(t,a);break;case Me.ALPHANUMERIC:Ut.appendAlphanumericBytes(t,a);break;case Me.BYTE:Ut.append8BitBytes(t,a,u);break;case Me.KANJI:Ut.appendKanjiBytes(t,a);break;default:throw new Et("Invalid mode: "+i)}}static getDigit(t){return t.charCodeAt(0)-48}static isDigit(t){const i=Ut.getDigit(t);return i>=0&&i<=9}static appendNumericBytes(t,i){const a=t.length;let u=0;for(;u<a;){const h=Ut.getDigit(t.charAt(u));if(u+2<a){const d=Ut.getDigit(t.charAt(u+1)),p=Ut.getDigit(t.charAt(u+2));i.appendBits(h*100+d*10+p,10),u+=3}else if(u+1<a){const d=Ut.getDigit(t.charAt(u+1));i.appendBits(h*10+d,7),u+=2}else i.appendBits(h,4),u++}}static appendAlphanumericBytes(t,i){const a=t.length;let u=0;for(;u<a;){const h=Ut.getAlphanumericCode(t.charCodeAt(u));if(h===-1)throw new Et;if(u+1<a){const d=Ut.getAlphanumericCode(t.charCodeAt(u+1));if(d===-1)throw new Et;i.appendBits(h*45+d,11),u+=2}else i.appendBits(h,6),u++}}static append8BitBytes(t,i,a){let u;try{u=Ft.encode(t,a)}catch(h){throw new Et(h)}for(let h=0,d=u.length;h!==d;h++){const p=u[h];i.appendBits(p,8)}}static appendKanjiBytes(t,i){let a;try{a=Ft.encode(t,de.SJIS)}catch(h){throw new Et(h)}const u=a.length;for(let h=0;h<u;h+=2){const d=a[h]&255,p=a[h+1]&255,x=d<<8&4294967295|p;let E=-1;if(x>=33088&&x<=40956?E=x-33088:x>=57408&&x<=60351&&(E=x-49472),E===-1)throw new Et("Invalid byte sequence");const C=(E>>8)*192+(E&255);i.appendBits(C,13)}}static appendECI(t,i){i.appendBits(Me.ECI.getBits(),4),i.appendBits(t.getValue(),8)}}Ut.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Ut.DEFAULT_BYTE_MODE_ENCODING=de.UTF8.getName();class mr{write(t,i,a,u=null){if(t.length===0)throw new R("Found empty contents");if(i<0||a<0)throw new R("Requested dimensions are too small: "+i+"x"+a);let h=Qe.L,d=mr.QUIET_ZONE_SIZE;u!==null&&(u.get(on.ERROR_CORRECTION)!==void 0&&(h=Qe.fromString(u.get(on.ERROR_CORRECTION).toString())),u.get(on.MARGIN)!==void 0&&(d=Number.parseInt(u.get(on.MARGIN).toString(),10)));const p=Ut.encode(t,h,u);return this.renderResult(p,i,a,d)}writeToDom(t,i,a,u,h=null){typeof t=="string"&&(t=document.querySelector(t));const d=this.write(i,a,u,h);t&&t.appendChild(d)}renderResult(t,i,a,u){const h=t.getMatrix();if(h===null)throw new Wn;const d=h.getWidth(),p=h.getHeight(),x=d+u*2,E=p+u*2,C=Math.max(i,x),N=Math.max(a,E),I=Math.min(Math.floor(C/x),Math.floor(N/E)),L=Math.floor((C-d*I)/2),j=Math.floor((N-p*I)/2),P=this.createSVGElement(C,N);for(let q=0,te=j;q<p;q++,te+=I)for(let xe=0,ye=L;xe<d;xe++,ye+=I)if(h.get(xe,q)===1){const me=this.createSvgRectElement(ye,te,I,I);P.appendChild(me)}return P}createSVGElement(t,i){const a=document.createElementNS(mr.SVG_NS,"svg");return a.setAttributeNS(null,"height",t.toString()),a.setAttributeNS(null,"width",i.toString()),a}createSvgRectElement(t,i,a,u){const h=document.createElementNS(mr.SVG_NS,"rect");return h.setAttributeNS(null,"x",t.toString()),h.setAttributeNS(null,"y",i.toString()),h.setAttributeNS(null,"height",a.toString()),h.setAttributeNS(null,"width",u.toString()),h.setAttributeNS(null,"fill","#000000"),h}}mr.QUIET_ZONE_SIZE=4,mr.SVG_NS="http://www.w3.org/2000/svg";class Jr{encode(t,i,a,u,h){if(t.length===0)throw new R("Found empty contents");if(i!==be.QR_CODE)throw new R("Can only encode QR_CODE, but got "+i);if(a<0||u<0)throw new R(`Requested dimensions are too small: ${a}x${u}`);let d=Qe.L,p=Jr.QUIET_ZONE_SIZE;h!==null&&(h.get(on.ERROR_CORRECTION)!==void 0&&(d=Qe.fromString(h.get(on.ERROR_CORRECTION).toString())),h.get(on.MARGIN)!==void 0&&(p=Number.parseInt(h.get(on.MARGIN).toString(),10)));const x=Ut.encode(t,d,h);return Jr.renderResult(x,a,u,p)}static renderResult(t,i,a,u){const h=t.getMatrix();if(h===null)throw new Wn;const d=h.getWidth(),p=h.getHeight(),x=d+u*2,E=p+u*2,C=Math.max(i,x),N=Math.max(a,E),I=Math.min(Math.floor(C/x),Math.floor(N/E)),L=Math.floor((C-d*I)/2),j=Math.floor((N-p*I)/2),P=new Nt(C,N);for(let q=0,te=j;q<p;q++,te+=I)for(let xe=0,ye=L;xe<d;xe++,ye+=I)h.get(xe,q)===1&&P.setRegion(ye,te,I,I);return P}}Jr.QUIET_ZONE_SIZE=4;class xc{encode(t,i,a,u,h){let d;if(i===be.QR_CODE)d=new Jr;else throw new R("No encoder available for format "+i);return d.encode(t,i,a,u,h)}}class Oi extends Be{constructor(t,i,a,u,h,d,p,x){if(super(d,p),this.yuvData=t,this.dataWidth=i,this.dataHeight=a,this.left=u,this.top=h,u+d>i||h+p>a)throw new R("Crop rectangle does not fit within image data.");x&&this.reverseHorizontal(d,p)}getRow(t,i){if(t<0||t>=this.getHeight())throw new R("Requested row is outside the image: "+t);const a=this.getWidth();(i==null||i.length<a)&&(i=new Uint8ClampedArray(a));const u=(t+this.top)*this.dataWidth+this.left;return H.arraycopy(this.yuvData,u,i,0,a),i}getMatrix(){const t=this.getWidth(),i=this.getHeight();if(t===this.dataWidth&&i===this.dataHeight)return this.yuvData;const a=t*i,u=new Uint8ClampedArray(a);let h=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return H.arraycopy(this.yuvData,h,u,0,a),u;for(let d=0;d<i;d++){const p=d*t;H.arraycopy(this.yuvData,h,u,p,t),h+=this.dataWidth}return u}isCropSupported(){return!0}crop(t,i,a,u){return new Oi(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+i,a,u,!1)}renderThumbnail(){const t=this.getWidth()/Oi.THUMBNAIL_SCALE_FACTOR,i=this.getHeight()/Oi.THUMBNAIL_SCALE_FACTOR,a=new Int32Array(t*i),u=this.yuvData;let h=this.top*this.dataWidth+this.left;for(let d=0;d<i;d++){const p=d*t;for(let x=0;x<t;x++){const E=u[h+x*Oi.THUMBNAIL_SCALE_FACTOR]&255;a[p+x]=4278190080|E*65793}h+=this.dataWidth*Oi.THUMBNAIL_SCALE_FACTOR}return a}getThumbnailWidth(){return this.getWidth()/Oi.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Oi.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(t,i){const a=this.yuvData;for(let u=0,h=this.top*this.dataWidth+this.left;u<i;u++,h+=this.dataWidth){const d=h+t/2;for(let p=h,x=h+t-1;p<d;p++,x--){const E=a[p];a[p]=a[x],a[x]=E}}}invert(){return new Je(this)}}Oi.THUMBNAIL_SCALE_FACTOR=2;class vl extends Be{constructor(t,i,a,u,h,d,p){if(super(i,a),this.dataWidth=u,this.dataHeight=h,this.left=d,this.top=p,t.BYTES_PER_ELEMENT===4){const x=i*a,E=new Uint8ClampedArray(x);for(let C=0;C<x;C++){const N=t[C],I=N>>16&255,L=N>>7&510,j=N&255;E[C]=(I+L+j)/4&255}this.luminances=E}else this.luminances=t;if(u===void 0&&(this.dataWidth=i),h===void 0&&(this.dataHeight=a),d===void 0&&(this.left=0),p===void 0&&(this.top=0),this.left+i>this.dataWidth||this.top+a>this.dataHeight)throw new R("Crop rectangle does not fit within image data.")}getRow(t,i){if(t<0||t>=this.getHeight())throw new R("Requested row is outside the image: "+t);const a=this.getWidth();(i==null||i.length<a)&&(i=new Uint8ClampedArray(a));const u=(t+this.top)*this.dataWidth+this.left;return H.arraycopy(this.luminances,u,i,0,a),i}getMatrix(){const t=this.getWidth(),i=this.getHeight();if(t===this.dataWidth&&i===this.dataHeight)return this.luminances;const a=t*i,u=new Uint8ClampedArray(a);let h=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return H.arraycopy(this.luminances,h,u,0,a),u;for(let d=0;d<i;d++){const p=d*t;H.arraycopy(this.luminances,h,u,p,t),h+=this.dataWidth}return u}isCropSupported(){return!0}crop(t,i,a,u){return new vl(this.luminances,a,u,this.dataWidth,this.dataHeight,this.left+t,this.top+i)}invert(){return new Je(this)}}class Lo extends de{static forName(t){return this.getCharacterSetECIByName(t)}}class ja{}ja.ISO_8859_1=de.ISO8859_1;class $r{isCompact(){return this.compact}setCompact(t){this.compact=t}getSize(){return this.size}setSize(t){this.size=t}getLayers(){return this.layers}setLayers(t){this.layers=t}getCodeWords(){return this.codeWords}setCodeWords(t){this.codeWords=t}getMatrix(){return this.matrix}setMatrix(t){this.matrix=t}}class Bo{static singletonList(t){return[t]}static min(t,i){return t.sort(i)[0]}}class ko{constructor(t){this.previous=t}getPrevious(){return this.previous}}class pr extends ko{constructor(t,i,a){super(t),this.value=i,this.bitCount=a}appendTo(t,i){t.appendBits(this.value,this.bitCount)}add(t,i){return new pr(this,t,i)}addBinaryShift(t,i){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new pr(this,t,i)}toString(){let t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+X.toBinaryString(t|1<<this.bitCount).substring(1)+">"}}class ws extends pr{constructor(t,i,a){super(t,0,0),this.binaryShiftStart=i,this.binaryShiftByteCount=a}appendTo(t,i){for(let a=0;a<this.binaryShiftByteCount;a++)(a===0||a===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):a===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(i[this.binaryShiftStart+a],8)}addBinaryShift(t,i){return new ws(this,t,i)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Uo(O,t,i){return new ws(O,t,i)}function ea(O,t,i){return new pr(O,t,i)}const ta=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],sr=0,bs=1,Jn=2,El=3,ci=4,Pa=new pr(null,0,0),yr=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function wc(O){for(let t of O)$.fill(t,-1);return O[sr][ci]=0,O[bs][ci]=0,O[bs][sr]=28,O[El][ci]=0,O[Jn][ci]=0,O[Jn][sr]=15,O}const za=wc($.createInt32Array(6,6));class hi{constructor(t,i,a,u){this.token=t,this.mode=i,this.binaryShiftByteCount=a,this.bitCount=u}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(t,i){let a=this.bitCount,u=this.token;if(t!==this.mode){let d=yr[this.mode][t];u=ea(u,d&65535,d>>16),a+=d>>16}let h=t===Jn?4:5;return u=ea(u,i,h),new hi(u,t,0,a+h)}shiftAndAppend(t,i){let a=this.token,u=this.mode===Jn?4:5;return a=ea(a,za[this.mode][t],u),a=ea(a,i,5),new hi(a,this.mode,0,this.bitCount+u+5)}addBinaryShiftChar(t){let i=this.token,a=this.mode,u=this.bitCount;if(this.mode===ci||this.mode===Jn){let p=yr[a][sr];i=ea(i,p&65535,p>>16),u+=p>>16,a=sr}let h=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,d=new hi(i,a,this.binaryShiftByteCount+1,u+h);return d.binaryShiftByteCount===2078&&(d=d.endBinaryShift(t+1)),d}endBinaryShift(t){if(this.binaryShiftByteCount===0)return this;let i=this.token;return i=Uo(i,t-this.binaryShiftByteCount,this.binaryShiftByteCount),new hi(i,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(t){let i=this.bitCount+(yr[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?i+=hi.calculateBinaryShiftCost(t)-hi.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(i+=10),i<=t.bitCount}toBitArray(t){let i=[];for(let u=this.endBinaryShift(t.length).token;u!==null;u=u.getPrevious())i.unshift(u);let a=new pe;for(const u of i)u.appendTo(a,t);return a}toString(){return Ne.format("%s bits=%d bytes=%d",ta[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0}}hi.INITIAL_STATE=new hi(Pa,sr,0,0);function jo(O){const t=Ne.getCharCode(" "),i=Ne.getCharCode("."),a=Ne.getCharCode(",");O[sr][t]=1;const u=Ne.getCharCode("Z"),h=Ne.getCharCode("A");for(let I=h;I<=u;I++)O[sr][I]=I-h+2;O[bs][t]=1;const d=Ne.getCharCode("z"),p=Ne.getCharCode("a");for(let I=p;I<=d;I++)O[bs][I]=I-p+2;O[Jn][t]=1;const x=Ne.getCharCode("9"),E=Ne.getCharCode("0");for(let I=E;I<=x;I++)O[Jn][I]=I-E+2;O[Jn][a]=12,O[Jn][i]=13;const C=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let I=0;I<C.length;I++)O[El][Ne.getCharCode(C[I])]=I;const N=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let I=0;I<N.length;I++)Ne.getCharCode(N[I])>0&&(O[ci][Ne.getCharCode(N[I])]=I);return O}const Fa=jo($.createInt32Array(5,256));class xr{constructor(t){this.text=t}encode(){const t=Ne.getCharCode(" "),i=Ne.getCharCode(`
`);let a=Bo.singletonList(hi.INITIAL_STATE);for(let h=0;h<this.text.length;h++){let d,p=h+1<this.text.length?this.text[h+1]:0;switch(this.text[h]){case Ne.getCharCode("\r"):d=p===i?2:0;break;case Ne.getCharCode("."):d=p===t?3:0;break;case Ne.getCharCode(","):d=p===t?4:0;break;case Ne.getCharCode(":"):d=p===t?5:0;break;default:d=0}d>0?(a=xr.updateStateListForPair(a,h,d),h++):a=this.updateStateListForChar(a,h)}return Bo.min(a,(h,d)=>h.getBitCount()-d.getBitCount()).toBitArray(this.text)}updateStateListForChar(t,i){const a=[];for(let u of t)this.updateStateForChar(u,i,a);return xr.simplifyStates(a)}updateStateForChar(t,i,a){let u=this.text[i]&255,h=Fa[t.getMode()][u]>0,d=null;for(let p=0;p<=ci;p++){let x=Fa[p][u];if(x>0){if(d==null&&(d=t.endBinaryShift(i)),!h||p===t.getMode()||p===Jn){const E=d.latchAndAppend(p,x);a.push(E)}if(!h&&za[t.getMode()][p]>=0){const E=d.shiftAndAppend(p,x);a.push(E)}}}if(t.getBinaryShiftByteCount()>0||Fa[t.getMode()][u]===0){let p=t.addBinaryShiftChar(i);a.push(p)}}static updateStateListForPair(t,i,a){const u=[];for(let h of t)this.updateStateForPair(h,i,a,u);return this.simplifyStates(u)}static updateStateForPair(t,i,a,u){let h=t.endBinaryShift(i);if(u.push(h.latchAndAppend(ci,a)),t.getMode()!==ci&&u.push(h.shiftAndAppend(ci,a)),a===3||a===4){let d=h.latchAndAppend(Jn,16-a).latchAndAppend(Jn,1);u.push(d)}if(t.getBinaryShiftByteCount()>0){let d=t.addBinaryShiftChar(i).addBinaryShiftChar(i+1);u.push(d)}}static simplifyStates(t){let i=[];for(const a of t){let u=!0;for(const h of i){if(h.isBetterThanOrEqualTo(a)){u=!1;break}a.isBetterThanOrEqualTo(h)&&(i=i.filter(d=>d!==h))}u&&i.push(a)}return i}}class st{constructor(){}static encodeBytes(t){return st.encode(t,st.DEFAULT_EC_PERCENT,st.DEFAULT_AZTEC_LAYERS)}static encode(t,i,a){let u=new xr(t).encode(),h=X.truncDivision(u.getSize()*i,100)+11,d=u.getSize()+h,p,x,E,C,N;if(a!==st.DEFAULT_AZTEC_LAYERS){if(p=a<0,x=Math.abs(a),x>(p?st.MAX_NB_BITS_COMPACT:st.MAX_NB_BITS))throw new R(Ne.format("Illegal value %s for layers",a));E=st.totalBitsInLayer(x,p),C=st.WORD_SIZE[x];let me=E-E%C;if(N=st.stuffBits(u,C),N.getSize()+h>me)throw new R("Data to large for user specified layer");if(p&&N.getSize()>C*64)throw new R("Data to large for user specified layer")}else{C=0,N=null;for(let me=0;;me++){if(me>st.MAX_NB_BITS)throw new R("Data too large for an Aztec code");if(p=me<=3,x=p?me+1:me,E=st.totalBitsInLayer(x,p),d>E)continue;(N==null||C!==st.WORD_SIZE[x])&&(C=st.WORD_SIZE[x],N=st.stuffBits(u,C));let Ke=E-E%C;if(!(p&&N.getSize()>C*64)&&N.getSize()+h<=Ke)break}}let I=st.generateCheckWords(N,E,C),L=N.getSize()/C,j=st.generateModeMessage(p,x,L),P=(p?11:14)+x*4,q=new Int32Array(P),te;if(p){te=P;for(let me=0;me<q.length;me++)q[me]=me}else{te=P+1+2*X.truncDivision(X.truncDivision(P,2)-1,15);let me=X.truncDivision(P,2),Ke=X.truncDivision(te,2);for(let Ge=0;Ge<me;Ge++){let en=Ge+X.truncDivision(Ge,15);q[me-Ge-1]=Ke-en-1,q[me+Ge]=Ke+en+1}}let xe=new Nt(te);for(let me=0,Ke=0;me<x;me++){let Ge=(x-me)*4+(p?9:12);for(let en=0;en<Ge;en++){let $n=en*2;for(let In=0;In<2;In++)I.get(Ke+$n+In)&&xe.set(q[me*2+In],q[me*2+en]),I.get(Ke+Ge*2+$n+In)&&xe.set(q[me*2+en],q[P-1-me*2-In]),I.get(Ke+Ge*4+$n+In)&&xe.set(q[P-1-me*2-In],q[P-1-me*2-en]),I.get(Ke+Ge*6+$n+In)&&xe.set(q[P-1-me*2-en],q[me*2+In])}Ke+=Ge*8}if(st.drawModeMessage(xe,p,te,j),p)st.drawBullsEye(xe,X.truncDivision(te,2),5);else{st.drawBullsEye(xe,X.truncDivision(te,2),7);for(let me=0,Ke=0;me<X.truncDivision(P,2)-1;me+=15,Ke+=16)for(let Ge=X.truncDivision(te,2)&1;Ge<te;Ge+=2)xe.set(X.truncDivision(te,2)-Ke,Ge),xe.set(X.truncDivision(te,2)+Ke,Ge),xe.set(Ge,X.truncDivision(te,2)-Ke),xe.set(Ge,X.truncDivision(te,2)+Ke)}let ye=new $r;return ye.setCompact(p),ye.setSize(te),ye.setLayers(x),ye.setCodeWords(L),ye.setMatrix(xe),ye}static drawBullsEye(t,i,a){for(let u=0;u<a;u+=2)for(let h=i-u;h<=i+u;h++)t.set(h,i-u),t.set(h,i+u),t.set(i-u,h),t.set(i+u,h);t.set(i-a,i-a),t.set(i-a+1,i-a),t.set(i-a,i-a+1),t.set(i+a,i-a),t.set(i+a,i-a+1),t.set(i+a,i+a-1)}static generateModeMessage(t,i,a){let u=new pe;return t?(u.appendBits(i-1,2),u.appendBits(a-1,6),u=st.generateCheckWords(u,28,4)):(u.appendBits(i-1,5),u.appendBits(a-1,11),u=st.generateCheckWords(u,40,4)),u}static drawModeMessage(t,i,a,u){let h=X.truncDivision(a,2);if(i)for(let d=0;d<7;d++){let p=h-3+d;u.get(d)&&t.set(p,h-5),u.get(d+7)&&t.set(h+5,p),u.get(20-d)&&t.set(p,h+5),u.get(27-d)&&t.set(h-5,p)}else for(let d=0;d<10;d++){let p=h-5+d+X.truncDivision(d,5);u.get(d)&&t.set(p,h-7),u.get(d+10)&&t.set(h+7,p),u.get(29-d)&&t.set(p,h+7),u.get(39-d)&&t.set(h-7,p)}}static generateCheckWords(t,i,a){let u=t.getSize()/a,h=new Ua(st.getGF(a)),d=X.truncDivision(i,a),p=st.bitsToWords(t,a,d);h.encode(p,d-u);let x=i%a,E=new pe;E.appendBits(0,x);for(const C of Array.from(p))E.appendBits(C,a);return E}static bitsToWords(t,i,a){let u=new Int32Array(a),h,d;for(h=0,d=t.getSize()/i;h<d;h++){let p=0;for(let x=0;x<i;x++)p|=t.get(h*i+x)?1<<i-x-1:0;u[h]=p}return u}static getGF(t){switch(t){case 4:return ft.AZTEC_PARAM;case 6:return ft.AZTEC_DATA_6;case 8:return ft.AZTEC_DATA_8;case 10:return ft.AZTEC_DATA_10;case 12:return ft.AZTEC_DATA_12;default:throw new R("Unsupported word size "+t)}}static stuffBits(t,i){let a=new pe,u=t.getSize(),h=(1<<i)-2;for(let d=0;d<u;d+=i){let p=0;for(let x=0;x<i;x++)(d+x>=u||t.get(d+x))&&(p|=1<<i-1-x);(p&h)===h?(a.appendBits(p&h,i),d--):(p&h)===0?(a.appendBits(p|1,i),d--):a.appendBits(p,i)}return a}static totalBitsInLayer(t,i){return((i?88:112)+16*t)*t}}st.DEFAULT_EC_PERCENT=33,st.DEFAULT_AZTEC_LAYERS=0,st.MAX_NB_BITS=32,st.MAX_NB_BITS_COMPACT=4,st.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Ha{encode(t,i,a,u){return this.encodeWithHints(t,i,a,u,null)}encodeWithHints(t,i,a,u,h){let d=ja.ISO_8859_1,p=st.DEFAULT_EC_PERCENT,x=st.DEFAULT_AZTEC_LAYERS;return h!=null&&(h.has(on.CHARACTER_SET)&&(d=Lo.forName(h.get(on.CHARACTER_SET).toString())),h.has(on.ERROR_CORRECTION)&&(p=X.parseInt(h.get(on.ERROR_CORRECTION).toString())),h.has(on.AZTEC_LAYERS)&&(x=X.parseInt(h.get(on.AZTEC_LAYERS).toString()))),Ha.encodeLayers(t,i,a,u,d,p,x)}static encodeLayers(t,i,a,u,h,d,p){if(i!==be.AZTEC)throw new R("Can only encode AZTEC, but got "+i);let x=st.encode(Ne.getBytes(t,h),d,p);return Ha.renderResult(x,a,u)}static renderResult(t,i,a){let u=t.getMatrix();if(u==null)throw new Wn;let h=u.getWidth(),d=u.getHeight(),p=Math.max(i,h),x=Math.max(a,d),E=Math.min(p/h,x/d),C=(p-h*E)/2,N=(x-d*E)/2,I=new Nt(p,x);for(let L=0,j=N;L<d;L++,j+=E)for(let P=0,q=C;P<h;P++,q+=E)u.get(P,L)&&I.setRegion(q,j,E,E);return I}}o.AbstractExpandedDecoder=sn,o.ArgumentException=T,o.ArithmeticException=Fr,o.AztecCode=$r,o.AztecCodeReader=us,o.AztecCodeWriter=Ha,o.AztecDecoder=St,o.AztecDetector=hl,o.AztecDetectorResult=So,o.AztecEncoder=st,o.AztecHighLevelEncoder=xr,o.AztecPoint=Nn,o.BarcodeFormat=be,o.Binarizer=V,o.BinaryBitmap=k,o.BitArray=pe,o.BitMatrix=Nt,o.BitSource=oi,o.BrowserAztecCodeReader=hc,o.BrowserBarcodeReader=fc,o.BrowserCodeReader=ve,o.BrowserDatamatrixCodeReader=fs,o.BrowserMultiFormatReader=Mo,o.BrowserPDF417Reader=mc,o.BrowserQRCodeReader=pc,o.BrowserQRCodeSvgWriter=mr,o.CharacterSetECI=de,o.ChecksumException=B,o.Code128Reader=we,o.Code39Reader=Rt,o.DataMatrixDecodedBitStreamParser=Pi,o.DataMatrixReader=zi,o.DecodeHintType=Ee,o.DecoderResult=Lt,o.DefaultGridSampler=cl,o.DetectorResult=os,o.EAN13Reader=Si,o.EncodeHintType=on,o.Exception=v,o.FormatException=ne,o.GenericGF=ft,o.GenericGFPoly=wn,o.GlobalHistogramBinarizer=re,o.GridSampler=ul,o.GridSamplerInstance=ai,o.HTMLCanvasElementLuminanceSource=rt,o.HybridBinarizer=he,o.ITFReader=Xe,o.IllegalArgumentException=R,o.IllegalStateException=Wn,o.InvertedLuminanceSource=Je,o.LuminanceSource=Be,o.MathUtils=$e,o.MultiFormatOneDReader=li,o.MultiFormatReader=Do,o.MultiFormatWriter=xc,o.NotFoundException=se,o.OneDReader=Pt,o.PDF417DecodedBitStreamParser=ie,o.PDF417DecoderErrorCorrection=Hi,o.PDF417Reader=An,o.PDF417ResultMetadata=Qr,o.PerspectiveTransform=Zn,o.PlanarYUVLuminanceSource=Oi,o.QRCodeByteMatrix=xs,o.QRCodeDataMask=Vn,o.QRCodeDecodedBitStreamParser=Bt,o.QRCodeDecoderErrorCorrectionLevel=Qe,o.QRCodeDecoderFormatInformation=hn,o.QRCodeEncoder=Ut,o.QRCodeEncoderQRCode=gr,o.QRCodeMaskUtil=Xt,o.QRCodeMatrixUtil=je,o.QRCodeMode=Me,o.QRCodeReader=Fi,o.QRCodeVersion=Oe,o.QRCodeWriter=Jr,o.RGBLuminanceSource=vl,o.RSS14Reader=vt,o.RSSExpandedReader=ge,o.ReaderException=ys,o.ReedSolomonDecoder=fr,o.ReedSolomonEncoder=Ua,o.ReedSolomonException=Xn,o.Result=Ae,o.ResultMetadataType=ht,o.ResultPoint=_e,o.StringUtils=Ne,o.UnsupportedOperationException=xn,o.VideoInputDevice=F,o.WhiteRectangleDetector=Kt,o.WriterException=Et,o.ZXingArrays=$,o.ZXingCharset=Lo,o.ZXingInteger=X,o.ZXingStandardCharsets=ja,o.ZXingStringBuilder=it,o.ZXingStringEncoding=Ft,o.ZXingSystem=H,o.createAbstractExpandedDecoder=Gr,Object.defineProperty(o,"__esModule",{value:!0})}))})(lo,lo.exports)),lo.exports}var Qt=uv();const cv=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var Xg=(function(){function s(r,o,c){if(this.formatMap=new Map([[Ce.QR_CODE,Qt.BarcodeFormat.QR_CODE],[Ce.AZTEC,Qt.BarcodeFormat.AZTEC],[Ce.CODABAR,Qt.BarcodeFormat.CODABAR],[Ce.CODE_39,Qt.BarcodeFormat.CODE_39],[Ce.CODE_93,Qt.BarcodeFormat.CODE_93],[Ce.CODE_128,Qt.BarcodeFormat.CODE_128],[Ce.DATA_MATRIX,Qt.BarcodeFormat.DATA_MATRIX],[Ce.MAXICODE,Qt.BarcodeFormat.MAXICODE],[Ce.ITF,Qt.BarcodeFormat.ITF],[Ce.EAN_13,Qt.BarcodeFormat.EAN_13],[Ce.EAN_8,Qt.BarcodeFormat.EAN_8],[Ce.PDF_417,Qt.BarcodeFormat.PDF_417],[Ce.RSS_14,Qt.BarcodeFormat.RSS_14],[Ce.RSS_EXPANDED,Qt.BarcodeFormat.RSS_EXPANDED],[Ce.UPC_A,Qt.BarcodeFormat.UPC_A],[Ce.UPC_E,Qt.BarcodeFormat.UPC_E],[Ce.UPC_EAN_EXTENSION,Qt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!cv)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=o,this.logger=c;var m=this.createZXingFormats(r),g=new Map;g.set(Qt.DecodeHintType.POSSIBLE_FORMATS,m),g.set(Qt.DecodeHintType.TRY_HARDER,!1),this.hints=g}return s.prototype.decodeAsync=function(r){var o=this;return new Promise(function(c,m){try{c(o.decode(r))}catch(g){m(g)}})},s.prototype.decode=function(r){var o=new Qt.MultiFormatReader(this.verbose,this.hints),c=new Qt.HTMLCanvasElementLuminanceSource(r),m=new Qt.BinaryBitmap(new Qt.HybridBinarizer(c)),g=o.decode(m);return{text:g.text,format:zm.create(this.toHtml5QrcodeSupportedFormats(g.format)),debugData:this.createDebugData()}},s.prototype.createReverseFormatMap=function(){var r=new Map;return this.formatMap.forEach(function(o,c,m){r.set(o,c)}),r},s.prototype.toHtml5QrcodeSupportedFormats=function(r){if(!this.reverseFormatMap.has(r))throw"reverseFormatMap doesn't have ".concat(r);return this.reverseFormatMap.get(r)},s.prototype.createZXingFormats=function(r){for(var o=[],c=0,m=r;c<m.length;c++){var g=m[c];this.formatMap.has(g)?o.push(this.formatMap.get(g)):this.logger.logError("".concat(g," is not supported by")+"ZXingHtml5QrcodeShim")}return o},s.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},s})(),hv=function(s,r,o,c){function m(g){return g instanceof o?g:new o(function(b){b(g)})}return new(o||(o=Promise))(function(g,b){function A(T){try{v(c.next(T))}catch(R){b(R)}}function S(T){try{v(c.throw(T))}catch(R){b(R)}}function v(T){T.done?g(T.value):m(T.value).then(A,S)}v((c=c.apply(s,r||[])).next())})},fv=function(s,r){var o={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},c,m,g,b;return b={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function A(v){return function(T){return S([v,T])}}function S(v){if(c)throw new TypeError("Generator is already executing.");for(;b&&(b=0,v[0]&&(o=0)),o;)try{if(c=1,m&&(g=v[0]&2?m.return:v[0]?m.throw||((g=m.return)&&g.call(m),0):m.next)&&!(g=g.call(m,v[1])).done)return g;switch(m=0,g&&(v=[v[0]&2,g.value]),v[0]){case 0:case 1:g=v;break;case 4:return o.label++,{value:v[1],done:!1};case 5:o.label++,m=v[1],v=[0];continue;case 7:v=o.ops.pop(),o.trys.pop();continue;default:if(g=o.trys,!(g=g.length>0&&g[g.length-1])&&(v[0]===6||v[0]===2)){o=0;continue}if(v[0]===3&&(!g||v[1]>g[0]&&v[1]<g[3])){o.label=v[1];break}if(v[0]===6&&o.label<g[1]){o.label=g[1],g=v;break}if(g&&o.label<g[2]){o.label=g[2],o.ops.push(v);break}g[2]&&o.ops.pop(),o.trys.pop();continue}v=r.call(s,o)}catch(T){v=[6,T],m=0}finally{c=g=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},Wg=(function(){function s(r,o,c){if(this.formatMap=new Map([[Ce.QR_CODE,"qr_code"],[Ce.AZTEC,"aztec"],[Ce.CODABAR,"codabar"],[Ce.CODE_39,"code_39"],[Ce.CODE_93,"code_93"],[Ce.CODE_128,"code_128"],[Ce.DATA_MATRIX,"data_matrix"],[Ce.ITF,"itf"],[Ce.EAN_13,"ean_13"],[Ce.EAN_8,"ean_8"],[Ce.PDF_417,"pdf417"],[Ce.UPC_A,"upc_a"],[Ce.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!s.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=o,this.logger=c;var m=this.createBarcodeDetectorFormats(r);if(this.detector=new BarcodeDetector(m),!this.detector)throw"BarcodeDetector detector not supported"}return s.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var r=new BarcodeDetector({formats:["qr_code"]});return typeof r<"u"},s.prototype.decodeAsync=function(r){return hv(this,void 0,void 0,function(){var o,c;return fv(this,function(m){switch(m.label){case 0:return[4,this.detector.detect(r)];case 1:if(o=m.sent(),!o||o.length===0)throw"No barcode or QR code detected.";return c=this.selectLargestBarcode(o),[2,{text:c.rawValue,format:zm.create(this.toHtml5QrcodeSupportedFormats(c.format)),debugData:this.createDebugData()}]}})})},s.prototype.selectLargestBarcode=function(r){for(var o=null,c=0,m=0,g=r;m<g.length;m++){var b=g[m],A=b.boundingBox.width*b.boundingBox.height;A>c&&(c=A,o=b)}if(!o)throw"No largest barcode found";return o},s.prototype.createBarcodeDetectorFormats=function(r){for(var o=[],c=0,m=r;c<m.length;c++){var g=m[c];this.formatMap.has(g)?o.push(this.formatMap.get(g)):this.logger.warn("".concat(g," is not supported by")+"BarcodeDetectorDelegate")}return{formats:o}},s.prototype.toHtml5QrcodeSupportedFormats=function(r){if(!this.reverseFormatMap.has(r))throw"reverseFormatMap doesn't have ".concat(r);return this.reverseFormatMap.get(r)},s.prototype.createReverseFormatMap=function(){var r=new Map;return this.formatMap.forEach(function(o,c,m){r.set(o,c)}),r},s.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},s})(),Zg=function(s,r,o,c){function m(g){return g instanceof o?g:new o(function(b){b(g)})}return new(o||(o=Promise))(function(g,b){function A(T){try{v(c.next(T))}catch(R){b(R)}}function S(T){try{v(c.throw(T))}catch(R){b(R)}}function v(T){T.done?g(T.value):m(T.value).then(A,S)}v((c=c.apply(s,r||[])).next())})},Kg=function(s,r){var o={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},c,m,g,b;return b={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function A(v){return function(T){return S([v,T])}}function S(v){if(c)throw new TypeError("Generator is already executing.");for(;b&&(b=0,v[0]&&(o=0)),o;)try{if(c=1,m&&(g=v[0]&2?m.return:v[0]?m.throw||((g=m.return)&&g.call(m),0):m.next)&&!(g=g.call(m,v[1])).done)return g;switch(m=0,g&&(v=[v[0]&2,g.value]),v[0]){case 0:case 1:g=v;break;case 4:return o.label++,{value:v[1],done:!1};case 5:o.label++,m=v[1],v=[0];continue;case 7:v=o.ops.pop(),o.trys.pop();continue;default:if(g=o.trys,!(g=g.length>0&&g[g.length-1])&&(v[0]===6||v[0]===2)){o=0;continue}if(v[0]===3&&(!g||v[1]>g[0]&&v[1]<g[3])){o.label=v[1];break}if(v[0]===6&&o.label<g[1]){o.label=g[1],g=v;break}if(g&&o.label<g[2]){o.label=g[2],o.ops.push(v);break}g[2]&&o.ops.pop(),o.trys.pop();continue}v=r.call(s,o)}catch(T){v=[6,T],m=0}finally{c=g=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},dv=(function(){function s(r,o,c,m){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=c,o&&Wg.isSupported()?(this.primaryDecoder=new Wg(r,c,m),this.secondaryDecoder=new Xg(r,c,m)):this.primaryDecoder=new Xg(r,c,m)}return s.prototype.decodeAsync=function(r){return Zg(this,void 0,void 0,function(){var o;return Kg(this,function(c){switch(c.label){case 0:o=performance.now(),c.label=1;case 1:return c.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(r)];case 2:return[2,c.sent()];case 3:return this.possiblyLogPerformance(o),[7];case 4:return[2]}})})},s.prototype.decodeRobustlyAsync=function(r){return Zg(this,void 0,void 0,function(){var o,c;return Kg(this,function(m){switch(m.label){case 0:o=performance.now(),m.label=1;case 1:return m.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(r)];case 2:return[2,m.sent()];case 3:if(c=m.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(r)];throw c;case 4:return this.possiblyLogPerformance(o),[7];case 5:return[2]}})})},s.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},s.prototype.possiblyLogPerformance=function(r){if(this.verbose){var o=performance.now()-r;this.executionResults.push(o),this.executions++,this.possiblyFlushPerformanceReport()}},s.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var r=0,o=0,c=this.executionResults;o<c.length;o++){var m=c[o];r+=m}var g=r/this.executionResults.length;console.log("".concat(g," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},s})(),Zf=(function(){var s=function(r,o){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,m){c.__proto__=m}||function(c,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(c[g]=m[g])},s(r,o)};return function(r,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");s(r,o);function c(){this.constructor=r}r.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}})(),ic=function(s,r,o,c){function m(g){return g instanceof o?g:new o(function(b){b(g)})}return new(o||(o=Promise))(function(g,b){function A(T){try{v(c.next(T))}catch(R){b(R)}}function S(T){try{v(c.throw(T))}catch(R){b(R)}}function v(T){T.done?g(T.value):m(T.value).then(A,S)}v((c=c.apply(s,r||[])).next())})},rc=function(s,r){var o={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},c,m,g,b;return b={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function A(v){return function(T){return S([v,T])}}function S(v){if(c)throw new TypeError("Generator is already executing.");for(;b&&(b=0,v[0]&&(o=0)),o;)try{if(c=1,m&&(g=v[0]&2?m.return:v[0]?m.throw||((g=m.return)&&g.call(m),0):m.next)&&!(g=g.call(m,v[1])).done)return g;switch(m=0,g&&(v=[v[0]&2,g.value]),v[0]){case 0:case 1:g=v;break;case 4:return o.label++,{value:v[1],done:!1};case 5:o.label++,m=v[1],v=[0];continue;case 7:v=o.ops.pop(),o.trys.pop();continue;default:if(g=o.trys,!(g=g.length>0&&g[g.length-1])&&(v[0]===6||v[0]===2)){o=0;continue}if(v[0]===3&&(!g||v[1]>g[0]&&v[1]<g[3])){o.label=v[1];break}if(v[0]===6&&o.label<g[1]){o.label=g[1],g=v;break}if(g&&o.label<g[2]){o.label=g[2],o.ops.push(v);break}g[2]&&o.ops.pop(),o.trys.pop();continue}v=r.call(s,o)}catch(T){v=[6,T],m=0}finally{c=g=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},Gm=(function(){function s(r,o){this.name=r,this.track=o}return s.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},s.prototype.apply=function(r){var o={};o[this.name]=r;var c={advanced:[o]};return this.track.applyConstraints(c)},s.prototype.value=function(){var r=this.track.getSettings();if(this.name in r){var o=r[this.name];return o}return null},s})(),gv=(function(s){Zf(r,s);function r(o,c){return s.call(this,o,c)||this}return r.prototype.min=function(){return this.getCapabilities().min},r.prototype.max=function(){return this.getCapabilities().max},r.prototype.step=function(){return this.getCapabilities().step},r.prototype.apply=function(o){var c={};c[this.name]=o;var m={advanced:[c]};return this.track.applyConstraints(m)},r.prototype.getCapabilities=function(){this.failIfNotSupported();var o=this.track.getCapabilities(),c=o[this.name];return{min:c.min,max:c.max,step:c.step}},r.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},r})(Gm),mv=(function(s){Zf(r,s);function r(o){return s.call(this,"zoom",o)||this}return r})(gv),pv=(function(s){Zf(r,s);function r(o){return s.call(this,"torch",o)||this}return r})(Gm),yv=(function(){function s(r){this.track=r}return s.prototype.zoomFeature=function(){return new mv(this.track)},s.prototype.torchFeature=function(){return new pv(this.track)},s})(),xv=(function(){function s(r,o,c){this.isClosed=!1,this.parentElement=r,this.mediaStream=o,this.callbacks=c,this.surface=this.createVideoElement(this.parentElement.clientWidth),r.append(this.surface)}return s.prototype.createVideoElement=function(r){var o=document.createElement("video");return o.style.width="".concat(r,"px"),o.style.display="block",o.muted=!0,o.setAttribute("muted","true"),o.playsInline=!0,o},s.prototype.setupSurface=function(){var r=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var o=function(){var c=r.surface.clientWidth,m=r.surface.clientHeight;r.callbacks.onRenderSurfaceReady(c,m),r.surface.removeEventListener("playing",o)};this.surface.addEventListener("playing",o),this.surface.srcObject=this.mediaStream,this.surface.play()},s.create=function(r,o,c,m){return ic(this,void 0,void 0,function(){var g,b;return rc(this,function(A){switch(A.label){case 0:return g=new s(r,o,m),c.aspectRatio?(b={aspectRatio:c.aspectRatio},[4,g.getFirstTrackOrFail().applyConstraints(b)]):[3,2];case 1:A.sent(),A.label=2;case 2:return g.setupSurface(),[2,g]}})})},s.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},s.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},s.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},s.prototype.resume=function(r){this.failIfClosed();var o=this,c=function(){setTimeout(r,200),o.surface.removeEventListener("playing",c)};this.surface.addEventListener("playing",c),this.surface.play()},s.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},s.prototype.getSurface=function(){return this.failIfClosed(),this.surface},s.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},s.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},s.prototype.applyVideoConstraints=function(r){return ic(this,void 0,void 0,function(){return rc(this,function(o){if("aspectRatio"in r)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(r)]})})},s.prototype.close=function(){if(this.isClosed)return Promise.resolve();var r=this;return new Promise(function(o,c){var m=r.mediaStream.getVideoTracks(),g=m.length,b=0;r.mediaStream.getVideoTracks().forEach(function(A){r.mediaStream.removeTrack(A),A.stop(),++b,b>=g&&(r.isClosed=!0,r.parentElement.removeChild(r.surface),o())})})},s.prototype.getCapabilities=function(){return new yv(this.getFirstTrackOrFail())},s})(),wv=(function(){function s(r){this.mediaStream=r}return s.prototype.render=function(r,o,c){return ic(this,void 0,void 0,function(){return rc(this,function(m){return[2,xv.create(r,this.mediaStream,o,c)]})})},s.create=function(r){return ic(this,void 0,void 0,function(){var o,c;return rc(this,function(m){switch(m.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return o={audio:!1,video:r},[4,navigator.mediaDevices.getUserMedia(o)];case 1:return c=m.sent(),[2,new s(c)]}})})},s})(),Qg=function(s,r,o,c){function m(g){return g instanceof o?g:new o(function(b){b(g)})}return new(o||(o=Promise))(function(g,b){function A(T){try{v(c.next(T))}catch(R){b(R)}}function S(T){try{v(c.throw(T))}catch(R){b(R)}}function v(T){T.done?g(T.value):m(T.value).then(A,S)}v((c=c.apply(s,r||[])).next())})},Jg=function(s,r){var o={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},c,m,g,b;return b={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function A(v){return function(T){return S([v,T])}}function S(v){if(c)throw new TypeError("Generator is already executing.");for(;b&&(b=0,v[0]&&(o=0)),o;)try{if(c=1,m&&(g=v[0]&2?m.return:v[0]?m.throw||((g=m.return)&&g.call(m),0):m.next)&&!(g=g.call(m,v[1])).done)return g;switch(m=0,g&&(v=[v[0]&2,g.value]),v[0]){case 0:case 1:g=v;break;case 4:return o.label++,{value:v[1],done:!1};case 5:o.label++,m=v[1],v=[0];continue;case 7:v=o.ops.pop(),o.trys.pop();continue;default:if(g=o.trys,!(g=g.length>0&&g[g.length-1])&&(v[0]===6||v[0]===2)){o=0;continue}if(v[0]===3&&(!g||v[1]>g[0]&&v[1]<g[3])){o.label=v[1];break}if(v[0]===6&&o.label<g[1]){o.label=g[1],g=v;break}if(g&&o.label<g[2]){o.label=g[2],o.ops.push(v);break}g[2]&&o.ops.pop(),o.trys.pop();continue}v=r.call(s,o)}catch(T){v=[6,T],m=0}finally{c=g=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},bv=(function(){function s(){}return s.failIfNotSupported=function(){return Qg(this,void 0,void 0,function(){return Jg(this,function(r){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new s]})})},s.prototype.create=function(r){return Qg(this,void 0,void 0,function(){return Jg(this,function(o){return[2,wv.create(r)]})})},s})(),vv=function(s,r,o,c){function m(g){return g instanceof o?g:new o(function(b){b(g)})}return new(o||(o=Promise))(function(g,b){function A(T){try{v(c.next(T))}catch(R){b(R)}}function S(T){try{v(c.throw(T))}catch(R){b(R)}}function v(T){T.done?g(T.value):m(T.value).then(A,S)}v((c=c.apply(s,r||[])).next())})},Ev=function(s,r){var o={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},c,m,g,b;return b={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function A(v){return function(T){return S([v,T])}}function S(v){if(c)throw new TypeError("Generator is already executing.");for(;b&&(b=0,v[0]&&(o=0)),o;)try{if(c=1,m&&(g=v[0]&2?m.return:v[0]?m.throw||((g=m.return)&&g.call(m),0):m.next)&&!(g=g.call(m,v[1])).done)return g;switch(m=0,g&&(v=[v[0]&2,g.value]),v[0]){case 0:case 1:g=v;break;case 4:return o.label++,{value:v[1],done:!1};case 5:o.label++,m=v[1],v=[0];continue;case 7:v=o.ops.pop(),o.trys.pop();continue;default:if(g=o.trys,!(g=g.length>0&&g[g.length-1])&&(v[0]===6||v[0]===2)){o=0;continue}if(v[0]===3&&(!g||v[1]>g[0]&&v[1]<g[3])){o.label=v[1];break}if(v[0]===6&&o.label<g[1]){o.label=g[1],g=v;break}if(g&&o.label<g[2]){o.label=g[2],o.ops.push(v);break}g[2]&&o.ops.pop(),o.trys.pop();continue}v=r.call(s,o)}catch(T){v=[6,T],m=0}finally{c=g=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},Av=(function(){function s(){}return s.retrieve=function(){if(navigator.mediaDevices)return s.getCamerasFromMediaDevices();var r=MediaStreamTrack;return MediaStreamTrack&&r.getSources?s.getCamerasFromMediaStreamTrack():s.rejectWithError()},s.rejectWithError=function(){var r=il.unableToQuerySupportedDevices();return s.isHttpsOrLocalhost()||(r=il.insecureContextCameraQueryError()),Promise.reject(r)},s.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var r=location.host.split(":")[0];return r==="127.0.0.1"||r==="localhost"},s.getCamerasFromMediaDevices=function(){return vv(this,void 0,void 0,function(){var r,o,c,m,g,b,A;return Ev(this,function(S){switch(S.label){case 0:return r=function(v){for(var T=v.getVideoTracks(),R=0,k=T;R<k.length;R++){var B=k[R];B.enabled=!1,B.stop(),v.removeTrack(B)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return o=S.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(c=S.sent(),m=[],g=0,b=c;g<b.length;g++)A=b[g],A.kind==="videoinput"&&m.push({id:A.deviceId,label:A.label});return r(o),[2,m]}})})},s.getCamerasFromMediaStreamTrack=function(){return new Promise(function(r,o){var c=function(g){for(var b=[],A=0,S=g;A<S.length;A++){var v=S[A];v.kind==="video"&&b.push({id:v.id,label:v.label})}r(b)},m=MediaStreamTrack;m.getSources(c)})},s})(),rn;(function(s){s[s.UNKNOWN=0]="UNKNOWN",s[s.NOT_STARTED=1]="NOT_STARTED",s[s.SCANNING=2]="SCANNING",s[s.PAUSED=3]="PAUSED"})(rn||(rn={}));var Sv=(function(){function s(){this.state=rn.NOT_STARTED,this.onGoingTransactionNewState=rn.UNKNOWN}return s.prototype.directTransition=function(r){this.failIfTransitionOngoing(),this.validateTransition(r),this.state=r},s.prototype.startTransition=function(r){return this.failIfTransitionOngoing(),this.validateTransition(r),this.onGoingTransactionNewState=r,this},s.prototype.execute=function(){if(this.onGoingTransactionNewState===rn.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var r=this.onGoingTransactionNewState;this.onGoingTransactionNewState=rn.UNKNOWN,this.directTransition(r)},s.prototype.cancel=function(){if(this.onGoingTransactionNewState===rn.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=rn.UNKNOWN},s.prototype.getState=function(){return this.state},s.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==rn.UNKNOWN)throw"Cannot transition to a new state, already under transition"},s.prototype.validateTransition=function(r){switch(this.state){case rn.UNKNOWN:throw"Transition from unknown is not allowed";case rn.NOT_STARTED:this.failIfNewStateIs(r,[rn.PAUSED]);break;case rn.SCANNING:break;case rn.PAUSED:break}},s.prototype.failIfNewStateIs=function(r,o){for(var c=0,m=o;c<m.length;c++){var g=m[c];if(r===g)throw"Cannot transition from ".concat(this.state," to ").concat(r)}},s})(),Cv=(function(){function s(r){this.stateManager=r}return s.prototype.startTransition=function(r){return this.stateManager.startTransition(r)},s.prototype.directTransition=function(r){this.stateManager.directTransition(r)},s.prototype.getState=function(){return this.stateManager.getState()},s.prototype.canScanFile=function(){return this.stateManager.getState()===rn.NOT_STARTED},s.prototype.isScanning=function(){return this.stateManager.getState()!==rn.NOT_STARTED},s.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===rn.SCANNING},s.prototype.isPaused=function(){return this.stateManager.getState()===rn.PAUSED},s})(),_v=(function(){function s(){}return s.create=function(){return new Cv(new Sv)},s})(),Tv=(function(){var s=function(r,o){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,m){c.__proto__=m}||function(c,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(c[g]=m[g])},s(r,o)};return function(r,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");s(r,o);function c(){this.constructor=r}r.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}})(),wi=(function(s){Tv(r,s);function r(){return s!==null&&s.apply(this,arguments)||this}return r.DEFAULT_WIDTH=300,r.DEFAULT_WIDTH_OFFSET=2,r.FILE_SCAN_MIN_HEIGHT=300,r.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,r.MIN_QR_BOX_SIZE=50,r.SHADED_LEFT=1,r.SHADED_RIGHT=2,r.SHADED_TOP=3,r.SHADED_BOTTOM=4,r.SHADED_REGION_ELEMENT_ID="qr-shaded-region",r.VERBOSE=!1,r.BORDER_SHADER_DEFAULT_COLOR="#ffffff",r.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",r})(Ki),Ov=(function(){function s(r,o){this.logger=o,this.fps=wi.SCAN_DEFAULT_FPS,r?(r.fps&&(this.fps=r.fps),this.disableFlip=r.disableFlip===!0,this.qrbox=r.qrbox,this.aspectRatio=r.aspectRatio,this.videoConstraints=r.videoConstraints):this.disableFlip=wi.DEFAULT_DISABLE_FLIP}return s.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Vm.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},s.prototype.isShadedBoxEnabled=function(){return!hr(this.qrbox)},s.create=function(r,o){return new s(r,o)},s})(),$g=(function(){function s(r,o){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(r))throw"HTML Element with id=".concat(r," not found");this.elementId=r,this.verbose=!1;var c;typeof o=="boolean"?this.verbose=o===!0:o&&(c=o,this.verbose=c.verbose===!0,c.experimentalFeatures),this.logger=new Hm(this.verbose),this.qrcode=new dv(this.getSupportedFormats(o),this.getUseBarCodeDetectorIfSupported(c),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=_v.create()}return s.prototype.start=function(r,o,c,m){var g=this;if(!r)throw"cameraIdOrConfig is required";if(!c||typeof c!="function")throw"qrCodeSuccessCallback is required and should be a function.";var b;m?b=m:b=this.verbose?this.logger.log:function(){};var A=Ov.create(o,this.logger);this.clearElement();var S=!1;A.videoConstraints&&(A.isMediaStreamConstraintsValid()?S=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var v=S,T=document.getElementById(this.elementId);T.clientWidth?T.clientWidth:wi.DEFAULT_WIDTH,T.style.position="relative",this.shouldScan=!0,this.element=T;var R=this,k=this.stateManagerProxy.startTransition(rn.SCANNING);return new Promise(function(B,V){var H=v?A.videoConstraints:R.createVideoConstraints(r);if(!H){k.cancel(),V("videoConstraints should be defined");return}var Z={};(!v||A.aspectRatio)&&(Z.aspectRatio=A.aspectRatio);var le={onRenderSurfaceReady:function($,X){R.setupUi($,X,A),R.isScanning=!0,R.foreverScan(A,c,b)}};bv.failIfNotSupported().then(function($){$.create(H).then(function(X){return X.render(g.element,Z,le).then(function(pe){R.renderedCamera=pe,k.execute(),B(null)}).catch(function(pe){k.cancel(),V(pe)})}).catch(function(X){k.cancel(),V(il.errorGettingUserMedia(X))})}).catch(function($){k.cancel(),V(il.cameraStreamingNotSupported())})})},s.prototype.pause=function(r){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(rn.PAUSED),this.showPausedState(),(hr(r)||r!==!0)&&(r=!1),r&&this.renderedCamera&&this.renderedCamera.pause()},s.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var r=this,o=function(){r.stateManagerProxy.directTransition(rn.SCANNING),r.hidePausedState()};if(!this.renderedCamera.isPaused()){o();return}this.renderedCamera.resume(function(){o()})},s.prototype.getState=function(){return this.stateManagerProxy.getState()},s.prototype.stop=function(){var r=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var o=this.stateManagerProxy.startTransition(rn.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var c=function(){if(r.element){var g=document.getElementById(wi.SHADED_REGION_ELEMENT_ID);g&&r.element.removeChild(g)}},m=this;return this.renderedCamera.close().then(function(){return m.renderedCamera=null,m.element&&(m.element.removeChild(m.canvasElement),m.canvasElement=null),c(),m.qrRegion&&(m.qrRegion=null),m.context&&(m.context=null),o.execute(),m.hidePausedState(),m.isScanning=!1,Promise.resolve()})},s.prototype.scanFile=function(r,o){return this.scanFileV2(r,o).then(function(c){return c.decodedText})},s.prototype.scanFileV2=function(r,o){var c=this;if(!r||!(r instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(hr(o)&&(o=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(m,g){c.possiblyCloseLastScanImageFile(),c.clearElement(),c.lastScanImageFile=URL.createObjectURL(r);var b=new Image;b.onload=function(){var A=b.width,S=b.height,v=document.getElementById(c.elementId),T=v.clientWidth?v.clientWidth:wi.DEFAULT_WIDTH,R=Math.max(v.clientHeight?v.clientHeight:S,wi.FILE_SCAN_MIN_HEIGHT),k=c.computeCanvasDrawConfig(A,S,T,R);if(o){var B=c.createCanvasElement(T,R,"qr-canvas-visible");B.style.display="inline-block",v.appendChild(B);var V=B.getContext("2d");if(!V)throw"Unable to get 2d context from canvas";V.canvas.width=T,V.canvas.height=R,V.drawImage(b,0,0,A,S,k.x,k.y,k.width,k.height)}var H=wi.FILE_SCAN_HIDDEN_CANVAS_PADDING,Z=Math.max(b.width,k.width),le=Math.max(b.height,k.height),$=Z+2*H,X=le+2*H,pe=c.createCanvasElement($,X);v.appendChild(pe);var ke=pe.getContext("2d");if(!ke)throw"Unable to get 2d context from canvas";ke.canvas.width=$,ke.canvas.height=X,ke.drawImage(b,0,0,A,S,H,H,Z,le);try{c.qrcode.decodeRobustlyAsync(pe).then(function(Ee){m(Gg.createFromQrcodeResult(Ee))}).catch(g)}catch(Ee){g("QR code parse error, error = ".concat(Ee))}},b.onerror=g,b.onabort=g,b.onstalled=g,b.onsuspend=g,b.src=URL.createObjectURL(r)})},s.prototype.clear=function(){this.clearElement()},s.getCameras=function(){return Av.retrieve()},s.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},s.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},s.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},s.prototype.applyVideoConstraints=function(r){if(r){if(!Vm.isMediaStreamConstraintsValid(r,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(r)},s.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},s.prototype.getSupportedFormats=function(r){var o=[Ce.QR_CODE,Ce.AZTEC,Ce.CODABAR,Ce.CODE_39,Ce.CODE_93,Ce.CODE_128,Ce.DATA_MATRIX,Ce.MAXICODE,Ce.ITF,Ce.EAN_13,Ce.EAN_8,Ce.PDF_417,Ce.RSS_14,Ce.RSS_EXPANDED,Ce.UPC_A,Ce.UPC_E,Ce.UPC_EAN_EXTENSION];if(!r||typeof r=="boolean"||!r.formatsToSupport)return o;if(!Array.isArray(r.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(r.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var c=[],m=0,g=r.formatsToSupport;m<g.length;m++){var b=g[m];sv(b)?c.push(b):this.logger.warn("Invalid format: ".concat(b," passed in config, ignoring."))}if(c.length===0)throw"None of formatsToSupport match supported values.";return c},s.prototype.getUseBarCodeDetectorIfSupported=function(r){if(hr(r))return!0;if(!hr(r.useBarCodeDetectorIfSupported))return r.useBarCodeDetectorIfSupported!==!1;if(hr(r.experimentalFeatures))return!0;var o=r.experimentalFeatures;return hr(o.useBarCodeDetectorIfSupported)?!0:o.useBarCodeDetectorIfSupported!==!1},s.prototype.validateQrboxSize=function(r,o,c){var m=this,g=c.qrbox;this.validateQrboxConfig(g);var b=this.toQrdimensions(r,o,g),A=function(v){if(v<wi.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(wi.MIN_QR_BOX_SIZE,"px.")},S=function(v){return v>r&&(m.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),v=r),v};A(b.width),A(b.height),b.width=S(b.width)},s.prototype.validateQrboxConfig=function(r){if(typeof r!="number"&&typeof r!="function"&&(r.width===void 0||r.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},s.prototype.toQrdimensions=function(r,o,c){if(typeof c=="number")return{width:c,height:c};if(typeof c=="function")try{return c(r,o)}catch(m){throw new Error("qrbox config was passed as a function but it failed with unknown error"+m)}return c},s.prototype.setupUi=function(r,o,c){c.isShadedBoxEnabled()&&this.validateQrboxSize(r,o,c);var m=hr(c.qrbox)?{width:r,height:o}:c.qrbox;this.validateQrboxConfig(m);var g=this.toQrdimensions(r,o,m);g.height>o&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var b=c.isShadedBoxEnabled()&&g.height<=o,A={x:0,y:0,width:r,height:o},S=b?this.getShadedRegionBounds(r,o,g):A,v=this.createCanvasElement(S.width,S.height),T={willReadFrequently:!0},R=v.getContext("2d",T);R.canvas.width=S.width,R.canvas.height=S.height,this.element.append(v),b&&this.possiblyInsertShadingElement(this.element,r,o,g),this.createScannerPausedUiElement(this.element),this.qrRegion=S,this.context=R,this.canvasElement=v},s.prototype.createScannerPausedUiElement=function(r){var o=document.createElement("div");o.innerText=il.scannerPaused(),o.style.display="none",o.style.position="absolute",o.style.top="0px",o.style.zIndex="1",o.style.background="rgba(9, 9, 9, 0.46)",o.style.color="#FFECEC",o.style.textAlign="center",o.style.width="100%",r.appendChild(o),this.scannerPausedUiElement=o},s.prototype.scanContext=function(r,o){var c=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(m){return r(m.text,Gg.createFromQrcodeResult(m)),c.possiblyUpdateShaders(!0),!0}).catch(function(m){c.possiblyUpdateShaders(!1);var g=il.codeParseError(m);return o(g,Fm.createFrom(g)),!1})},s.prototype.foreverScan=function(r,o,c){var m=this;if(this.shouldScan&&this.renderedCamera){var g=this.renderedCamera.getSurface(),b=g.videoWidth/g.clientWidth,A=g.videoHeight/g.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var S=this.qrRegion.width*b,v=this.qrRegion.height*A,T=this.qrRegion.x*b,R=this.qrRegion.y*A;this.context.drawImage(g,T,R,S,v,0,0,this.qrRegion.width,this.qrRegion.height);var k=function(){m.foreverScanTimeout=setTimeout(function(){m.foreverScan(r,o,c)},m.getTimeoutFps(r.fps))};this.scanContext(o,c).then(function(B){!B&&r.disableFlip!==!0?(m.context.translate(m.context.canvas.width,0),m.context.scale(-1,1),m.scanContext(o,c).finally(function(){k()})):k()}).catch(function(B){m.logger.logError("Error happend while scanning context",B),k()})}},s.prototype.createVideoConstraints=function(r){if(typeof r=="string")return{deviceId:{exact:r}};if(typeof r=="object"){var o="facingMode",c="deviceId",m={user:!0,environment:!0},g="exact",b=function(V){if(V in m)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(V,"'")},A=Object.keys(r);if(A.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(A.length," keys");var S=Object.keys(r)[0];if(S!==o&&S!==c)throw"Only '".concat(o,"' and '").concat(c,"' ")+" are supported for 'cameraIdOrConfig'";if(S===o){var v=r.facingMode;if(typeof v=="string"){if(b(v))return{facingMode:v}}else if(typeof v=="object")if(g in v){if(b(v["".concat(g)]))return{facingMode:{exact:v["".concat(g)]}}}else throw"'facingMode' should be string or object with"+" ".concat(g," as key.");else{var T=typeof v;throw"Invalid type of 'facingMode' = ".concat(T)}}else{var R=r.deviceId;if(typeof R=="string")return{deviceId:R};if(typeof R=="object"){if(g in R)return{deviceId:{exact:R["".concat(g)]}};throw"'deviceId' should be string or object with"+" ".concat(g," as key.")}else{var k=typeof R;throw"Invalid type of 'deviceId' = ".concat(k)}}}var B=typeof r;throw"Invalid type of 'cameraIdOrConfig' = ".concat(B)},s.prototype.computeCanvasDrawConfig=function(r,o,c,m){if(r<=c&&o<=m){var g=(c-r)/2,b=(m-o)/2;return{x:g,y:b,width:r,height:o}}else{var A=r,S=o;return r>c&&(o=c/r*o,r=c),o>m&&(r=m/o*r,o=m),this.logger.log("Image downsampled from "+"".concat(A,"X").concat(S)+" to ".concat(r,"X").concat(o,".")),this.computeCanvasDrawConfig(r,o,c,m)}},s.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var r=document.getElementById(this.elementId);r&&(r.innerHTML="")},s.prototype.possiblyUpdateShaders=function(r){this.qrMatch!==r&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(o){o.style.backgroundColor=r?wi.BORDER_SHADER_MATCH_COLOR:wi.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=r)},s.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},s.prototype.createCanvasElement=function(r,o,c){var m=r,g=o,b=document.createElement("canvas");return b.style.width="".concat(m,"px"),b.style.height="".concat(g,"px"),b.style.display="none",b.id=hr(c)?"qr-canvas":c,b},s.prototype.getShadedRegionBounds=function(r,o,c){if(c.width>r||c.height>o)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(r-c.width)/2,y:(o-c.height)/2,width:c.width,height:c.height}},s.prototype.possiblyInsertShadingElement=function(r,o,c,m){if(!(o-m.width<1||c-m.height<1)){var g=document.createElement("div");g.style.position="absolute";var b=(o-m.width)/2,A=(c-m.height)/2;if(g.style.borderLeft="".concat(b,"px solid rgba(0, 0, 0, 0.48)"),g.style.borderRight="".concat(b,"px solid rgba(0, 0, 0, 0.48)"),g.style.borderTop="".concat(A,"px solid rgba(0, 0, 0, 0.48)"),g.style.borderBottom="".concat(A,"px solid rgba(0, 0, 0, 0.48)"),g.style.boxSizing="border-box",g.style.top="0px",g.style.bottom="0px",g.style.left="0px",g.style.right="0px",g.id="".concat(wi.SHADED_REGION_ELEMENT_ID),o-m.width<11||c-m.height<11)this.hasBorderShaders=!1;else{var S=5,v=40;this.insertShaderBorders(g,v,S,-S,null,0,!0),this.insertShaderBorders(g,v,S,-S,null,0,!1),this.insertShaderBorders(g,v,S,null,-S,0,!0),this.insertShaderBorders(g,v,S,null,-S,0,!1),this.insertShaderBorders(g,S,v+S,-S,null,-S,!0),this.insertShaderBorders(g,S,v+S,null,-S,-S,!0),this.insertShaderBorders(g,S,v+S,-S,null,-S,!1),this.insertShaderBorders(g,S,v+S,null,-S,-S,!1),this.hasBorderShaders=!0}r.append(g)}},s.prototype.insertShaderBorders=function(r,o,c,m,g,b,A){var S=document.createElement("div");S.style.position="absolute",S.style.backgroundColor=wi.BORDER_SHADER_DEFAULT_COLOR,S.style.width="".concat(o,"px"),S.style.height="".concat(c,"px"),m!==null&&(S.style.top="".concat(m,"px")),g!==null&&(S.style.bottom="".concat(g,"px")),A?S.style.left="".concat(b,"px"):S.style.right="".concat(b,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(S),r.appendChild(S)},s.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},s.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},s.prototype.getTimeoutFps=function(r){return 1e3/r},s})(),Kf="data:image/svg+xml;base64,",Nv=Kf+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",Rv=Kf+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",em=Kf+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",Iv="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",tm=(function(){function s(){}return s.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},s})(),Dv=(function(){function s(){this.data=tm.createDefault();var r=localStorage.getItem(s.LOCAL_STORAGE_KEY);r?this.data=JSON.parse(r):this.reset()}return s.prototype.hasCameraPermissions=function(){return this.data.hasPermission},s.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},s.prototype.setHasPermission=function(r){this.data.hasPermission=r,this.flush()},s.prototype.setLastUsedCameraId=function(r){this.data.lastUsedCameraId=r,this.flush()},s.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},s.prototype.reset=function(){this.data=tm.createDefault(),this.flush()},s.prototype.flush=function(){localStorage.setItem(s.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},s.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",s})(),Mv=(function(){function s(){this.infoDiv=document.createElement("div")}return s.prototype.renderInto=function(r){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=Yg.poweredBy();var o=document.createElement("a");o.innerText="ScanApp",o.href="https://scanapp.org",o.target="new",o.style.color="white",this.infoDiv.appendChild(o);var c=document.createElement("br"),m=document.createElement("br");this.infoDiv.appendChild(c),this.infoDiv.appendChild(m);var g=document.createElement("a");g.innerText=Yg.reportIssues(),g.href="https://github.com/mebjas/html5-qrcode/issues",g.target="new",g.style.color="white",this.infoDiv.appendChild(g),r.appendChild(this.infoDiv)},s.prototype.show=function(){this.infoDiv.style.display="block"},s.prototype.hide=function(){this.infoDiv.style.display="none"},s})(),Lv=(function(){function s(r,o){this.isShowingInfoIcon=!0,this.onTapIn=r,this.onTapOut=o,this.infoIcon=document.createElement("img")}return s.prototype.renderInto=function(r){var o=this;this.infoIcon.alt="Info icon",this.infoIcon.src=em,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(c){return o.onHoverIn()},this.infoIcon.onmouseout=function(c){return o.onHoverOut()},this.infoIcon.onclick=function(c){return o.onClick()},r.appendChild(this.infoIcon)},s.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},s.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},s.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=Iv,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=em,this.infoIcon.style.opacity="0.6")},s})(),Bv=(function(){function s(){var r=this;this.infoDiv=new Mv,this.infoIcon=new Lv(function(){r.infoDiv.show()},function(){r.infoDiv.hide()})}return s.prototype.renderInto=function(r){this.infoDiv.renderInto(r),this.infoIcon.renderInto(r)},s})(),kv=function(s,r,o,c){function m(g){return g instanceof o?g:new o(function(b){b(g)})}return new(o||(o=Promise))(function(g,b){function A(T){try{v(c.next(T))}catch(R){b(R)}}function S(T){try{v(c.throw(T))}catch(R){b(R)}}function v(T){T.done?g(T.value):m(T.value).then(A,S)}v((c=c.apply(s,r||[])).next())})},Uv=function(s,r){var o={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},c,m,g,b;return b={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function A(v){return function(T){return S([v,T])}}function S(v){if(c)throw new TypeError("Generator is already executing.");for(;b&&(b=0,v[0]&&(o=0)),o;)try{if(c=1,m&&(g=v[0]&2?m.return:v[0]?m.throw||((g=m.return)&&g.call(m),0):m.next)&&!(g=g.call(m,v[1])).done)return g;switch(m=0,g&&(v=[v[0]&2,g.value]),v[0]){case 0:case 1:g=v;break;case 4:return o.label++,{value:v[1],done:!1};case 5:o.label++,m=v[1],v=[0];continue;case 7:v=o.ops.pop(),o.trys.pop();continue;default:if(g=o.trys,!(g=g.length>0&&g[g.length-1])&&(v[0]===6||v[0]===2)){o=0;continue}if(v[0]===3&&(!g||v[1]>g[0]&&v[1]<g[3])){o.label=v[1];break}if(v[0]===6&&o.label<g[1]){o.label=g[1],g=v;break}if(g&&o.label<g[2]){o.label=g[2],o.ops.push(v);break}g[2]&&o.ops.pop(),o.trys.pop();continue}v=r.call(s,o)}catch(T){v=[6,T],m=0}finally{c=g=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},nm=(function(){function s(){}return s.hasPermissions=function(){return kv(this,void 0,void 0,function(){var r,o,c,m;return Uv(this,function(g){switch(g.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(r=g.sent(),o=0,c=r;o<c.length;o++)if(m=c[o],m.kind==="videoinput"&&m.label)return[2,!0];return[2,!1]}})})},s})(),Ca=(function(){function s(r){this.supportedScanTypes=this.validateAndReturnScanTypes(r)}return s.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},s.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},s.prototype.isCameraScanRequired=function(){for(var r=0,o=this.supportedScanTypes;r<o.length;r++){var c=o[r];if(s.isCameraScanType(c))return!0}return!1},s.isCameraScanType=function(r){return r===Na.SCAN_TYPE_CAMERA},s.isFileScanType=function(r){return r===Na.SCAN_TYPE_FILE},s.prototype.validateAndReturnScanTypes=function(r){if(!r||r.length===0)return Ki.DEFAULT_SUPPORTED_SCAN_TYPE;var o=Ki.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(r.length>o)throw"Max ".concat(o," values expected for ")+"supportedScanTypes";for(var c=0,m=r;c<m.length;c++){var g=m[c];if(!Ki.DEFAULT_SUPPORTED_SCAN_TYPE.includes(g))throw"Unsupported scan type ".concat(g)}return r},s})(),Ei=(function(){function s(){}return s.ALL_ELEMENT_CLASS="html5-qrcode-element",s.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",s.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",s.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",s.TORCH_BUTTON_ID="html5-qrcode-button-torch",s.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",s.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",s.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",s.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",s.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",s.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",s})(),kr=(function(){function s(){}return s.createElement=function(r,o){var c=document.createElement(r);return c.id=o,c.classList.add(Ei.ALL_ELEMENT_CLASS),r==="button"&&c.setAttribute("type","button"),c},s})(),Ym=function(s,r,o,c){function m(g){return g instanceof o?g:new o(function(b){b(g)})}return new(o||(o=Promise))(function(g,b){function A(T){try{v(c.next(T))}catch(R){b(R)}}function S(T){try{v(c.throw(T))}catch(R){b(R)}}function v(T){T.done?g(T.value):m(T.value).then(A,S)}v((c=c.apply(s,r||[])).next())})},qm=function(s,r){var o={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},c,m,g,b;return b={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function A(v){return function(T){return S([v,T])}}function S(v){if(c)throw new TypeError("Generator is already executing.");for(;b&&(b=0,v[0]&&(o=0)),o;)try{if(c=1,m&&(g=v[0]&2?m.return:v[0]?m.throw||((g=m.return)&&g.call(m),0):m.next)&&!(g=g.call(m,v[1])).done)return g;switch(m=0,g&&(v=[v[0]&2,g.value]),v[0]){case 0:case 1:g=v;break;case 4:return o.label++,{value:v[1],done:!1};case 5:o.label++,m=v[1],v=[0];continue;case 7:v=o.ops.pop(),o.trys.pop();continue;default:if(g=o.trys,!(g=g.length>0&&g[g.length-1])&&(v[0]===6||v[0]===2)){o=0;continue}if(v[0]===3&&(!g||v[1]>g[0]&&v[1]<g[3])){o.label=v[1];break}if(v[0]===6&&o.label<g[1]){o.label=g[1],g=v;break}if(g&&o.label<g[2]){o.label=g[2],o.ops.push(v);break}g[2]&&o.ops.pop(),o.trys.pop();continue}v=r.call(s,o)}catch(T){v=[6,T],m=0}finally{c=g=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},im=(function(){function s(r,o,c){this.isTorchOn=!1,this.torchCapability=r,this.buttonController=o,this.onTorchActionFailureCallback=c}return s.prototype.isTorchEnabled=function(){return this.isTorchOn},s.prototype.flipState=function(){return Ym(this,void 0,void 0,function(){var r,o;return qm(this,function(c){switch(c.label){case 0:this.buttonController.disable(),r=!this.isTorchOn,c.label=1;case 1:return c.trys.push([1,3,,4]),[4,this.torchCapability.apply(r)];case 2:return c.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),r),[3,4];case 3:return o=c.sent(),this.propagateFailure(r,o),this.buttonController.enable(),[3,4];case 4:return[2]}})})},s.prototype.updateUiBasedOnLatestSettings=function(r,o){r===o?(this.buttonController.setText(o?Ot.torchOffButton():Ot.torchOnButton()),this.isTorchOn=o):this.propagateFailure(o),this.buttonController.enable()},s.prototype.propagateFailure=function(r,o){var c=r?Ot.torchOnFailedMessage():Ot.torchOffFailedMessage();o&&(c+="; Error = "+o),this.onTorchActionFailureCallback(c)},s.prototype.reset=function(){this.isTorchOn=!1},s})(),jv=(function(){function s(r,o){this.onTorchActionFailureCallback=o,this.torchButton=kr.createElement("button",Ei.TORCH_BUTTON_ID),this.torchController=new im(r,this,o)}return s.prototype.render=function(r,o){var c=this;this.torchButton.innerText=Ot.torchOnButton(),this.torchButton.style.display=o.display,this.torchButton.style.marginLeft=o.marginLeft;var m=this;this.torchButton.addEventListener("click",function(g){return Ym(c,void 0,void 0,function(){return qm(this,function(b){switch(b.label){case 0:return[4,m.torchController.flipState()];case 1:return b.sent(),m.torchController.isTorchEnabled()?(m.torchButton.classList.remove(Ei.TORCH_BUTTON_CLASS_TORCH_OFF),m.torchButton.classList.add(Ei.TORCH_BUTTON_CLASS_TORCH_ON)):(m.torchButton.classList.remove(Ei.TORCH_BUTTON_CLASS_TORCH_ON),m.torchButton.classList.add(Ei.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),r.appendChild(this.torchButton)},s.prototype.updateTorchCapability=function(r){this.torchController=new im(r,this,this.onTorchActionFailureCallback)},s.prototype.getTorchButton=function(){return this.torchButton},s.prototype.hide=function(){this.torchButton.style.display="none"},s.prototype.show=function(){this.torchButton.style.display="inline-block"},s.prototype.disable=function(){this.torchButton.disabled=!0},s.prototype.enable=function(){this.torchButton.disabled=!1},s.prototype.setText=function(r){this.torchButton.innerText=r},s.prototype.reset=function(){this.torchButton.innerText=Ot.torchOnButton(),this.torchController.reset()},s.create=function(r,o,c,m){var g=new s(o,m);return g.render(r,c),g},s})(),Pv=(function(){function s(r,o,c){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=o?"block":"none",r.appendChild(this.fileBasedScanRegion);var m=document.createElement("label");m.setAttribute("for",this.getFileScanInputId()),m.style.display="inline-block",this.fileBasedScanRegion.appendChild(m),this.fileSelectionButton=kr.createElement("button",Ei.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(A){m.click()}),m.append(this.fileSelectionButton),this.fileScanInput=kr.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",m.appendChild(this.fileScanInput);var g=this;this.fileScanInput.addEventListener("change",function(A){if(!(A==null||A.target==null)){var S=A.target;if(!(S.files&&S.files.length===0)){var v=S.files,T=v[0],R=T.name;g.setImageNameToButton(R),c(T)}}});var b=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(b),this.fileBasedScanRegion.addEventListener("dragenter",function(A){g.fileBasedScanRegion.style.border=g.fileBasedScanRegionActiveBorder(),A.stopPropagation(),A.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(A){g.fileBasedScanRegion.style.border=g.fileBasedScanRegionDefaultBorder(),A.stopPropagation(),A.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(A){g.fileBasedScanRegion.style.border=g.fileBasedScanRegionActiveBorder(),A.stopPropagation(),A.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(A){A.stopPropagation(),A.preventDefault(),g.fileBasedScanRegion.style.border=g.fileBasedScanRegionDefaultBorder();var S=A.dataTransfer;if(S){var v=S.files;if(!v||v.length===0)return;for(var T=!1,R=0;R<v.length;++R){var k=v.item(R);if(k){var B=/image.*/;if(k.type.match(B)){T=!0;var V=k.name;g.setImageNameToButton(V),c(k),b.innerText=Ot.dragAndDropMessage();break}}}T||(b.innerText=Ot.dragAndDropMessageOnlyImages())}})}return s.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},s.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},s.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},s.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},s.prototype.createFileBasedScanRegion=function(){var r=document.createElement("div");return r.style.textAlign="center",r.style.margin="auto",r.style.width="80%",r.style.maxWidth="600px",r.style.border=this.fileBasedScanRegionDefaultBorder(),r.style.padding="10px",r.style.marginBottom="10px",r},s.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},s.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},s.prototype.createDragAndDropMessage=function(){var r=document.createElement("div");return r.innerText=Ot.dragAndDropMessage(),r.style.fontWeight="400",r},s.prototype.setImageNameToButton=function(r){var o=20;if(r.length>o){var c=r.substring(0,8),m=r.length,g=r.substring(m-8,m);r="".concat(c,"....").concat(g)}var b=Ot.fileSelectionChooseAnother()+" - "+r;this.fileSelectionButton.innerText=b},s.prototype.setInitialValueToButton=function(){var r=Ot.fileSelectionChooseImage()+" - "+Ot.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=r},s.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},s.create=function(r,o,c){var m=new s(r,o,c);return m},s})(),zv=(function(){function s(r){this.selectElement=kr.createElement("select",Ei.CAMERA_SELECTION_SELECT_ID),this.cameras=r,this.options=[]}return s.prototype.render=function(r){var o=document.createElement("span");o.style.marginRight="10px";var c=this.cameras.length;if(c===0)throw new Error("No cameras found");if(c===1)o.style.display="none";else{var m=Ot.selectCamera();o.innerText="".concat(m," (").concat(this.cameras.length,")  ")}for(var g=1,b=0,A=this.cameras;b<A.length;b++){var S=A[b],v=S.id,T=S.label==null?v:S.label;(!T||T==="")&&(T=[Ot.anonymousCameraPrefix(),g++].join(" "));var R=document.createElement("option");R.value=v,R.innerText=T,this.options.push(R),this.selectElement.appendChild(R)}o.appendChild(this.selectElement),r.appendChild(o)},s.prototype.disable=function(){this.selectElement.disabled=!0},s.prototype.isDisabled=function(){return this.selectElement.disabled===!0},s.prototype.enable=function(){this.selectElement.disabled=!1},s.prototype.getValue=function(){return this.selectElement.value},s.prototype.hasValue=function(r){for(var o=0,c=this.options;o<c.length;o++){var m=c[o];if(m.value===r)return!0}return!1},s.prototype.setValue=function(r){if(!this.hasValue(r))throw new Error("".concat(r," is not present in the camera list."));this.selectElement.value=r},s.prototype.hasSingleItem=function(){return this.cameras.length===1},s.prototype.numCameras=function(){return this.cameras.length},s.create=function(r,o){var c=new s(o);return c.render(r),c},s})(),Fv=(function(){function s(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=kr.createElement("input",Ei.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return s.prototype.render=function(r,o){this.zoomElementContainer.style.display=o?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",r.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var c=Ot.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(c),this.rangeText.style.marginRight="10px";var m=this;this.rangeInput.addEventListener("input",function(){return m.onValueChange()}),this.rangeInput.addEventListener("change",function(){return m.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},s.prototype.onValueChange=function(){var r=Ot.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(r),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},s.prototype.setValues=function(r,o,c,m){this.rangeInput.min=r.toString(),this.rangeInput.max=o.toString(),this.rangeInput.step=m.toString(),this.rangeInput.value=c.toString(),this.onValueChange()},s.prototype.show=function(){this.zoomElementContainer.style.display="block"},s.prototype.hide=function(){this.zoomElementContainer.style.display="none"},s.prototype.setOnCameraZoomValueChangeCallback=function(r){this.onChangeCallback=r},s.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},s.create=function(r,o){var c=new s;return c.render(r,o),c},s})(),bi;(function(s){s[s.STATUS_DEFAULT=0]="STATUS_DEFAULT",s[s.STATUS_SUCCESS=1]="STATUS_SUCCESS",s[s.STATUS_WARNING=2]="STATUS_WARNING",s[s.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(bi||(bi={}));function Hv(s){return{fps:s.fps,qrbox:s.qrbox,aspectRatio:s.aspectRatio,disableFlip:s.disableFlip,videoConstraints:s.videoConstraints}}function Vv(s,r){return{formatsToSupport:s.formatsToSupport,useBarCodeDetectorIfSupported:s.useBarCodeDetectorIfSupported,experimentalFeatures:s.experimentalFeatures,verbose:r}}var Gv=(function(){function s(r,o,c){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=r,this.config=this.createConfig(o),this.verbose=c===!0,!document.getElementById(r))throw"HTML Element with id=".concat(r," not found");this.scanTypeSelector=new Ca(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new Hm(this.verbose),this.persistedDataManager=new Dv,o.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return s.prototype.render=function(r,o){var c=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(g,b){if(r)r(g,b);else{if(c.lastMatchFound===g)return;c.lastMatchFound=g,c.setHeaderMessage(Ot.lastMatch(g),bi.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(g,b){o&&o(g,b)};var m=document.getElementById(this.elementId);if(!m)throw"HTML Element with id=".concat(this.elementId," not found");m.innerHTML="",this.createBasicLayout(m),this.html5Qrcode=new $g(this.getScanRegionId(),Vv(this.config,this.verbose))},s.prototype.pause=function(r){(hr(r)||r!==!0)&&(r=!1),this.getHtml5QrcodeOrFail().pause(r)},s.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},s.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},s.prototype.clear=function(){var r=this,o=function(){var c=document.getElementById(r.elementId);c&&(c.innerHTML="",r.resetBasicLayout(c))};return this.html5Qrcode?new Promise(function(c,m){if(!r.html5Qrcode){c();return}r.html5Qrcode.isScanning?r.html5Qrcode.stop().then(function(g){if(!r.html5Qrcode){c();return}r.html5Qrcode.clear(),o(),c()}).catch(function(g){r.verbose&&r.logger.logError("Unable to stop qrcode scanner",g),m(g)}):(r.html5Qrcode.clear(),o(),c())}):Promise.resolve()},s.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},s.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},s.prototype.applyVideoConstraints=function(r){return this.getHtml5QrcodeOrFail().applyVideoConstraints(r)},s.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},s.prototype.createConfig=function(r){return r?(r.fps||(r.fps=Ki.SCAN_DEFAULT_FPS),r.rememberLastUsedCamera!==!Ki.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(r.rememberLastUsedCamera=Ki.DEFAULT_REMEMBER_LAST_CAMERA_USED),r.supportedScanTypes||(r.supportedScanTypes=Ki.DEFAULT_SUPPORTED_SCAN_TYPE),r):{fps:Ki.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Ki.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Ki.DEFAULT_SUPPORTED_SCAN_TYPE}},s.prototype.createBasicLayout=function(r){r.style.position="relative",r.style.padding="0px",r.style.border="1px solid silver",this.createHeader(r);var o=document.createElement("div"),c=this.getScanRegionId();o.id=c,o.style.width="100%",o.style.minHeight="100px",o.style.textAlign="center",r.appendChild(o),Ca.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var m=document.createElement("div"),g=this.getDashboardId();m.id=g,m.style.width="100%",r.appendChild(m),this.setupInitialDashboard(m)},s.prototype.resetBasicLayout=function(r){r.style.border="none"},s.prototype.setupInitialDashboard=function(r){this.createSection(r),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},s.prototype.createHeader=function(r){var o=document.createElement("div");o.style.textAlign="left",o.style.margin="0px",r.appendChild(o);var c=new Bv;c.renderInto(o);var m=document.createElement("div");m.id=this.getHeaderMessageContainerId(),m.style.display="none",m.style.textAlign="center",m.style.fontSize="14px",m.style.padding="2px 10px",m.style.margin="4px",m.style.borderTop="1px solid #f6f6f6",o.appendChild(m)},s.prototype.createSection=function(r){var o=document.createElement("div");o.id=this.getDashboardSectionId(),o.style.width="100%",o.style.padding="10px 0px 10px 0px",o.style.textAlign="left",r.appendChild(o)},s.prototype.createCameraListUi=function(r,o,c){var m=this;m.showHideScanTypeSwapLink(!1),m.setHeaderMessage(Ot.cameraPermissionRequesting());var g=function(){c||m.createPermissionButton(r,o)};$g.getCameras().then(function(b){m.persistedDataManager.setHasPermission(!0),m.showHideScanTypeSwapLink(!0),m.resetHeaderMessage(),b&&b.length>0?(r.removeChild(o),m.renderCameraSelection(b)):(m.setHeaderMessage(Ot.noCameraFound(),bi.STATUS_WARNING),g())}).catch(function(b){m.persistedDataManager.setHasPermission(!1),c?c.disabled=!1:g(),m.setHeaderMessage(b,bi.STATUS_WARNING),m.showHideScanTypeSwapLink(!0)})},s.prototype.createPermissionButton=function(r,o){var c=this,m=kr.createElement("button",this.getCameraPermissionButtonId());m.innerText=Ot.cameraPermissionTitle(),m.addEventListener("click",function(){m.disabled=!0,c.createCameraListUi(r,o,m)}),o.appendChild(m)},s.prototype.createPermissionsUi=function(r,o){var c=this;if(Ca.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){nm.hasPermissions().then(function(m){m?c.createCameraListUi(r,o):(c.persistedDataManager.setHasPermission(!1),c.createPermissionButton(r,o))}).catch(function(m){c.persistedDataManager.setHasPermission(!1),c.createPermissionButton(r,o)});return}this.createPermissionButton(r,o)},s.prototype.createSectionControlPanel=function(){var r=document.getElementById(this.getDashboardSectionId()),o=document.createElement("div");r.appendChild(o);var c=document.createElement("div");c.id=this.getDashboardSectionCameraScanRegionId(),c.style.display=Ca.isCameraScanType(this.currentScanType)?"block":"none",o.appendChild(c);var m=document.createElement("div");m.style.textAlign="center",c.appendChild(m),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(c,m),this.renderFileScanUi(o)},s.prototype.renderFileScanUi=function(r){var o=Ca.isFileScanType(this.currentScanType),c=this,m=function(g){if(!c.html5Qrcode)throw"html5Qrcode not defined";Ca.isFileScanType(c.currentScanType)&&(c.setHeaderMessage(Ot.loadingImage()),c.html5Qrcode.scanFileV2(g,!0).then(function(b){c.resetHeaderMessage(),c.qrCodeSuccessCallback(b.decodedText,b)}).catch(function(b){c.setHeaderMessage(b,bi.STATUS_WARNING),c.qrCodeErrorCallback(b,Fm.createFrom(b))}))};this.fileSelectionUi=Pv.create(r,o,m)},s.prototype.renderCameraSelection=function(r){var o=this,c=this,m=document.getElementById(this.getDashboardSectionCameraScanRegionId());m.style.textAlign="center";var g=Fv.create(m,!1),b=function(H){var Z=H.zoomFeature();if(Z.isSupported()){g.setOnCameraZoomValueChangeCallback(function($){Z.apply($)});var le=1;o.config.defaultZoomValueIfSupported&&(le=o.config.defaultZoomValueIfSupported),le=lv(le,Z.min(),Z.max()),g.setValues(Z.min(),Z.max(),le,Z.step()),g.show()}},A=zv.create(m,r),S=document.createElement("span"),v=kr.createElement("button",Ei.CAMERA_START_BUTTON_ID);v.innerText=Ot.scanButtonStartScanningText(),S.appendChild(v);var T=kr.createElement("button",Ei.CAMERA_STOP_BUTTON_ID);T.innerText=Ot.scanButtonStopScanningText(),T.style.display="none",T.disabled=!0,S.appendChild(T);var R,k=function(H){if(!H.torchFeature().isSupported()){R&&R.hide();return}R?R.updateTorchCapability(H.torchFeature()):R=jv.create(S,H.torchFeature(),{display:"none",marginLeft:"5px"},function(Z){c.setHeaderMessage(Z,bi.STATUS_WARNING)}),R.show()};m.appendChild(S);var B=function(H){H||(v.style.display="none"),v.innerText=Ot.scanButtonStartScanningText(),v.style.opacity="1",v.disabled=!1,H&&(v.style.display="inline-block")};if(v.addEventListener("click",function(H){v.innerText=Ot.scanButtonScanningStarting(),A.disable(),v.disabled=!0,v.style.opacity="0.5",o.scanTypeSelector.hasMoreThanOneScanType()&&c.showHideScanTypeSwapLink(!1),c.resetHeaderMessage();var Z=A.getValue();c.persistedDataManager.setLastUsedCameraId(Z),c.html5Qrcode.start(Z,Hv(c.config),c.qrCodeSuccessCallback,c.qrCodeErrorCallback).then(function(le){T.disabled=!1,T.style.display="inline-block",B(!1);var $=c.html5Qrcode.getRunningTrackCameraCapabilities();o.config.showTorchButtonIfSupported===!0&&k($),o.config.showZoomSliderIfSupported===!0&&b($)}).catch(function(le){c.showHideScanTypeSwapLink(!0),A.enable(),B(!0),c.setHeaderMessage(le,bi.STATUS_WARNING)})}),A.hasSingleItem()&&v.click(),T.addEventListener("click",function(H){if(!c.html5Qrcode)throw"html5Qrcode not defined";T.disabled=!0,c.html5Qrcode.stop().then(function(Z){o.scanTypeSelector.hasMoreThanOneScanType()&&c.showHideScanTypeSwapLink(!0),A.enable(),v.disabled=!1,T.style.display="none",v.style.display="inline-block",R&&(R.reset(),R.hide()),g.removeOnCameraZoomValueChangeCallback(),g.hide(),c.insertCameraScanImageToScanRegion()}).catch(function(Z){T.disabled=!1,c.setHeaderMessage(Z,bi.STATUS_WARNING)})}),c.persistedDataManager.getLastUsedCameraId()){var V=c.persistedDataManager.getLastUsedCameraId();A.hasValue(V)?(A.setValue(V),v.click()):c.persistedDataManager.resetLastUsedCameraId()}},s.prototype.createSectionSwap=function(){var r=this,o=Ot.textIfCameraScanSelected(),c=Ot.textIfFileScanSelected(),m=document.getElementById(this.getDashboardSectionId()),g=document.createElement("div");g.style.textAlign="center";var b=kr.createElement("span",this.getDashboardSectionSwapLinkId());b.style.textDecoration="underline",b.style.cursor="pointer",b.innerText=Ca.isCameraScanType(this.currentScanType)?o:c,b.addEventListener("click",function(){if(!r.sectionSwapAllowed){r.verbose&&r.logger.logError("Section swap called when not allowed");return}r.resetHeaderMessage(),r.fileSelectionUi.resetValue(),r.sectionSwapAllowed=!1,Ca.isCameraScanType(r.currentScanType)?(r.clearScanRegion(),r.getCameraScanRegion().style.display="none",r.fileSelectionUi.show(),b.innerText=c,r.currentScanType=Na.SCAN_TYPE_FILE,r.insertFileScanImageToScanRegion()):(r.clearScanRegion(),r.getCameraScanRegion().style.display="block",r.fileSelectionUi.hide(),b.innerText=o,r.currentScanType=Na.SCAN_TYPE_CAMERA,r.insertCameraScanImageToScanRegion(),r.startCameraScanIfPermissionExistsOnSwap()),r.sectionSwapAllowed=!0}),g.appendChild(b),m.appendChild(g)},s.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var r=this,o=this;if(this.persistedDataManager.hasCameraPermissions()){nm.hasPermissions().then(function(c){if(c){var m=document.getElementById(o.getCameraPermissionButtonId());if(!m)throw r.logger.logError("Permission button not found, fail;"),"Permission button not found";m.click()}else o.persistedDataManager.setHasPermission(!1)}).catch(function(c){o.persistedDataManager.setHasPermission(!1)});return}},s.prototype.resetHeaderMessage=function(){var r=document.getElementById(this.getHeaderMessageContainerId());r.style.display="none"},s.prototype.setHeaderMessage=function(r,o){o||(o=bi.STATUS_DEFAULT);var c=this.getHeaderMessageDiv();switch(c.innerText=r,c.style.display="block",o){case bi.STATUS_SUCCESS:c.style.background="rgba(106, 175, 80, 0.26)",c.style.color="#477735";break;case bi.STATUS_WARNING:c.style.background="rgba(203, 36, 49, 0.14)",c.style.color="#cb2431";break;case bi.STATUS_DEFAULT:default:c.style.background="rgba(0, 0, 0, 0)",c.style.color="rgb(17, 17, 17)";break}},s.prototype.showHideScanTypeSwapLink=function(r){this.scanTypeSelector.hasMoreThanOneScanType()&&(r!==!0&&(r=!1),this.sectionSwapAllowed=r,this.getDashboardSectionSwapLink().style.display=r?"inline-block":"none")},s.prototype.insertCameraScanImageToScanRegion=function(){var r=this,o=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){o.innerHTML="<br>",o.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(c){o.innerHTML="<br>",o.appendChild(r.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=Nv,this.cameraScanImage.alt=Ot.cameraScanAltText()},s.prototype.insertFileScanImageToScanRegion=function(){var r=this,o=document.getElementById(this.getScanRegionId());if(this.fileScanImage){o.innerHTML="<br>",o.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(c){o.innerHTML="<br>",o.appendChild(r.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=Rv,this.fileScanImage.alt=Ot.fileScanAltText()},s.prototype.clearScanRegion=function(){var r=document.getElementById(this.getScanRegionId());r.innerHTML=""},s.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},s.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},s.prototype.getDashboardSectionSwapLinkId=function(){return Ei.SCAN_TYPE_CHANGE_ANCHOR_ID},s.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},s.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},s.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},s.prototype.getCameraPermissionButtonId=function(){return Ei.CAMERA_PERMISSION_BUTTON_ID},s.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},s.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},s.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},s})();const Yv=({onScanSuccess:s,onScanFailure:r})=>{const o=J.useRef(null);return J.useEffect(()=>(o.current=new Gv("reader",{fps:10,qrbox:{width:250,height:250}},!1),o.current.render(c=>{s(c)},c=>{r&&r(c)}),()=>{o.current&&o.current.clear().catch(c=>console.error("Failed to clear html5-qrcode scanner. ",c))}),[]),G.jsxs("div",{className:"w-full max-w-md mx-auto",children:[G.jsx("div",{id:"reader",style:{width:"100%"}}),G.jsx("p",{className:"text-center text-sm text-gray-500 mt-2",children:"Pointez la camra vers un code-barres"})]})},qv=()=>{const[s,r]=J.useState("create"),[o,c]=J.useState(null),{user:m}=Wf(),[g,b]=J.useState({nom:"",service_perimetre:"",date_debut:new Date().toISOString().split("T")[0]}),[A,S]=J.useState([]),[v,T]=J.useState(null),R=async B=>{B.preventDefault();try{const V=await Fg.create(g);c(V.id),r("scan"),alert(`Campagne "${V.nom}" cre !`)}catch(V){alert("Erreur cration campagne"),console.error(V)}},k=async B=>{if(!(!o||!m))try{const V=await Fg.scan({inventaire_id:o,code_barres:B,user_id:m.id});T({status:"success",msg:`Scann: ${V.nom}`,item:V}),S(Z=>[V,...Z]),new Audio("/beep.mp3").play().catch(()=>{})}catch(V){console.error(V);const H=V.message==="Matriel non trouv"?"Matriel inconnu":"Erreur scan";T({status:"error",msg:H})}};return G.jsxs("div",{children:[G.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Campagnes d'Inventaire"}),G.jsxs("div",{className:"flex space-x-4 mb-6",children:[G.jsxs("button",{className:`px-4 py-2 rounded ${s==="create"?"bg-blue-600 text-white":"bg-white"}`,onClick:()=>r("create"),children:[G.jsx(ox,{className:"inline w-4 h-4 mr-2"}),"Nouvelle Campagne"]}),G.jsxs("button",{className:`px-4 py-2 rounded ${s==="scan"?"bg-blue-600 text-white":"bg-white"} ${o?"":"opacity-50 cursor-not-allowed"}`,onClick:()=>o&&r("scan"),disabled:!o,children:[G.jsx(xx,{className:"inline w-4 h-4 mr-2"}),"Mode Scan"]})]}),s==="create"&&G.jsxs("div",{className:"bg-white p-6 rounded shadow max-w-lg",children:[G.jsx("h2",{className:"text-xl mb-4",children:"Dmarrer un nouvel inventaire"}),G.jsxs("form",{onSubmit:R,className:"space-y-4",children:[G.jsxs("div",{children:[G.jsx("label",{className:"block text-sm font-medium",children:"Nom de la campagne"}),G.jsx("input",{type:"text",className:"w-full border p-2 rounded",required:!0,value:g.nom,onChange:B=>b({...g,nom:B.target.value}),placeholder:"ex: Inventaire 2026 - Ple A"})]}),G.jsxs("div",{children:[G.jsx("label",{className:"block text-sm font-medium",children:"Service / Primtre"}),G.jsx("input",{type:"text",className:"w-full border p-2 rounded",value:g.service_perimetre,onChange:B=>b({...g,service_perimetre:B.target.value})})]}),G.jsxs("div",{children:[G.jsx("label",{className:"block text-sm font-medium",children:"Date Dbut"}),G.jsx("input",{type:"date",className:"w-full border p-2 rounded",required:!0,value:g.date_debut,onChange:B=>b({...g,date_debut:B.target.value})})]}),G.jsx("button",{type:"submit",className:"w-full bg-green-600 text-white py-2 rounded font-bold hover:bg-green-700",children:"Crer et Commencer"})]})]}),s==="scan"&&G.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[G.jsxs("div",{className:"bg-white p-4 rounded shadow",children:[G.jsx("h2",{className:"text-xl mb-4 text-center font-bold",children:"Scanner"}),G.jsx(Yv,{onScanSuccess:k}),v&&G.jsxs("div",{className:`mt-4 p-4 rounded text-center font-bold ${v.status==="success"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[v.status==="success"?G.jsx(sx,{className:"inline w-6 h-6 mr-2"}):G.jsx(Ex,{className:"inline w-6 h-6 mr-2"}),v.msg]})]}),G.jsxs("div",{className:"bg-white p-4 rounded shadow",children:[G.jsx("h2",{className:"text-xl mb-4",children:"Derniers articles scanns"}),G.jsxs("ul",{className:"divide-y divide-gray-200",children:[A.map((B,V)=>G.jsxs("li",{className:"py-2 flex justify-between",children:[G.jsxs("div",{children:[G.jsx("span",{className:"font-bold block",children:B.nom}),G.jsx("span",{className:"text-sm text-gray-500",children:B.numero_inventaire})]}),G.jsx("span",{className:"text-green-600 font-bold",children:"OK"})]},V)),A.length===0&&G.jsx("p",{className:"text-gray-500 italic",children:"Aucun scan pour le moment."})]})]})]})]})},Xv=()=>{const[s,r]=J.useState(""),[o,c]=J.useState(""),[m,g]=J.useState(!1),b=Ff(),A=async S=>{S.preventDefault(),g(!0);const{error:v}=await jn.auth.signInWithPassword({email:s,password:o});v?alert(v.message):b("/"),g(!1)};return G.jsx("div",{className:"flex h-screen items-center justify-center bg-gray-100",children:G.jsxs("div",{className:"w-full max-w-md bg-white p-8 rounded shadow-lg",children:[G.jsx("h1",{className:"text-2xl font-bold mb-6 text-center text-blue-600",children:"Hpital Inventaire"}),G.jsx("h2",{className:"text-xl mb-4 text-center",children:"Connexion"}),G.jsxs("form",{onSubmit:A,className:"space-y-4",children:[G.jsxs("div",{children:[G.jsx("label",{className:"block text-gray-700",children:"Email"}),G.jsx("input",{type:"email",className:"w-full border p-2 rounded focus:outline-none focus:border-blue-500",value:s,onChange:S=>r(S.target.value),required:!0})]}),G.jsxs("div",{children:[G.jsx("label",{className:"block text-gray-700",children:"Mot de passe"}),G.jsx("input",{type:"password",className:"w-full border p-2 rounded focus:outline-none focus:border-blue-500",value:o,onChange:S=>c(S.target.value),required:!0})]}),G.jsx("button",{type:"submit",disabled:m,className:"w-full bg-blue-600 text-white p-2 rounded hover:bg-blue-700 disabled:opacity-50",children:m?"Chargement...":"Se connecter"})]})]})})},Wv=({allowedRoles:s})=>{const{user:r,role:o,loading:c}=Wf();return c?G.jsx("div",{children:"Chargement..."}):r?s&&o&&!s.includes(o)?G.jsx(Sf,{to:"/unauthorized",replace:!0}):G.jsx(ym,{}):G.jsx(Sf,{to:"/login",replace:!0})};function Zv(){return console.log("App.tsx full rendering"),G.jsx(Gy,{children:G.jsx(rv,{children:G.jsxs(by,{children:[G.jsx(_a,{path:"/login",element:G.jsx(Xv,{})}),G.jsx(_a,{element:G.jsx(Wv,{}),children:G.jsxs(_a,{path:"/",element:G.jsx(ev,{}),children:[G.jsx(_a,{index:!0,element:G.jsx(nv,{})}),G.jsx(_a,{path:"materiels",element:G.jsx(av,{})}),G.jsx(_a,{path:"inventaire",element:G.jsx(qv,{})})]})}),G.jsx(_a,{path:"*",element:G.jsx(Sf,{to:"/",replace:!0})})]})})})}window.onerror=function(s,r,o,c,m){const g=`
    <div style="background:red; color:white; padding:20px; font-size:16px; position:fixed; top:0; left:0; width:100%; z-index:9999;">
      <h1>CRITICAL ERROR</h1>
      <p><strong>Message:</strong> ${s}</p>
      <p><strong>Location:</strong> ${r}:${o}:${c}</p>
      <p><strong>Stack:</strong> ${m?.stack}</p>
    </div>
  `;return document.body.innerHTML+=g,console.error("Global error caught:",m),!1};window.onunhandledrejection=function(s){const r=`
    <div style="background:darkred; color:white; padding:20px; font-size:16px; position:fixed; bottom:0; left:0; width:100%; z-index:9999;">
      <h1>UNHANDLED PROMISE REJECTION</h1>
      <p><strong>Reason:</strong> ${s.reason}</p>
    </div>
  `;document.body.innerHTML+=r,console.error("Unhandled rejection:",s.reason)};class Kv extends J.Component{constructor(r){super(r),this.state={hasError:!1,error:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,o){console.error("Uncaught error:",r,o)}render(){return this.state.hasError?G.jsxs("div",{style:{padding:"20px",color:"red",fontFamily:"monospace"},children:[G.jsx("h1",{children:"React Info: Something went wrong."}),G.jsx("pre",{children:this.state.error?.toString()}),G.jsx("pre",{children:this.state.error?.stack})]}):this.props.children}}vp.createRoot(document.getElementById("root")).render(G.jsx(J.StrictMode,{children:G.jsx(Kv,{children:G.jsx(Zv,{})})}));
